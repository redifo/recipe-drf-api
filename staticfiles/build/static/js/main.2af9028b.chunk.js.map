{"version":3,"sources":["styles/Footer.module.css","styles/Ratings.module.css","styles/Profile.module.css","styles/Avatar.module.css","styles/Asset.module.css","styles/Button.module.css","assets/img/logo-removebg.png","api/axiosDefaults.js","utils/ToastManager.js","utils/utils.js","contexts/CurrentUserContext.js","components/Avatar.js","hooks/useClickOutsideToggle.js","components/Asset.js","components/Notifications.js","components/NavBar.js","components/Footer.js","assets/img/pancakes.webp","hooks/useRedirect.js","pages/auth/SignUpForm.js","pages/auth/SignInForm.js","assets/img/upload.png","pages/recipes/RecipeCreateForm.js","pages/recipes/RecipeCard.js","pages/recipes/RecipeGrid.js","pages/reviews/ReviewEditForm.js","components/MoreDropDown.js","pages/reviews/Review.js","pages/reviews/ReviewCreateForm.js","pages/ratings/RateRecipe.js","pages/recipes/RecipePage.js","pages/recipes/RecipeEditForm.js","contexts/ProfileDataContext.js","assets/img/no-results.png","pages/profiles/ProfilePage.js","pages/profiles/UsernameForm.js","pages/profiles/UserPasswordForm.js","pages/profiles/ProfileEditForm.js","pages/profiles/Profile.js","pages/profiles/PopularProfiles.js","pages/home/HomePage.js","components/NotFound.js","pages/profiles/FollowedProfiles.js","App.js","reportWebVitals.js","index.js","styles/SignInUpForm.module.css","App.module.css","styles/Recipe.module.css","styles/NavBar.module.css","styles/ReviewCreateEditForm.module.css","styles/RecipeGrid.module.css","styles/Notifications.module.css","styles/Home.module.css","styles/RecipeCreateEditForm.module.css","styles/Review.module.css","styles/MoreDropdown.module.css","styles/ProfilePage.module.css"],"names":["module","exports","axios","defaults","baseURL","headers","post","withCredentials","axiosReq","create","axiosRes","toast","configure","showSuccess","message","success","position","POSITION","TOP_CENTER","autoClose","draggable","hideProgressBar","closeOnClick","pauseOnHover","showError","error","showWarning","warn","fetchMoreData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resourceUrl","setResource","_yield$axiosReq$get","data","wrap","_context","prev","next","get","sent","prevResource","_objectSpread","results","concat","_toConsumableArray","t0","stop","_x","_x2","apply","arguments","followHelper","profile","clickedProfile","following_id","id","followers_count","is_owner","following_count","unfollowHelper","removeTokenTimestamp","localStorage","removeItem","CurrentUserContext","createContext","SetCurrentUserContext","useCurrentUser","useContext","useSetCurrentUser","CurrentUserProvider","children","_useState","useState","_useState2","_slicedToArray","currentUser","setCurrentUser","history","useHistory","handleMount","_ref2","_yield$axiosRes$get","useEffect","useMemo","interceptors","request","use","_ref3","_callee2","config","_context2","getItem","prevCurrentUser","push","abrupt","err","Promise","reject","response","_ref4","_callee3","_err$response","_context3","status","_jsx","Provider","value","Avatar","src","_ref$height","height","text","_jsxs","className","styles","width","alt","useClickOutsideToggle","exceptionRefs","expanded","setExpanded","ref","useRef","handleClickOutside","event","current","contains","target","some","exceptionRef","document","addEventListener","removeEventListener","Asset","spinner","Spinner","animation","Notifications","notifications","setNotifications","_useState3","_useState4","hasLoaded","setHasLoaded","fetchNotifications","profile_id","markAsRead","notificationId","patch","is_read","map","notif","deleteNotification","delete","filter","NotificationsContainer","ListGroup","length","notification","Item","NotificationItem","NotificationItemDiv","onClick","recipeId","recipe","sender_name","notification_type_display","ActionButtons","Button","variant","size","NoNotifications","NavBar","dropdownRef","notificationRef","_useClickOutsideToggl","handleSignOut","loggedOutIcons","_Fragment","NavLink","activeClassName","Active","to","loggedInIcons","LoggedInIcons","NavDropdown","title","profile_image","username","as","Divider","alignRight","Navbar","expand","fixed","Container","fluid","Brand","logo","Toggle","Collapse","Nav","exact","FooterPage","MDBFooter","style","backgroundColor","MDBContainer","MDBRow","MDBCol","md","MDBIcon","icon","Date","getFullYear","href","SocialIcon","fab","useRedirect","userAuthStatus","SignUpForm","_errors$username","_errors$password","_errors$password2","_errors$non_field_err","password1","password2","signUpData","setSignUpData","errors","setErrors","handleChange","_defineProperty","name","handleSubmit","preventDefault","Wrapper","Row","Col","Header","Form","onSubmit","Group","FormGroup","controlId","Label","Control","Input","type","placeholder","onChange","idx","Alert","btnStyles","Wide","Yellow","non_field_errors","Link","SignUpCol","Image","appStyles","FillerImage","pancakeImage","SignInForm","password","SignInData","setSignInData","_yield$axios$post","user","SignInCol","RecipeCreateForm","_errors$title","_errors$description","_errors$ingredients","_errors$instructions","_errors$image","imageFile","setImageFile","_useState5","_useState6","imagePreview","setImagePreview","_useState7","_useState8","availableTags","setAvailableTags","_useState9","_useState10","selectedTags","setSelectedTags","then","catch","_useState11","description","ingredients","instructions","preparation_time","cooking_time","servings","image","tags","_useState12","recipeData","setRecipeData","_useDropzone","useDropzone","onDrop","acceptedFiles","file","URL","createObjectURL","accept","maxSize","maxFiles","getRootProps","getInputProps","_event$target","numValue","Number","formData","_yield$axiosReq$post","_err$response2","errorMessages","_err$response3","FormData","append","forEach","tag","Object","values","flat","recipeFields","RecipeFields","rows","tagId","includes","t","TagButton","Large","Red","goBack","Content","FormLabel","rounded","Upload","RecipeCard","ratings_average","ratings_count","initialIsFavorited","is_favorited","initialFavoriteId","favorite_id","isFavorited","setIsFavorited","favoriteId","setFavoriteId","handleFavorite","_yield$axiosRes$post","stopPropagation","Card","Img","Body","Title","CardBottom","Array","_","i","Stars","HeartButton","e","RecipeGrid","queryParam","URLSearchParams","useLocation","search","recipes","setRecipes","query","setQuery","setTags","showFilters","setShowFilters","fetchTags","_yield$axios$get","fetchRecipes","tagsFilter","_yield$axios$get2","join","delayDebounce","setTimeout","clearTimeout","MainRow","FilterCol","lg","display","Check","label","checked","SearchIcon","SearchBar","LoadMoreBtnRow","ReviewEditForm","props","content","setShowEditForm","setReviews","formContent","setFormContent","put","trim","prevReviews","review","updated_at","disabled","ThreeDots","React","forwardRef","EditButton","EditProfileButton","MoreDropdown","handleEdit","handleDelete","show","setShow","handleClose","Dropdown","drop","Menu","popperConfig","strategy","DropdownItem","Modal","onHide","closeButton","Footer","ProfileEditDropdown","Absolute","Review","likes_count","dislikes_count","initialLikeId","like_id","initialIsLike","is_like","likeId","isLike","likesCount","dislikesCount","likeState","setLikeState","showEditForm","showImageModal","setShowImageModal","handleLikeToggle","newLikeState","_yield$axiosRes$put","_data","Media","Owner","ReviewImage","thumbnail","centered","ReviewImageModal","ReviewCreateForm","setRecipe","profileImage","profileId","setText","setImage","preview","setPreview","reviewWithDefaults","prevRecipe","reviews_count","InputGroup","files","ImagePreview","RateRecipe","initialRating","rating","setRating","handleRating","newScore","score","handleRemoveRating","StarsContainer","RecipePage","useParams","isLoading","setIsLoading","reviews","_useState13","_useState14","favoritesCount","setFavoritesCount","fetchData","_yield$Promise$all","_yield$Promise$all2","recipeRes","tagsRes","reviewsRes","all","favorites_count","RecipeSummary","xs","xl","RecipePageImageContainer","RecipePageImage","RatingCounter","xxl","Headings","TagsText","initial_rating","RecipeEditForm","_recipeRes$data","_title","_description","_ingredients","_preparation_time","_cooking_time","_servings","_instructions","Delete","ProfileDataContext","SetProfileDataContext","useProfileData","useSetProfileData","ProfileDataProvider","pageProfile","popularProfiles","followedProfiles","profileData","setProfileData","handleFollow","followed","prevState","handleUnfollow","fetchFollowedProfiles","_ref5","_callee4","_context4","ProfilePage","profileRecipes","setProfileRecipes","profileFavorites","setProfileFavorites","displayedFavoritesCount","setDisplayedFavoritesCount","displayedRecipesCount","setDisplayedRecipesCount","_useSetProfileData","profileResponse","recipesResponse","profileFavoritesResponse","profileDetails","noGutters","ProfileImage","roundedCircle","Username","UserBio","bio","BlackOutline","Black","recipes_count","favoritedList","slice","sm","NoResults","newData","prevCount","recipeList","UsernameForm","setUsername","_currentUser$profile_","toString","prevUser","Blue","UserPasswordForm","_errors$new_password","_errors$new_password2","new_password1","new_password2","userData","setUserData","ProfileEditForm","_errors$bio","_name","_bio","_image","_imageFile$current","_imageFile$current2","_yield$axiosReq$put","textFields","htmlFor","File","Bio","Profile","mobile","_props$imageSize","imageSize","card","WordBreak","PopularProfiles","SwiperCore","Autoplay","Navigation","Pagination","Swiper","autoplay","delay","disableOnInteraction","spaceBetween","slidesPerView","breakpoints","navigation","SwiperSlide","Home","searchQuery","setSearchQuery","mostFavoritedRecipes","setMostFavoritedRecipes","latestRecipes","setLatestRecipes","mostFavoritedResponse","latestResponse","handleSearch","encodeURIComponent","SearchRow","SearchInputGroup","FormControl","SearchInput","onKeyUp","key","Append","SearchButton","NotFound","FollowedProfiles","_useProfileData","App","Main","Switch","Route","path","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","Router","getElementById"],"mappings":"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","file":"static/js/main.2af9028b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"SocialIcon\":\"Footer_SocialIcon__Q7Wc6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Stars\":\"Ratings_Stars__1da73\",\"StarsContainer\":\"Ratings_StarsContainer__3GH_k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Profile_Container__23hrL\",\"WordBreak\":\"Profile_WordBreak__1Qf-i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Avatar_Avatar__374Vg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Asset\":\"Asset_Asset__1SBPY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1xnQg\",\"Wide\":\"Button_Wide__43Xqo\",\"Blue\":\"Button_Blue__2t5gu\",\"BlueOutline\":\"Button_BlueOutline__1snG2\",\"Yellow\":\"Button_Yellow__3muUT\",\"Black\":\"Button_Black__jiiZ9\",\"BlackOutline\":\"Button_BlackOutline__NAtMo\",\"TagButton\":\"Button_TagButton__2HQq1\",\"Large\":\"Button_Large__3ROpZ\",\"Red\":\"Button_Red__3twu4\",\"Delete\":\"Button_Delete__29wZU\"};","export default __webpack_public_path__ + \"static/media/logo-removebg.e817a1fe.png\";","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"/api\";\r\naxios.defaults.headers.post['Content-Type'] = \"multipart/form-data\";\r\naxios.defaults.withCredentials = true;\r\n\r\n\r\nexport const axiosReq = axios.create();\r\nexport const axiosRes = axios.create();\r\n","import { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\ntoast.configure();\r\n\r\nexport const showSuccess = (message) => {\r\n    toast.success(message, {\r\n        position: toast.POSITION.TOP_CENTER,\r\n        autoClose: 5000,\r\n        draggable: true,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n    });\r\n};\r\n\r\nexport const showError = (message) => {\r\n    toast.error(message, {\r\n        position: toast.POSITION.TOP_CENTER,\r\n        autoClose: 5000,\r\n        draggable: true,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n    });\r\n};\r\n\r\nexport const showWarning = (message) => {\r\n    toast.warn(message, {\r\n        position: toast.POSITION.TOP_CENTER,\r\n        autoClose: 5000,\r\n        draggable: true,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n    });\r\n};\r\n","import jwtDecode from \"jwt-decode\";\r\nimport { axiosReq } from \"../api/axiosDefaults\";\r\nimport { showError } from \"./ToastManager\";\r\n\r\nexport const fetchMoreData = async (resourceUrl, setResource) => {\r\n  try {\r\n    const { data } = await axiosReq.get(resourceUrl);\r\n    setResource(prevResource => ({\r\n      ...prevResource,\r\n      next: data.next,\r\n      results: [...prevResource.results, ...data.results]\r\n    }));\r\n  } catch (err) {\r\n    showError(\"Error loading more data:\", err.message);\r\n  }\r\n};\r\n\r\n\r\nexport const followHelper = (profile, clickedProfile, following_id) => {\r\n  return profile.id === clickedProfile.id\r\n    ? // This is the profile I clicked on,\r\n      // update its followers count and set its following id\r\n      {\r\n        ...profile,\r\n        followers_count: profile.followers_count + 1,\r\n        following_id,\r\n      }\r\n    : profile.is_owner\r\n    ? // This is the profile of the logged in user\r\n      // update its following count\r\n      { ...profile, following_count: profile.following_count + 1 }\r\n    : // this is not the profile the user clicked on or the profile\r\n      // the user owns, so just return it unchanged\r\n      profile;\r\n};\r\n\r\nexport const unfollowHelper = (profile, clickedProfile) => {\r\n  return profile.id === clickedProfile.id\r\n    ? // This is the profile I clicked on,\r\n      // update its followers count and set its following id\r\n      {\r\n        ...profile,\r\n        followers_count: profile.followers_count - 1,\r\n        following_id: null,\r\n      }\r\n    : profile.is_owner\r\n    ? // This is the profile of the logged in user\r\n      // update its following count\r\n      { ...profile, following_count: profile.following_count - 1 }\r\n    : // this is not the profile the user clicked on or the profile\r\n      // the user owns, so just return it unchanged\r\n      profile;\r\n};\r\n\r\nexport const setTokenTimestamp = (data) => {\r\n  const refreshTokenTimestamp = jwtDecode(data?.refresh_token).exp;\r\n  localStorage.setItem(\"refreshTokenTimestamp\", refreshTokenTimestamp);\r\n};\r\n\r\nexport const shouldRefreshToken = () => {\r\n  return !!localStorage.getItem(\"refreshTokenTimestamp\");\r\n};\r\n\r\nexport const removeTokenTimestamp = () => {\r\n  localStorage.removeItem(\"refreshTokenTimestamp\");\r\n};","import { createContext, useContext, useEffect, useMemo, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { axiosReq, axiosRes } from \"../api/axiosDefaults\";\r\nimport { useHistory } from \"react-router\";\r\nimport { removeTokenTimestamp, shouldRefreshToken } from \"../utils/utils\";\r\nimport { showError } from \"../utils/ToastManager\";\r\n\r\nexport const CurrentUserContext = createContext();\r\nexport const SetCurrentUserContext = createContext();\r\n\r\nexport const useCurrentUser = () => useContext(CurrentUserContext);\r\nexport const useSetCurrentUser = () => useContext(SetCurrentUserContext);\r\n\r\nexport const CurrentUserProvider = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const history = useHistory();\r\n\r\n  const handleMount = async () => {\r\n    try {\r\n      const { data } = await axiosRes.get(\"dj-rest-auth/user/\");\r\n      setCurrentUser(data);\r\n    } catch (err) {\r\n        showError(err.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleMount();\r\n  }, []);\r\n\r\n  useMemo(() => {\r\n    axiosReq.interceptors.request.use(\r\n      async (config) => {\r\n        if (shouldRefreshToken()) {\r\n          try {\r\n            await axios.post(\"/dj-rest-auth/token/refresh/\");\r\n          } catch (err) {\r\n            setCurrentUser((prevCurrentUser) => {\r\n              if (prevCurrentUser) {\r\n                history.push(\"/signin\");\r\n              }\r\n              return null;\r\n            });\r\n            removeTokenTimestamp();\r\n            return config;\r\n          }\r\n        }\r\n        return config;\r\n      },\r\n      (err) => {\r\n        return Promise.reject(err);\r\n      }\r\n    );\r\n\r\n    axiosRes.interceptors.response.use(\r\n      (response) => response,\r\n      async (err) => {\r\n        if (err.response?.status === 401) {\r\n          try {\r\n            await axios.post(\"/dj-rest-auth/token/refresh/\");\r\n          } catch (err) {\r\n            setCurrentUser((prevCurrentUser) => {\r\n              if (prevCurrentUser) {\r\n                history.push(\"/signin\");\r\n              }\r\n              return null;\r\n            });\r\n            removeTokenTimestamp();\r\n          }\r\n          return axios(err.config);\r\n        }\r\n        return Promise.reject(err);\r\n      }\r\n    );\r\n  }, [history]);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <SetCurrentUserContext.Provider value={setCurrentUser}>\r\n        {children}\r\n      </SetCurrentUserContext.Provider>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n};","import React from 'react'\r\nimport styles from '../styles/Avatar.module.css'\r\n\r\nexport const Avatar = ({ src, height = 45, text }) => {\r\n\r\n    return (\r\n        <span> <img className={styles.Avatar} src={src}\r\n            height={height} width={height} alt='avatar' />\r\n            {text}\r\n        </span>\r\n    )\r\n}\r\n\r\nexport default Avatar","import { useEffect, useRef, useState } from \"react\";\r\n\r\nconst useClickOutsideToggle = (exceptionRefs) => {\r\n  const [expanded, setExpanded] = useState(false);\r\n  const ref = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (ref.current && !ref.current.contains(event.target) && \r\n          !exceptionRefs.some(exceptionRef => exceptionRef.current && exceptionRef.current.contains(event.target))) {\r\n        setExpanded(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, [ref, exceptionRefs]); \r\n\r\n  return { expanded, setExpanded, ref };\r\n};\r\n\r\nexport default useClickOutsideToggle;","import React from \"react\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport styles from \"../styles/Asset.module.css\";\r\n\r\nconst Asset = ({ spinner, src, message }) => {\r\n  return (\r\n    <div className={`${styles.Asset} p-4`}>\r\n      {spinner && <Spinner animation=\"border\" />}\r\n      {src && <img src={src} alt={message} />}\r\n      {message && <p className=\"mt-4\">{message}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Asset;","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Button, ListGroup } from 'react-bootstrap';\r\nimport styles from '../styles/Notifications.module.css';\r\nimport { useCurrentUser } from \"../contexts/CurrentUserContext\";\r\nimport { axiosRes } from \"../api/axiosDefaults\";\r\nimport { showSuccess, showError } from '../utils/ToastManager';\r\nimport Asset from './Asset';\r\n\r\nconst Notifications = () => {\r\n    const [notifications, setNotifications] = useState([]);\r\n    const history = useHistory();\r\n    const currentUser = useCurrentUser();\r\n    const [hasLoaded, setHasLoaded] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const fetchNotifications = async () => {\r\n            if (currentUser) {\r\n                try {\r\n                    const response = await axiosRes.get(`/notifications/?recipient=${currentUser.profile_id}`);\r\n                    setNotifications(response.data.results);\r\n                    setHasLoaded(true);\r\n                } catch (err) {\r\n                    showError(\"Error fetching notifications:\", err);\r\n                    setHasLoaded(true);\r\n                }\r\n            }\r\n        };\r\n        fetchNotifications();\r\n    }, [currentUser]);\r\n\r\n    const markAsRead = async (notificationId) => {\r\n        try {\r\n            await axiosRes.patch(`/notifications/${notificationId}/`, { is_read: true });\r\n            setNotifications(notifications.map(notif =>\r\n                notif.id === notificationId ? { ...notif, is_read: true } : notif\r\n            ));\r\n            showSuccess(\"Succesfully marked as read\")\r\n        } catch (err) {\r\n            showError(\"Failed to mark notification as read:\", err);\r\n        }\r\n    };\r\n\r\n    const deleteNotification = async (notificationId) => {\r\n        try {\r\n            await axios.delete(`/notifications/${notificationId}/`);\r\n            setNotifications(notifications.filter(notif => notif.id !== notificationId));\r\n            showSuccess(\"Deleted notification successfully\")\r\n        } catch (err) {\r\n            showError(\"Failed to delete notification:\", err);\r\n        }\r\n    };\r\n\r\n    const navigateToRecipe = (recipeId) => {\r\n        history.push(`/recipes/${recipeId}`);\r\n    };\r\n\r\n    return (\r\n        <div className={styles.NotificationsContainer}>\r\n            <ListGroup>\r\n                {hasLoaded ? (\r\n                    \r\n                        notifications.length > 0 ? (\r\n                            notifications.map(notification => (\r\n                                <ListGroup.Item key={notification.id} className={styles.NotificationItem}>\r\n                                    <div className={styles.NotificationItemDiv} onClick={() => navigateToRecipe(notification.recipe)}>\r\n                                        <strong>{notification.sender_name}</strong> {notification.notification_type_display} on your recipe.\r\n                                    </div>\r\n                                    <div className={styles.ActionButtons}>\r\n                                        <Button variant=\"outline-primary\" size=\"xs\" onClick={() => markAsRead(notification.id)}>\r\n                                            Mark as Read\r\n                                        </Button>\r\n                                        <Button variant=\"outline-danger\" size=\"xs\" onClick={() => deleteNotification(notification.id)}>\r\n                                            Delete\r\n                                        </Button>\r\n                                    </div>\r\n                                </ListGroup.Item>\r\n                            ))\r\n                        ) : (\r\n                            <ListGroup.Item className={styles.NoNotifications}>\r\n                                No notifications right now.\r\n                            </ListGroup.Item>\r\n                        )\r\n                    \r\n                ) : (\r\n                    <Asset spinner />\r\n                )}\r\n            </ListGroup>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Notifications;\r\n","import React, { useRef } from 'react';\r\nimport { Container, Navbar, Nav, NavDropdown } from 'react-bootstrap';\r\nimport logo from '../assets/img/logo-removebg.png';\r\nimport styles from '../styles/NavBar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { useCurrentUser, useSetCurrentUser } from '../contexts/CurrentUserContext';\r\nimport Avatar from './Avatar';\r\nimport axios from \"axios\";\r\nimport useClickOutsideToggle from \"../hooks/useClickOutsideToggle\";\r\nimport { removeTokenTimestamp } from \"../utils/utils\";\r\nimport Notifications from './Notifications';\r\nimport { showSuccess, showError } from '../utils/ToastManager';\r\n\r\nconst NavBar = () => {\r\n    const currentUser = useCurrentUser();\r\n    const setCurrentUser = useSetCurrentUser();\r\n\r\n    const dropdownRef = useRef(null);\r\n    const notificationRef = useRef(null);\r\n\r\n    const { expanded, setExpanded, ref } = useClickOutsideToggle([dropdownRef, notificationRef]);\r\n\r\n    const handleSignOut = async () => {\r\n        try {\r\n            await axios.post(\"dj-rest-auth/logout/\");\r\n            showSuccess(\"You have signed Out\")\r\n            setCurrentUser(null);\r\n            removeTokenTimestamp();\r\n\r\n        } catch (err) {\r\n            showError(\"Something went wrong signing out:\", err.message)\r\n           \r\n        }\r\n    };\r\n\r\n    const loggedOutIcons = <>\r\n        <NavLink className={styles.NavLink} activeClassName={styles.Active} to=\"/signin\"><i className=\"fa-solid fa-right-to-bracket\"></i>Login</NavLink>\r\n        <NavLink className={styles.NavLink} activeClassName={styles.Active} to=\"/signup\"><i className=\"fa-solid fa-user-plus\"></i>Sign Up</NavLink>\r\n    </>\r\n\r\n    const loggedInIcons = <>\r\n        <div className={styles.LoggedInIcons}>\r\n            <NavDropdown\r\n                ref={dropdownRef}\r\n                className={`${styles.NavDropdown} pl-2`}\r\n                title={<Avatar src={currentUser?.profile_image} height={60} text={currentUser?.username} />}\r\n                id=\"basic-nav-dropdown\"\r\n            >\r\n                <NavDropdown.Item as={NavLink} activeClassName={styles.Active} to={`/profiles/${currentUser?.profile_id}`}> <i className=\"fa-solid fa-user\"></i> Profile Page</NavDropdown.Item>\r\n                <NavDropdown.Item as={NavLink} activeClassName={styles.Active} to=\"/profiles/followed\"><i className=\"fa-solid fa-users\"></i>Followed Chefs</NavDropdown.Item>\r\n                <NavDropdown.Divider />\r\n                <NavDropdown.Item as={NavLink} to=\"/\" onClick={handleSignOut}>\r\n                    <i className=\"fa-solid fa-right-from-bracket\"></i> Sign Out\r\n                </NavDropdown.Item>\r\n            </NavDropdown>\r\n            <NavDropdown\r\n                className={`${styles.NavDropdown} pl-1`}\r\n                ref={notificationRef}\r\n                title={<i className=\"fa-solid fa-bell\"></i>}\r\n                id=\"nav-dropdown-notifications\"\r\n                alignRight={false}\r\n            >\r\n                <Notifications currentUser={currentUser} />\r\n            </NavDropdown>\r\n            <NavLink className={styles.NavLink} activeClassName={styles.Active} to=\"/recipe/create\">\r\n                <i className=\"fa-solid fa-plus fa-2xl\"></i>\r\n            </NavLink>\r\n        </div>\r\n    </>\r\n\r\n    return (\r\n        <Navbar expanded={expanded} className={styles.NavBar} expand=\"lg\" fixed='top'>\r\n            <Container fluid className={styles.Container}>\r\n                <NavLink to='/'>\r\n                    <Navbar.Brand className={styles.Brand}><img src={logo} alt=\"logo\" height=\"75\" />Recipe Domain</Navbar.Brand>\r\n                </NavLink>\r\n                <Navbar.Toggle ref={ref} onClick={() => setExpanded(!expanded)} aria-controls=\"basic-navbar-nav\" />\r\n                <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                    <Nav className=\"\">\r\n                        <NavLink className={styles.NavLink} to='/' exact activeClassName={styles.Active} ><i className=\"fas fa-home\"></i>Home</NavLink>\r\n                        <NavLink className={styles.NavLink} to='/recipes' activeClassName={styles.Active} ><i className=\"fa-solid fa-utensils\"></i> Recipes</NavLink>\r\n                    </Nav>\r\n                    <Nav className='ml-auto'>\r\n                        {\r\n                            currentUser ? (\r\n                                loggedInIcons\r\n                            ) : (\r\n                                loggedOutIcons\r\n                            )\r\n                        }\r\n\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </Container>\r\n        </Navbar>\r\n    );\r\n}\r\n\r\nexport default NavBar;\r\n","import React from \"react\";\r\nimport { MDBCol, MDBContainer, MDBRow, MDBFooter, MDBIcon } from \"mdbreact\";\r\nimport styles from \"../styles/Footer.module.css\"\r\nconst FooterPage = () => {\r\n  return (\r\n    <MDBFooter style={{ backgroundColor: 'rgba(0, 0, 0, 0.05)' }} className='text-center text-lg-start text-muted'>\r\n      \r\n\r\n      <section className=''>\r\n        <MDBContainer className='text-center text-md-start mt-5'>\r\n          <MDBRow className='mt-3'>\r\n            <MDBCol md=\"7\" className='mx-auto mb-4'>\r\n              <h5 className='text-uppercase fw-bold mb-1 mt-3'>\r\n                About Us\r\n              </h5>\r\n              <p>\r\n                Welcome to Recipe Domain, where passion\r\n                for food meets culinary innovation. Our platform\r\n                is dedicated to bringing together home cooks, professional\r\n                chefs, and food enthusiasts from around the world. Discover,\r\n                share, and revel in a vast collection of recipes that cater\r\n                to all tastes and dietary needs.\r\n              </p>\r\n              <div>\r\n                </div>\r\n            </MDBCol>\r\n\r\n            <MDBCol md=\"4\" className='mx-auto mb-md-0 mb-4'>\r\n              <h5 className='text-uppercase fw-bold mb-1 mt-3'>Contact</h5>\r\n              <p className=\"m-0\">\r\n                <MDBIcon icon=\"home\" className=\"m-0\" />\r\n                New York, NY 10012, US\r\n              </p>\r\n              <p className=\"m-0\">\r\n                <MDBIcon icon=\"envelope\" className=\"me-1\" />\r\n                info@example.com\r\n              </p>\r\n              <p className=\"m-0\">\r\n                <MDBIcon icon=\"phone\" className=\"me-1\" /> + 01 234 567 88\r\n              </p>\r\n              <p className=\"m-0\">\r\n                <MDBIcon icon=\"print\" className=\"me-1\" /> + 01 234 567 89\r\n              </p>\r\n            </MDBCol>\r\n          </MDBRow>\r\n        </MDBContainer>\r\n      </section>\r\n\r\n      <div className='text-center p-2' style={{ backgroundColor: 'rgba(0, 0, 0, 0.05)' }}>\r\n        &copy; {new Date().getFullYear()} Made by &nbsp;&nbsp;\r\n        <a className='text-reset fw-bold' href='https://redifoo.me/'>\r\n          <strong>Kaan Redif</strong>\r\n        </a>\r\n        &nbsp;&nbsp; for diploma in fullstack at Code Institute &nbsp;&nbsp;&nbsp;\r\n        <a href='https://www.linkedin.com/in/kaan-redif/' >\r\n                  <MDBIcon className={styles.SocialIcon} fab icon=\"linkedin\" />\r\n                </a>\r\n                <a href='https://github.com/redifo' >\r\n                  <MDBIcon className={styles.SocialIcon}  fab icon=\"github\" />\r\n                </a>\r\n\r\n\r\n      </div>\r\n    </MDBFooter>\r\n  );\r\n}\r\n\r\nexport default FooterPage;","export default __webpack_public_path__ + \"static/media/pancakes.037fd4c1.webp\";","import axios from \"axios\";\r\nimport { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport const useRedirect = (userAuthStatus) => {\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      try {\r\n        await axios.post(\"/dj-rest-auth/token/refresh/\");\r\n        // if user is logged in, the code below will run\r\n        if (userAuthStatus === \"loggedIn\") {\r\n          history.push(\"/\");\r\n        }\r\n      } catch (err) {\r\n        // if user is not logged in, the code below will run\r\n        if (userAuthStatus === \"loggedOut\") {\r\n          history.push(\"/signin\");\r\n        }\r\n      }\r\n    };\r\n\r\n    handleMount();\r\n  }, [history, userAuthStatus]);\r\n};","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport styles from \"../../styles/SignInUpForm.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\n\r\nimport pancakeImage from '../../assets/img/pancakes.webp';\r\n\r\nimport { Form, Button, Image, Col, Row, Alert } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { useRedirect } from \"../../hooks/useRedirect\";\r\nimport { showSuccess } from \"../../utils/ToastManager\";\r\n\r\nconst SignUpForm = () => {\r\n    useRedirect('loggedout')\r\n\r\n    const [signUpData, setSignUpData] = useState({\r\n        username: '',\r\n        password1: '',\r\n        password2: '',\r\n    })\r\n    const { username, password1, password2 } = signUpData;\r\n\r\n    const [errors, setErrors] = useState({});\r\n\r\n    const history = useHistory();\r\n\r\n    const handleChange = (event) => {\r\n        setSignUpData({\r\n            ...signUpData,\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            await axios.post('/dj-rest-auth/registration/', signUpData)\r\n            history.push('/signin')\r\n            showSuccess(\"Registered successfully you can now signin.\")\r\n        } catch (err) {\r\n            setErrors(err.response?.data);\r\n        }\r\n    };\r\n    return (\r\n        <div className={styles.Wrapper}>\r\n            <Row className={styles.Row}>\r\n\r\n                <Col className=\"my-auto p-0 text-center\" md={8}>\r\n                    \r\n                        <h1 className={`${styles.Header} pb-2 pt-2`}>Sign Up</h1>\r\n\r\n                        <Form onSubmit={handleSubmit}>\r\n                            <Form.Group className={styles.FormGroup} controlId=\"username\">\r\n                                <Form.Label className=\"d-none\">Username</Form.Label>\r\n                                <Form.Control\r\n                                    className={styles.Input}\r\n                                    type=\"text\"\r\n                                    placeholder=\"Username\"\r\n                                    name=\"username\"\r\n                                    value={username}\r\n                                    onChange={handleChange} />\r\n                            </Form.Group>\r\n                            {errors.username?.map((message, idx) =>\r\n                                <Alert className={styles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\r\n                            )}\r\n\r\n                            <Form.Group className={styles.FormGroup} controlId=\"password1\">\r\n                                <Form.Label className=\"d-none\">Password</Form.Label>\r\n                                <Form.Control\r\n                                    className={styles.Input}\r\n                                    type=\"password\"\r\n                                    placeholder=\"Password\"\r\n                                    name=\"password1\"\r\n                                    value={password1}\r\n                                    onChange={handleChange} />\r\n                            </Form.Group>\r\n                            {errors.password1?.map((message, idx) =>\r\n                                <Alert className={styles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\r\n                            )}\r\n                            <Form.Group className={styles.FormGroup} controlId=\"password2\">\r\n                                <Form.Label className=\"d-none\">Confirm Password</Form.Label>\r\n                                <Form.Control\r\n                                    className={styles.Input}\r\n                                    type=\"password\"\r\n                                    placeholder=\"Confirm Password\"\r\n                                    name=\"password2\"\r\n                                    value={password2}\r\n                                    onChange={handleChange} />\r\n                            </Form.Group>\r\n                            {errors.password2?.map((message, idx) =>\r\n                                <Alert className={styles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\r\n                            )}\r\n                            <Button className={`${btnStyles.Button} ${btnStyles.Wide} ${btnStyles.Yellow} mt-4 mb-2`} type=\"submit\">\r\n                                Sign Up\r\n                            </Button>\r\n                            {errors.non_field_errors?.map((message, idx) => (\r\n                                <Alert className={styles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\r\n                            ))}\r\n                        </Form>\r\n                        <Link className={`${styles.Link} mt-4 mb-1`} to=\"/signin\">\r\n                            Already have an account? <span>Sign in</span>\r\n                        </Link>\r\n                    \r\n\r\n                </Col>\r\n                <Col\r\n                    md={4}\r\n                    className={`my-auto d-none d-md-block p-0 ${styles.SignUpCol}`}\r\n                >\r\n                    <Image\r\n                        className={`${appStyles.FillerImage}`}\r\n                        src={\r\n                            pancakeImage\r\n                        }\r\n                    />\r\n                </Col>\r\n\r\n            </Row>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SignUpForm;","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport styles from \"../../styles/SignInUpForm.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\n\r\nimport pancakeImage from '../../assets/img/pancakes.webp';\r\n\r\nimport { Form, Button, Image, Col, Row, Alert } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { useRedirect } from \"../../hooks/useRedirect\";\r\n\r\nconst SignInForm = () => {\r\n    const setCurrentUser = useSetCurrentUser();\r\n    useRedirect('loggedIn')\r\n    const [SignInData, setSignInData] = useState({\r\n        username: '',\r\n        password: '',\r\n\r\n    })\r\n    const { username, password, } = SignInData;\r\n\r\n    const [errors, setErrors] = useState({});\r\n\r\n    const history = useHistory();\r\n\r\n    const handleChange = (event) => {\r\n        setSignInData({\r\n            ...SignInData,\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            const {data} = await axios.post('/dj-rest-auth/login/', SignInData)\r\n            setCurrentUser(data.user)\r\n            history.push('/');\r\n        } catch (err) {\r\n            setErrors(err.response?.data)\r\n        }\r\n    };\r\n    return (\r\n        <div className={styles.Wrapper}>\r\n            <Row className={styles.Row}>\r\n\r\n                <Col className=\"my-auto p-0 text-center\" md={8}>\r\n                    \r\n                        <h1 className={`${styles.Header} pb-2 pt-2`}>Sign In</h1>\r\n\r\n                        <Form onSubmit={handleSubmit}>\r\n                            <Form.Group className={styles.FormGroup} controlId=\"username\">\r\n                                <Form.Label className=\"d-none\">Username</Form.Label>\r\n                                <Form.Control\r\n                                    className={styles.Input}\r\n                                    type=\"text\"\r\n                                    placeholder=\"Username\"\r\n                                    name=\"username\"\r\n                                    value={username}\r\n                                    onChange={handleChange} />\r\n                            </Form.Group>\r\n                            {errors.username?.map((message, idx) =>\r\n                                <Alert className={styles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\r\n                            )}\r\n\r\n                            <Form.Group className={styles.FormGroup} controlId=\"password\">\r\n                                <Form.Label className=\"d-none\">Password</Form.Label>\r\n                                <Form.Control\r\n                                    className={styles.Input}\r\n                                    type=\"password\"\r\n                                    placeholder=\"Password\"\r\n                                    name=\"password\"\r\n                                    value={password}\r\n                                    onChange={handleChange} />\r\n                            </Form.Group>\r\n                            {errors.password?.map((message, idx) =>\r\n                                <Alert className={styles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\r\n                            )}\r\n                            <Button className={`${btnStyles.Button} ${btnStyles.Wide} ${btnStyles.Yellow} mt-5 mb-2`} type=\"submit\">\r\n                                Sign In\r\n                            </Button>\r\n                            {errors.non_field_errors?.map((message, idx) => (\r\n                                <Alert className={styles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\r\n                            ))}\r\n                        </Form>\r\n                        <Link className={`${styles.Link} mt-4 mb-1`} to=\"/signup\">\r\n                            Don't have an account? <span>Sign Up</span>\r\n                        </Link>\r\n                    \r\n\r\n                </Col>\r\n                <Col\r\n                    md={4}\r\n                    className={`my-auto d-none d-md-block p-0 ${styles.SignInCol}`}\r\n                >\r\n                    <Image\r\n                        className={`${appStyles.FillerImage}`}\r\n                        src={\r\n                            pancakeImage\r\n                        }\r\n                    />\r\n                </Col>\r\n\r\n            </Row>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SignInForm;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUmSURBVHgB7Z1NbxtFGMf/M7Nre3HitElRoLIlDiBFFbdIVKVCKh+AU8sXqNo7Uk+cEOJKvwEfAAV6KhfEASREoyJya0tQg1TJbqUc6qS1E6/3bZixcbp2nZdN7J3d5vlJq/V6d63o+e28O34YToiUkn0KiA3Ant8Ed1oQXQs85GC+AC+z/j5+j+1CIIP4JYTxYy94dVzyEXplBFYEubuIoAqEv6qNMSZxAhgSogNeU3/PuScoRg4KWQ1matjwQw+BY6FbrcL7gbEwye1HFnBBysLMU8yGAQog9mXHgndWYne1xjpHuf5QART441FU1de2i+1HHzLvoOsOFLD8l5zDObwF4ti0XbT/WWKt/c6PFaDr+YtPMU9P/WTY6cBbX0ITYxpsPu4GCv5kKavOytI65sede03A5XVJ9f0U0BLefywro+8PCdANrlvCDIipMGejfOGBHHq4hwSc+RdnQEyVSGA2frwn4FJdOmoEe7oHVSmgq6J4KdgTEDLqbqZFvBT0BHwupaCGNz10KVB9/d4QoCeg0aDgp021gZLe9wR0AhRBpMpiuf/Q9wSwQM3pEaniN/sPPcdXknMbFohUsXWPU7UDfPkz6nqa4opayOLPF0iAKTYasHnFIQGmWFTLtjzgyZcliclQKqgqyKHpB2O4ApyLXeoBmUJN/zAOwhheW5UAEMZQ7S/n7mn/Xo9BSh0qAcYhAYYhAYbhNo0DjKFjTyXAMCTAMCTAMCTAMCTAMLkVEESo+R7u6y3kqCKn5FKADr4M8CMkanqLXNzJq4TcCRgK/oAcS8iVgJHg12On6nmVkBsBo8HnFq4Ozqk11WvIqYRcCBgXfCHQGJy3iqjnVULmBRwW/AF5lZB5AdLHjcOCP+A1CV3cQsbJ/IK8sLASRqiopaPbBwV/gJYQdHEtAm5YEVaQcdjyE/kucorfxTO9t4s4j5xCUxGGIQGGIQGGIQGGIQGGIQGGyZSArZs/3dcbpsS0P/84ZGogJkNZS3hLPcnFx/j8qZPrr6arAdhF5BxqAwxDAgxDAgyTSQHt359VcErIlABmi3t6H9x5eBMTxFdCt7/4pbc2IAV7iAyRqV6QeG/udvC4+XH00r3VvH53Kosp/J25b5EhMlUCKl9eXrVqlevMmvxTymx+z/pg/urZbz75GRki1wsybwLUCzIMCTAMCTAMCTAMCTAM9wMkyvhATA4deyoBhiEBhiEBhuFC4kRpmIjjExQRcNtBBMIYXGxTCTAJ985TN9QUTll1Q63nVAJM0dHjgM4slQBTOD4i3vSpETbFC1X988VNBCCMoDOy8rW7VAWZ4jctAF+ziCbk0qdlw9epDXtTEfY8uiBSZdZVAvD/XNDmDjwQqbJZ6Me8n0XpOyoBadNY7QvYyx3w0d9yIXQonVUadAS6j2qsqV/vTUe3Q7RApMJL5WDwek+ATr0tOtQWTBvd42zE8s0PLchQKZg+gYvt+PGQAF0KLB87IKZCp42WjnH8vbEJfKhBnjzxhjfO2DXhP7/HFrUHk6MX/Cq2xp07MIXVlQdypjUznAGaSEapjPYfb7N929ZDc4jp7M9WCWfoZ+6ToZ96vEB7tM4f5chJ3Kp16dTUGoIXUurbgzhq4Ackz6K3IkX1EgqLnmqkS9Bzeqc6FW6kv1qyC0/P7TSqcPUMZ5L7T57GUEq2vAZLJwXtOBALHMxpQRQKr6osd6T64t1s/oe+Dmb8mEeQhQhRW+8DRKUKoo0Qka1WEfVC1tqyuj5hwEf5D7ZH39OOpDxXAAAAAElFTkSuQmCC\"","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { Form, Button, Col, Container, Alert, Image, FormLabel } from \"react-bootstrap\";\r\nimport { useDropzone } from 'react-dropzone';\r\n\r\nimport styles from \"../../styles/RecipeCreateEditForm.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport { useRedirect } from \"../../hooks/useRedirect\";\r\nimport axios from \"axios\";\r\nimport Asset from \"../../components/Asset\";\r\nimport Upload from \"../../assets/img/upload.png\";\r\nimport { showError, showSuccess, showWarning } from \"../../utils/ToastManager\";\r\n\r\nfunction RecipeCreateForm() {\r\n    useRedirect(\"loggedOut\");\r\n    const [errors, setErrors] = useState({});\r\n    const [imageFile, setImageFile] = useState();\r\n    const [imagePreview, setImagePreview] = useState(null);\r\n    const [availableTags, setAvailableTags] = useState([]);\r\n    const [selectedTags, setSelectedTags] = useState([]);\r\n\r\n\r\n    useEffect(() => {\r\n        axios.get(\"/tags\")\r\n            .then(response => setAvailableTags(response.data.results))\r\n            .catch(error => showError(\"Failed to load tags:\", error.message));\r\n    }, []);\r\n\r\n    const handleToggleTag = tagId => {\r\n        setSelectedTags(prev => prev.includes(tagId) ? prev.filter(t => t !== tagId) : (prev.length < 3 ? [...prev, tagId] : prev));\r\n    };\r\n\r\n    const renderTags = () => {\r\n        return availableTags.map(tag => (\r\n            <Button\r\n                key={tag.id}\r\n                onClick={() => handleToggleTag(tag.id)}\r\n                variant={selectedTags.includes(tag.id) ? \"info\" : \"secondary\"}\r\n                className={`m-1 ${btnStyles.TagButton}`}>\r\n                {tag.name}\r\n            </Button>\r\n        ));\r\n    };\r\n\r\n    const [recipeData, setRecipeData] = useState({\r\n        title: \"\",\r\n        description: \"\",\r\n        ingredients: \"\",\r\n        instructions: \"\",\r\n        preparation_time: \"\",\r\n        cooking_time: \"\",\r\n        servings: \"\",\r\n        image: null,\r\n        tags: [],\r\n    });\r\n    const { title, description, ingredients, instructions, preparation_time, cooking_time, servings } = recipeData;\r\n\r\n    const history = useHistory();\r\n\r\n    //https://react-dropzone.js.org/\r\n    const onDrop = (acceptedFiles) => {\r\n        const file = acceptedFiles[0];\r\n        setImageFile(file);\r\n        setImagePreview(URL.createObjectURL(file));\r\n        showSuccess(\"Image ready for upload:\");\r\n\r\n    };\r\n\r\n    const { getRootProps, getInputProps } = useDropzone({\r\n        onDrop,\r\n        accept: {\r\n            'image/jpeg': ['.jpeg', '.jpg'],\r\n            'image/png': ['.png'],\r\n            'image/gif': ['.gif'],\r\n            'image/bmp': ['.bmp'],\r\n            'image/tiff': ['.tiff', '.tif'],\r\n            'image/x-icon': ['.ico'],\r\n            'image/svg+xml': ['.svg'],\r\n            'image/webp': ['.webp']\r\n        },\r\n        maxSize: 10 * 1024 * 1024,\r\n        maxFiles: 1\r\n    });\r\n\r\n    const handleChange = (event) => {\r\n        const { name, value, type } = event.target;\r\n        \r\n        if (type === \"text\") {\r\n            if (name === \"title\" && value.length > 40) return;\r\n            if (name === \"description\" && value.length > 1000) return;\r\n            if (name === \"ingredients\" && value.length > 2000) return;\r\n            if (name === \"instructions\" && value.length > 3000) return;\r\n        } else if (type === \"number\") {\r\n            if (value === \"\") {\r\n                setRecipeData({\r\n                    ...recipeData,\r\n                    [name]: value,\r\n                });\r\n                return;\r\n            }\r\n            const numValue = Number(value);\r\n            if ((name === \"preparation_time\" || name === \"cooking_time\") && (numValue < 1 || numValue > 999)) return;\r\n            if (name === \"servings\" && (numValue < 1 || numValue > 99)) return;\r\n        }\r\n        setRecipeData({\r\n            ...recipeData,\r\n            [name]: value,\r\n        });\r\n    };\r\n\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append(\"title\", title);\r\n        formData.append(\"description\", description);\r\n        formData.append(\"ingredients\", ingredients);\r\n        formData.append(\"instructions\", instructions);\r\n        formData.append(\"preparation_time\", preparation_time);\r\n        formData.append(\"cooking_time\", cooking_time);\r\n        formData.append(\"servings\", servings);\r\n        if (imageFile){\r\n            formData.append(\"image\", imageFile);\r\n        } \r\n        selectedTags.forEach(tag => {\r\n            formData.append(\"tags\", tag);\r\n        });\r\n        try {\r\n            const { data } = await axiosReq.post(\"/recipes/\", formData);\r\n            history.push(`/recipes/${data.id}`);\r\n            showSuccess(\"Recipe created successfully\")     \r\n        } catch (err) {\r\n            const errorMessages = err.response?.data;\r\n                Object.values(errorMessages).flat().forEach((message) => {\r\n                    showWarning(message);\r\n                });\r\n            if (err.response?.status !== 401) {\r\n                setErrors(err.response?.data);\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n\r\n    const recipeFields = (\r\n        <div className={styles.RecipeFields}>\r\n            <Form.Group>\r\n                <Form.Label><strong>Title</strong></Form.Label>\r\n                <Form.Control type=\"text\" name=\"title\" placeholder=\"What do you call your recipe?\" value={title} onChange={handleChange} />\r\n            </Form.Group>\r\n            {errors?.title?.map((message, idx) => <Alert variant=\"warning\" key={idx}>{message}</Alert>)}\r\n\r\n            <Form.Group>\r\n                <Form.Label><strong>Description</strong></Form.Label>\r\n                <Form.Control as=\"textarea\" rows={3} name=\"description\" value={description} placeholder=\"Shortly describe your recipe\" onChange={handleChange} />\r\n            </Form.Group>\r\n            {errors?.description?.map((message, idx) => <Alert variant=\"warning\" key={idx}>{message}</Alert>)}\r\n\r\n            <Form.Group>\r\n                <Form.Label><strong>Ingredients</strong></Form.Label>\r\n                <Form.Control as=\"textarea\" rows={3} name=\"ingredients\" placeholder=\"List your ingredients and their quantities\" value={ingredients} onChange={handleChange} />\r\n            </Form.Group>\r\n            {errors?.ingredients?.map((message, idx) => <Alert variant=\"warning\" key={idx}>{message}</Alert>)}\r\n\r\n            <Form.Group>\r\n                <Form.Label><strong>Instructions</strong></Form.Label>\r\n                <Form.Control as=\"textarea\" rows={6} name=\"instructions\" placeholder=\"How do you cook your recipe?\" value={instructions} onChange={handleChange} />\r\n            </Form.Group>\r\n            {errors?.instructions?.map((message, idx) => <Alert variant=\"warning\" key={idx}>{message}</Alert>)}\r\n\r\n            <Form.Group>\r\n                <Form.Label><strong>Preparation Time <i className=\"fa-solid fa-clock fa-lg\"></i>(minutes)</strong></Form.Label>\r\n                <Form.Control type=\"number\" name=\"preparation_time\" value={preparation_time} onChange={handleChange} />\r\n            </Form.Group>\r\n\r\n            <Form.Group>\r\n                <Form.Label><strong>Cooking Time <i className=\"fa-solid fa-clock fa-lg\"></i> (minutes)</strong></Form.Label>\r\n                <Form.Control type=\"number\" name=\"cooking_time\" value={cooking_time} onChange={handleChange} />\r\n            </Form.Group>\r\n\r\n            <Form.Group>\r\n                <Form.Label><strong>Servings</strong></Form.Label>\r\n                <Form.Control type=\"number\" name=\"servings\" value={servings} onChange={handleChange} placeholder=\"Number of servings\" />\r\n            </Form.Group>\r\n            <Form.Group>\r\n                <Form.Label><strong>Tags</strong> (Select up to 3 tags for categorisation of your recipe)</Form.Label>\r\n                <div>{renderTags()}</div>\r\n            </Form.Group>\r\n            <Button className={`${btnStyles.Button} ${btnStyles.Large} ${btnStyles.Red}`} onClick={() => history.goBack()}>\r\n                Cancel\r\n            </Button>\r\n            <Button className={`${btnStyles.Button} ${btnStyles.Yellow} ${btnStyles.Large} ml-3`} type=\"submit\">\r\n                Create\r\n            </Button>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <Form onSubmit={handleSubmit}>\r\n\r\n            <Col className=\"py-2 p-0 p-md-2\" md={12}>\r\n                <Container className={`${appStyles.Content} ${styles.Container} d-flex flex-column justify-content-center mb-2`}>\r\n                    <Form.Group className=\"text-center\">\r\n\r\n                        <div {...getRootProps({ className: 'dropzone' })}>\r\n                            <input {...getInputProps()} />\r\n                            {imagePreview ? (\r\n                                <FormLabel>Click on the photo or drop another photo here to change the photo<br></br>\r\n                                    <Image src={imagePreview} alt=\"Preview\" rounded className={appStyles.Image} />\r\n                                </FormLabel>\r\n                            ) : (\r\n                                <Asset src={Upload} message=\"Drag and drop a photo here, or click to select a photo\" />\r\n                            )}\r\n                        </div>\r\n                        {errors?.image?.map((message, idx) => <Alert variant=\"warning\" key={idx}>{message}</Alert>)}\r\n                    </Form.Group>\r\n                </Container>\r\n                <Container className={appStyles.Content}>\r\n                    {recipeFields}\r\n                </Container>\r\n            </Col>\r\n\r\n\r\n        </Form>\r\n    );\r\n}\r\n\r\nexport default RecipeCreateForm;\r\n","import React, { useState } from 'react';\r\nimport { Card, Button, Row } from 'react-bootstrap';\r\nimport { axiosRes } from '../../api/axiosDefaults';\r\nimport { useHistory } from 'react-router-dom';\r\nimport styles from \"../../styles/Recipe.module.css\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { showError, showSuccess } from '../../utils/ToastManager';\r\n\r\nfunction RecipeCard({ recipe }) {\r\n    const { id, title, image, ratings_average, ratings_count, is_favorited: initialIsFavorited, favorite_id: initialFavoriteId } = recipe;\r\n    const history = useHistory();\r\n    const [isFavorited, setIsFavorited] = useState(initialIsFavorited);\r\n    const [favoriteId, setFavoriteId] = useState(initialFavoriteId);\r\n\r\n    const currentUser = useCurrentUser();\r\n\r\n    const handleFavorite = async (event) => {\r\n        event.stopPropagation(); // Prevent the card click event\r\n        try {\r\n            if (isFavorited) {\r\n                // If already favorited, unfavorite it\r\n                await axiosRes.delete(`/favorites/${favoriteId}/`);\r\n                setIsFavorited(false);\r\n                setFavoriteId(null);\r\n                showSuccess(\"Removed from favorites\")\r\n            } else {\r\n                // If not favorited, favorite it\r\n                const { data } = await axiosRes.post(\"/favorites/\", { recipe: id });\r\n                setIsFavorited(true);\r\n                setFavoriteId(data.id);\r\n                showSuccess(\"Added to favorites\")\r\n            }\r\n\r\n        } catch (err) {\r\n            showError(\"Error managing favorite\", err.message);\r\n        }\r\n    };\r\n    return (\r\n        <Card key={id} className={`m-1 ${styles.RecipeCard}`} onClick={() => history.push(`/recipes/${recipe.id}`)}>\r\n            <Card.Img variant=\"top\" src={image} alt={title} />\r\n            <Card.Body>\r\n                <Card.Title>{title}</Card.Title>\r\n                <Row className={styles.CardBottom}>\r\n                    <div>\r\n                        {[...Array(5)].map((_, i) => (\r\n                            <span key={i} className={`${styles.Stars} fa fa-star ${i < ratings_average ? '' : 'fa-regular '}`}></span>\r\n                        ))}\r\n                        <span> ({ratings_count})</span>\r\n                    </div>\r\n                    <>\r\n                        {currentUser ? <Button className={`${styles.HeartButton} `} variant=\"link\" onClick={(e) => handleFavorite(e)}>\r\n                            <i className={`fa fa-heart  ${isFavorited ? 'text-danger' : 'text-secondary'}`}></i>\r\n                        </Button> : null}\r\n                    </>\r\n                </Row>\r\n            </Card.Body>\r\n        </Card>\r\n\r\n    );\r\n}\r\n\r\nexport default RecipeCard;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Container, Row, Col, Form } from 'react-bootstrap';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport styles from \"../../styles/RecipeGrid.module.css\";\r\nimport axios from 'axios';\r\nimport RecipeCard from './RecipeCard';\r\n\r\nimport { fetchMoreData } from '../../utils/utils';\r\nimport { showError } from '../../utils/ToastManager';\r\n\r\nfunction useQuery() {\r\n    return new URLSearchParams(useLocation().search);\r\n  }\r\n\r\nfunction RecipeGrid() {\r\n    const queryParam = useQuery().get('search') || \"\";\r\n    const [recipes, setRecipes] = useState({ results: [], next: null });\r\n    const [hasLoaded, setHasLoaded] = useState(false);\r\n    const [query, setQuery] = useState(queryParam);\r\n    const [tags, setTags] = useState([]);\r\n    const [selectedTags, setSelectedTags] = useState([]);\r\n    const [showFilters, setShowFilters] = useState(true);\r\n\r\n    useEffect(() => {\r\n        // Fetch the tags from the backend\r\n        const fetchTags = async () => {\r\n            try {\r\n                const { data } = await axios.get(`/tags`);\r\n                setTags(data.results);\r\n            } catch (error) {\r\n                showError(\"Error fetching tags:\", error.message);\r\n            }\r\n        };\r\n\r\n        fetchTags();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const fetchRecipes = async () => {\r\n            let tagsFilter = selectedTags.join(',');\r\n            try {\r\n                const { data } = await axios.get(`/recipes?search=${query}&tags=${tagsFilter}`);\r\n                setRecipes({\r\n                    results: data.results,\r\n                    next: data.next\r\n                });\r\n                setHasLoaded(true);\r\n            } catch (error) {\r\n                showError(\"Error fetching recipes:\", error.message);\r\n                setHasLoaded(true);\r\n            }\r\n        };\r\n\r\n        const delayDebounce = setTimeout(() => {\r\n            fetchRecipes();\r\n        }, 500); // Delay fetching data 0.5 second after typing stops\r\n\r\n        return () => clearTimeout(delayDebounce);\r\n    }, [query, selectedTags]);\r\n\r\n    const handleLoadMore = () => {\r\n        if (recipes.next) {\r\n            fetchMoreData(recipes.next, setRecipes);\r\n        }\r\n    };\r\n\r\n    const handleTagChange = (tagId) => {\r\n        setSelectedTags(prev =>\r\n            prev.includes(tagId)\r\n                ? prev.filter(id => id !== tagId)\r\n                : [...prev, tagId]\r\n        );\r\n    };\r\n\r\n    const toggleFilters = () => {\r\n        setShowFilters(!showFilters);\r\n    };\r\n\r\n    return (\r\n        <Container fluid className='mt-5'>\r\n            <Button onClick={toggleFilters} className={`mb-1 ${btnStyles.Yellow}`}>{showFilters ? 'Hide Filters' : 'Show Filters'}</Button>\r\n            <Row className={styles.MainRow}> \r\n                <Col className={styles.FilterCol} lg={3} style={{ display: showFilters ? 'block' : 'none' }}>\r\n                    <h2>Filters</h2>\r\n                    \r\n                    <p className='mb-0 '> <u>Filter by Tag</u></p>\r\n                    {tags.map(tag => (\r\n                        <Form.Check\r\n                            key={tag.id}\r\n                            type=\"checkbox\"\r\n                            label={tag.name}\r\n                            checked={selectedTags.includes(tag.id)}\r\n                            onChange={() => handleTagChange(tag.id)}\r\n                        />\r\n                    ))}\r\n                </Col>\r\n                <Col lg={9} className='mt-3'>\r\n\r\n                    <i className={`fas fa-search ${styles.SearchIcon}`} />\r\n                    <Form\r\n                        className={styles.SearchBar}\r\n                        onSubmit={(event) => event.preventDefault()}\r\n                    >\r\n                        <Form.Control\r\n                            value={query}\r\n                            onChange={(event) => setQuery(event.target.value)}\r\n                            type=\"text\"\r\n                            className=\"mr-sm-2\"\r\n                            placeholder=\"Search Recipes by title, ingredients or tags\"\r\n                        />\r\n                    </Form>\r\n                    <Row className={styles.RecipeGrid}>\r\n\r\n                        {recipes.results.map(recipe => (\r\n                            <Col key={recipe.id}>\r\n                                <RecipeCard recipe={recipe} />\r\n                            </Col>\r\n                        ))}\r\n                    </Row>\r\n                    {!hasLoaded && <p>Loading recipes...</p>}\r\n                    {hasLoaded && recipes.length === 0 && <p>No recipes found.</p>}\r\n                    <Row className={styles.LoadMoreBtnRow}>\r\n                        {recipes.next && (\r\n                            <Button className=\"my-3\" onClick={handleLoadMore}>Load More</Button>\r\n                        )}\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default RecipeGrid;\r\n","import React, { useState } from \"react\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\n\r\nimport styles from \"../../styles/ReviewCreateEditForm.module.css\";\r\nimport { showError, showSuccess } from \"../../utils/ToastManager\";\r\n\r\nfunction ReviewEditForm(props) {\r\n  const { id, content, setShowEditForm, setReviews } = props;\r\n\r\n  const [formContent, setFormContent] = useState(content);\r\n\r\n  const handleChange = (event) => {\r\n    setFormContent(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await axiosRes.put(`/reviews/${id}/`, {\r\n        text: formContent.trim(),\r\n      });\r\n      setReviews((prevReviews) => ({\r\n        ...prevReviews,\r\n        results: prevReviews.results.map((review) => {\r\n          return review.id === id\r\n            ? {\r\n                ...review,\r\n                text: formContent.trim(),\r\n                updated_at: \"now\",\r\n              }\r\n            : review;\r\n        }),\r\n      }));\r\n      showSuccess(\"Successfully edited the review\")\r\n      setShowEditForm(false);\r\n    } catch (err) {\r\n        showError(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Form.Group className=\"pr-1\">\r\n        <Form.Control\r\n          className={styles.Form}\r\n          as=\"textarea\"\r\n          value={formContent}\r\n          onChange={handleChange}\r\n          rows={2}\r\n        />\r\n      </Form.Group>\r\n      <div className=\"text-right\">\r\n        <button\r\n          className={styles.Button}\r\n          onClick={() => setShowEditForm(false)}\r\n          type=\"button\"\r\n        >\r\n          cancel\r\n        </button>\r\n        <button\r\n          className={styles.Button}\r\n          disabled={!content.trim()}\r\n          type=\"submit\"\r\n        >\r\n          save\r\n        </button>\r\n      </div>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default ReviewEditForm;","import React, { useState } from \"react\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport styles from \"../styles/MoreDropdown.module.css\";\r\nimport { useHistory } from \"react-router\";\r\nimport { Modal, Button } from \"react-bootstrap\";\r\n\r\n// The forwardRef is important!!\r\n// Dropdown needs access to the DOM node in order to position the Menu\r\nconst ThreeDots = React.forwardRef(({ onClick }, ref) => (\r\n  <i\r\n    className=\"fas fa-ellipsis-v\"\r\n    ref={ref}\r\n    onClick={(e) => {\r\n      e.preventDefault();\r\n      onClick(e);\r\n    }}\r\n  />\r\n));\r\n\r\nconst EditButton = React.forwardRef(({ onClick }, ref) => (\r\n  <Button \r\n    ref={ref}\r\n    className={styles.EditProfileButton}\r\n    variant=\"outline-primary\"\r\n    onClick={(e) => {\r\n    e.preventDefault();\r\n    onClick(e);}}\r\n    >Edit Profile ▼\r\n  </Button> \r\n    \r\n  \r\n));\r\nexport const MoreDropdown = ({ handleEdit, handleDelete }) => {\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n  return (\r\n    <Dropdown className=\"ml-auto\" drop=\"left\">\r\n      <Dropdown.Toggle as={ThreeDots} />\r\n\r\n      <Dropdown.Menu\r\n        className=\"text-center\"\r\n        popperConfig={{ strategy: \"fixed\" }}\r\n      >\r\n        <Dropdown.Item\r\n          className={styles.DropdownItem}\r\n          onClick={handleEdit}\r\n          aria-label=\"edit\"\r\n        >\r\n          <i className=\"fas fa-edit\" />\r\n        </Dropdown.Item>\r\n        <Dropdown.Item\r\n          className={styles.DropdownItem}\r\n          onClick={handleShow}\r\n          aria-label=\"delete\"\r\n        >\r\n          <i className=\"fas fa-trash-alt\" />\r\n        </Dropdown.Item>\r\n      </Dropdown.Menu>\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Confirm Deletion</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>Are you sure you want to delete this review? This action cannot be undone.</Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Cancel\r\n          </Button>\r\n          <Button variant=\"danger\" onClick={handleDelete}>\r\n            Delete Recipe\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </Dropdown>\r\n\r\n  );\r\n};\r\n\r\nexport const ProfileEditDropdown = ({ id }) => {\r\n  const history = useHistory();\r\n  return (\r\n    <Dropdown className={`ml-auto px-3 ${styles.Absolute}`} drop=\"left\">\r\n      <Dropdown.Toggle as={EditButton} />\r\n      <Dropdown.Menu>\r\n        <Dropdown.Item\r\n          onClick={() => history.push(`/profiles/${id}/edit`)}\r\n          aria-label=\"edit-profile\"\r\n        >\r\n          <i className=\"fas fa-edit\" /> edit profile\r\n        </Dropdown.Item>\r\n        <Dropdown.Item\r\n          onClick={() => history.push(`/profiles/${id}/edit/username`)}\r\n          aria-label=\"edit-username\"\r\n        >\r\n          <i className=\"far fa-id-card\" />\r\n          change username\r\n        </Dropdown.Item>\r\n        <Dropdown.Item\r\n          onClick={() => history.push(`/profiles/${id}/edit/password`)}\r\n          aria-label=\"edit-password\"\r\n        >\r\n          <i className=\"fas fa-key\" />\r\n          change password\r\n        </Dropdown.Item>\r\n      </Dropdown.Menu>\r\n    </Dropdown>\r\n  );\r\n};","import React, { useState } from \"react\";\r\nimport Media from \"react-bootstrap/Media\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport { Modal, Image } from 'react-bootstrap';\r\n\r\nimport ReviewEditForm from \"./ReviewEditForm\";\r\n\r\nimport styles from \"../../styles/Review.module.css\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\n\r\nimport { MoreDropdown } from \"../../components/MoreDropDown\";\r\nimport { showError, showSuccess } from \"../../utils/ToastManager\";\r\n\r\nconst Review = ({ review, setReviews }) => {\r\n\r\n    const {\r\n        id,\r\n        profile_id,\r\n        profile_image,\r\n        user,\r\n        updated_at,\r\n        text,\r\n        image,\r\n        likes_count,\r\n        dislikes_count,\r\n        like_id: initialLikeId,\r\n        is_like: initialIsLike\r\n\r\n    } = review;\r\n\r\n    const [likeState, setLikeState] = useState({\r\n        likeId: initialLikeId,\r\n        isLike: initialIsLike,\r\n        likesCount: likes_count,\r\n        dislikesCount: dislikes_count\r\n    });\r\n    const [showEditForm, setShowEditForm] = useState(false);\r\n    const currentUser = useCurrentUser();\r\n    const is_owner = currentUser?.username === user;\r\n\r\n    const [showImageModal, setShowImageModal] = useState(false);\r\n\r\n    const handleLikeToggle = async (newLikeState) => {\r\n        try {\r\n            if (likeState.isLike === newLikeState) {\r\n                // Same state clicked, remove like/dislike\r\n                await axiosRes.delete(`/likes/${likeState.likeId}/`);\r\n                setLikeState(prev => ({\r\n                    ...prev,\r\n                    likeId: null,\r\n                    isLike: null,\r\n                    likesCount: newLikeState ? prev.likesCount - 1 : prev.likesCount,\r\n                    dislikesCount: newLikeState ? prev.dislikesCount : prev.dislikesCount - 1\r\n                }));\r\n                showSuccess(\"Review like removed\");\r\n            } else {\r\n                if (likeState.likeId) {\r\n                    // Update existing like/dislike\r\n                    const { data } = await axiosRes.put(`/likes/${likeState.likeId}/`, { is_like: newLikeState });\r\n                    setLikeState(prev => ({\r\n                        ...prev,\r\n                        likeId: data.id,\r\n                        isLike: newLikeState,\r\n                        likesCount: newLikeState ? prev.likesCount + 1 - (prev.isLike ? 1 : 0) : prev.likesCount - 1,\r\n                        dislikesCount: newLikeState ? prev.dislikesCount - 1 : prev.dislikesCount + 1 - (!prev.isLike ? 1 : 0)\r\n                    }));\r\n                    showSuccess(`Review ${newLikeState ? \"liked\" : \"disliked\"}`);\r\n                } else {\r\n                    // Create new like/dislike\r\n                    const { data } = await axiosRes.post(\"/likes/\", { review: id, is_like: newLikeState });\r\n                    setLikeState(prev => ({\r\n                        ...prev,\r\n                        likeId: data.id,\r\n                        isLike: newLikeState,\r\n                        likesCount: newLikeState ? prev.likesCount + 1 : prev.likesCount,\r\n                        dislikesCount: newLikeState ? prev.dislikesCount : prev.dislikesCount + 1\r\n                    }));\r\n                    showSuccess(`Review ${newLikeState ? \"liked\" : \"disliked\"}`);\r\n                }\r\n            }\r\n        } catch (err) {\r\n            showError(\"Failed to update like/dislike: \" + err.message);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async () => {\r\n        try {\r\n            await axiosRes.delete(`/reviews/${id}/`);\r\n            setReviews(prevReviews => ({\r\n                ...prevReviews,\r\n                results: prevReviews.results.filter(review => review.id !== id),\r\n            }));\r\n            showSuccess(\"Review deleted successfully.\");\r\n        } catch (err) {\r\n            showError(\"Failed to delete the review: \" + err.message);\r\n        }\r\n    };\r\n\r\n    const handleCloseImageModal = () => {\r\n        setShowImageModal(false);\r\n    };\r\n\r\n    const handleImageClick = () => {\r\n        setShowImageModal(true);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <hr />\r\n            <Media>\r\n                <Link to={`/profiles/${profile_id}`}>\r\n                    <Avatar src={profile_image} />\r\n                </Link>\r\n                <Media.Body className=\"align-self-center ml-2\">\r\n                    <strong className={styles.Owner}>{user} </strong>\r\n                    <small className={styles.Date}>{updated_at}</small>\r\n\r\n                    {showEditForm ? (\r\n                        <ReviewEditForm\r\n                            id={id}\r\n                            content={text}\r\n                            setShowEditForm={setShowEditForm}\r\n                            setReviews={setReviews}\r\n                        />\r\n                    ) : (\r\n\r\n                        <p>\r\n                            {image && (\r\n                                <>\r\n                                    <Image src={image} className={styles.ReviewImage} onClick={handleImageClick} thumbnail />\r\n                                    <Modal show={showImageModal} onHide={handleCloseImageModal} centered>\r\n                                        <Modal.Header closeButton>\r\n                                            <Modal.Title>Image Preview</Modal.Title>\r\n                                        </Modal.Header>\r\n                                        <Modal.Body>\r\n                                            <Image src={image} className={styles.ReviewImageModal} />\r\n                                        </Modal.Body>\r\n                                    </Modal>\r\n                                </>\r\n                            )}{text}</p>\r\n                    )}\r\n                    <div>\r\n                        <i className={`fa-solid fa-thumbs-up fa-lg ${likeState.isLike ? \"text-success\" : \"\"}`} onClick={() => handleLikeToggle(true)}></i> {likeState.likesCount}\r\n                        <i className={`fa-solid fa-thumbs-down fa-lg ${likeState.isLike === false ? \"text-danger\" : \"\"}`} onClick={() => handleLikeToggle(false)}></i> {likeState.dislikesCount}\r\n                    </div>\r\n                </Media.Body>\r\n                {is_owner && !showEditForm && (\r\n                    <MoreDropdown\r\n                        handleEdit={() => setShowEditForm(true)}\r\n                        handleDelete={handleDelete}\r\n                    />\r\n                )}\r\n            </Media>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Review;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\n\r\nimport styles from \"../../styles/ReviewCreateEditForm.module.css\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\nimport { showError, showSuccess } from \"../../utils/ToastManager\";\r\n\r\nfunction ReviewCreateForm({ recipeId, setRecipe, setReviews, profileImage, profileId }) {\r\n  const [text, setText] = useState(\"\");\r\n  const [image, setImage] = useState(null);\r\n  const [preview, setPreview] = useState();\r\n\r\n  const handleChange = (event) => {\r\n    setText(event.target.value);\r\n  };\r\n\r\n  const handleImageChange = (event) => {\r\n    const file = event.target.files[0];\r\n    setImage(file);\r\n    setPreview(URL.createObjectURL(file));\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"text\", text);\r\n    formData.append(\"recipe\", recipeId);\r\n    if (image) {\r\n      formData.append(\"image\", image);\r\n    }\r\n\r\n    try {\r\n      const { data } = await axiosRes.post(\"/reviews/\", formData);\r\n      // Set default values for likes and dislikes count\r\n      const reviewWithDefaults = {\r\n        ...data,\r\n        likes_count: 0,\r\n        dislikes_count: 0\r\n      };\r\n\r\n      setReviews(prevReviews => ({\r\n        ...prevReviews,\r\n        results: [reviewWithDefaults, ...prevReviews.results]\r\n      }));\r\n      setRecipe(prevRecipe => ({\r\n        ...prevRecipe,\r\n        reviews_count: prevRecipe.reviews_count + 1\r\n      }));\r\n      setText(\"\");\r\n      setImage(null);\r\n      setPreview(null);\r\n      showSuccess(\"Review posted successfully\")\r\n\r\n    } catch (err) {\r\n      showError(\"Error creating review:\", err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form className=\"mt-2\" onSubmit={handleSubmit}>\r\n      <Form.Group>\r\n        <InputGroup>\r\n          <Link to={`/profiles/${profileId}`}>\r\n            <Avatar src={profileImage} />\r\n          </Link>\r\n          <Form.Control\r\n            className={styles.Form}\r\n            placeholder=\"Write a review...\"\r\n            as=\"textarea\"\r\n            value={text}\r\n            onChange={handleChange}\r\n            rows={3}\r\n          />\r\n        </InputGroup>\r\n      </Form.Group>\r\n      <Form.Group className=\"ml-5\">\r\n        <Form.Label>Upload Image</Form.Label>\r\n        <Form.Control\r\n          type=\"file\"\r\n          onChange={handleImageChange}\r\n          accept=\"image/*\"\r\n        />\r\n        {preview && (\r\n          <div className=\"mt-2\">\r\n            <img src={preview} alt=\"Preview\" className={styles.ImagePreview} />\r\n          </div>\r\n        )}\r\n        <button\r\n          className={`${styles.Button} btn d-block ml-auto`}\r\n          disabled={!text.trim()}\r\n          type=\"submit\"\r\n        >\r\n          Post Review\r\n        </button>\r\n      </Form.Group>\r\n\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default ReviewCreateForm;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { axiosRes } from '../../api/axiosDefaults';\r\nimport styles from '../../styles/Ratings.module.css';\r\nimport { showError, showSuccess, showWarning } from '../../utils/ToastManager';\r\n\r\nconst RateRecipe = ({ recipeId, currentUser, initialRating }) => {\r\n    const [rating, setRating] = useState(initialRating);\r\n\r\n    // Ensure the rating state is updated when initialRating changes\r\n    useEffect(() => {\r\n        setRating(initialRating);\r\n    }, [initialRating]);\r\n\r\n\r\n\r\n    const handleRating = async (newScore) => {\r\n        try {\r\n            if (rating) {\r\n                if (rating.score === newScore) {\r\n                    // The user clicked the same score\r\n                    showWarning(\"Same score clicked, no action taken.\");\r\n                } else {\r\n                    // Update the existing rating\r\n                    await axiosRes.put(`/ratings/${rating.id}/`, {recipe: recipeId, score: newScore });\r\n                    setRating({ ...rating, score: newScore });\r\n                    showSuccess(\"Successfully rated the recipe:\", newScore)\r\n                }\r\n            } else {\r\n                // Create a new rating\r\n                const { data } = await axiosRes.post(\"/ratings/\", { recipe: recipeId, score: newScore });\r\n                setRating({ id: data.id, score: newScore });\r\n                showSuccess(\"Successfully rated the recipe:\", newScore)\r\n            }\r\n        } catch (err) {\r\n\r\n            showError(err.message)\r\n        }\r\n    };\r\n\r\n    const handleRemoveRating = async () => {\r\n        if (rating) {\r\n            try {\r\n                await axiosRes.delete(`/ratings/${rating.id}/`);\r\n                setRating(null);\r\n                showSuccess(\"Successfully removed rating\");\r\n            } catch (err) {\r\n                showError(\"Error removing rating\", err);\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={styles.StarsContainer}>\r\n            {[1, 2, 3, 4, 5].map((score, i) => (\r\n                <span key={i} onClick={() => handleRating(score)}\r\n                    className={`${styles.Stars} fa fa-star fa-xxl ${rating && rating.score >= score ? 'checked' : 'fa-regular'}`}>\r\n                </span>\r\n            ))}\r\n            {rating && (\r\n                <button onClick={handleRemoveRating} className=\"btn btn-danger ml-2\">\r\n                    Remove Rating\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RateRecipe;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Container, Row, Col, Button } from 'react-bootstrap';\r\nimport styles from \"../../styles/Recipe.module.css\";\r\nimport { useParams, useHistory, Link } from 'react-router-dom';\r\nimport { axiosReq } from '../../api/axiosDefaults';\r\nimport { axiosRes } from '../../api/axiosDefaults';\r\nimport Asset from '../../components/Asset';\r\nimport Avatar from '../../components/Avatar';\r\n\r\nimport Review from '../reviews/Review';\r\nimport ReviewCreateForm from '../reviews/ReviewCreateForm';\r\n\r\nimport RateRecipe from '../ratings/RateRecipe';\r\n\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\n\r\nimport { fetchMoreData } from \"../../utils/utils\";\r\nimport { showError, showSuccess } from '../../utils/ToastManager';\r\n\r\nfunction RecipePage() {\r\n    const history = useHistory();\r\n    const { id } = useParams();\r\n    const [recipe, setRecipe] = useState(null);\r\n    const [tags, setTags] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [isFavorited, setIsFavorited] = useState(false);\r\n    const [favoriteId, setFavoriteId] = useState(null);\r\n    const [reviews, setReviews] = useState({ results: [], next: null });\r\n    const [favoritesCount, setFavoritesCount] = useState(0);\r\n\r\n    const currentUser = useCurrentUser();\r\n    const profile_image = currentUser?.profile_image;\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const [recipeRes, tagsRes, reviewsRes] = await Promise.all([\r\n                    axiosReq.get(`/recipes/${id}`),\r\n                    axiosReq.get(`/tags`),\r\n                    axiosReq.get(`/reviews/?recipe=${id}&page=1`)\r\n                ]);\r\n                setRecipe(recipeRes.data);\r\n                setTags(tagsRes.data.results.filter(tag => recipeRes.data.tags.includes(tag.id)));\r\n                setReviews({\r\n                    results: reviewsRes.data.results,\r\n                    next: reviewsRes.data.next\r\n                });\r\n                setIsFavorited(recipeRes.data.is_favorited);\r\n                setFavoriteId(recipeRes.data.favorite_id);\r\n                setFavoritesCount(recipeRes.data.favorites_count);\r\n                setIsLoading(false);\r\n            } catch (err) {\r\n                showError(\"Error fetching data:\", err.message);\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n        fetchData();\r\n    }, [id]);\r\n\r\n    const handleFavorite = async (event) => {\r\n        event.stopPropagation(); // Prevent the card click event\r\n        try {\r\n            if (isFavorited) {\r\n                await axiosRes.delete(`/favorites/${favoriteId}/`);\r\n                setIsFavorited(false);\r\n                setFavoriteId(null);\r\n                setFavoritesCount(favoritesCount - 1);\r\n                showSuccess(\"Removed from favorites\")\r\n            } else {\r\n                const { data } = await axiosRes.post(\"/favorites/\", { recipe: id });\r\n                setIsFavorited(true);\r\n                setFavoriteId(data.id);\r\n                setFavoritesCount(favoritesCount + 1);\r\n                showSuccess(\"Added to favorites\")\r\n            }\r\n        } catch (err) {\r\n            showError(\"Error managing favorite\", err.message);\r\n        }\r\n    };\r\n\r\n    const handleLoadMoreReviews = () => {\r\n        fetchMoreData(reviews.next, setReviews);\r\n    };\r\n\r\n    if (isLoading) {\r\n        return <Asset spinner={true} message=\"Loading recipe details...\" />;\r\n    }\r\n\r\n    return (\r\n        <Container className='mt-4' fluid >\r\n            <Row className={styles.RecipeSummary}>\r\n                <Col xs={12} md={6} lg={5} xl={4} className={styles.RecipePageImageContainer}>\r\n                    <img className={`${styles.RecipePageImage}`} src={recipe.image} alt={recipe.title} />\r\n                </Col>\r\n                <Col xs={12} md={6} lg={7} xl={8}>\r\n                    <h2 className=\"ml-3 mt-3\">{recipe.title}</h2>\r\n                    <div className=\" ml-2\">\r\n                        {[...Array(5)].map((_, i) => (\r\n                            <span key={i} className={`${styles.Stars} fa fa-star fa-xl ${i < (recipe.ratings_average || 0) ? 'checked' : 'fa-regular'}`}></span>\r\n                        ))}\r\n                        <span className={styles.RatingCounter}>({recipe.ratings_count || 0})</span>\r\n                        {recipe.is_owner && (\r\n                            <Button variant=\"primary\" className=\"ml-3\" onClick={() => history.push(`/recipes/edit/${id}`)}>Edit Recipe</Button>\r\n                        )}\r\n                    </div>\r\n\r\n                    <Row className=\"my-3\">\r\n                        <Col className=\"text-center\"><strong >Preparation Time</strong><br></br><i className=\"fa-solid fa-clock fa-lg\"></i>{recipe.preparation_time} minutes</Col>\r\n                        <Col className=\"text-center\"><strong>Cooking Time</strong><br></br><i className=\"fa-solid fa-clock fa-lg\"></i>{recipe.cooking_time} minutes</Col>\r\n                        <Col className=\"text-center\"><strong>Servings</strong><br></br> <i className=\"fa-solid fa-bowl-food fa-lg\"></i> {recipe.servings}</Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col className=\"text-center mt-4 mb-2\">\r\n                            Favorited by<br></br>\r\n                            <strong>{favoritesCount}</strong> <br></br>\r\n                            people\r\n                        </Col>\r\n                        <Col className=\"text-center\">\r\n                            <span>Recipe by:</span> <br></br>\r\n                            <Link to={`/profiles/${recipe.profile_id}`}>\r\n                                <Avatar src={recipe.profile_image} alt={`${recipe.user} avatar`} height={90} /> </Link>\r\n                            <br></br> {recipe.user}\r\n                        </Col>\r\n                        <Col className=\"text-center mt-4 mb-2\">\r\n                            Add to favorites <br></br>\r\n                            <Button className={`${styles.HeartButton} `} variant=\"link\" onClick={(e) => handleFavorite(e)}>\r\n                                <i className={`fa fa-heart  ${isFavorited ? 'text-danger' : 'text-secondary'}`}></i>\r\n                            </Button>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n\r\n\r\n                    </Row>\r\n                </Col>\r\n\r\n            </Row>\r\n            <Row className=\"mt-3\">\r\n                <Col lg={12} xxl={6}><h4 className={`${styles.Headings} p-1 mt-2`}>Description</h4> <p className='ml-2'> {recipe.description}</p></Col>\r\n                <Col lg={12} xxl={6}><h4 className={`${styles.Headings} p-1 mt-2`}>Ingredients</h4> <p className='ml-2'>{recipe.ingredients}</p></Col>\r\n                <Col lg={12} xxl={6}><h4 className={`${styles.Headings} p-1 mt-2`}>Instructions</h4> <p className='ml-2'>{recipe.instructions}</p> </Col>\r\n                <Col lg={12} xxl={6}><h4 className={`${styles.Headings} p-1 mt-2`}>Recipe Tags</h4> <p className='ml-2'>{tags.map(tag => <span className={`${styles.TagsText} p-1 mr-2`} key={tag.id}>{tag.name} </span>)}</p></Col>\r\n\r\n            </Row>\r\n\r\n            <h4 className={`${styles.Headings} mt-3 ml-1`}> Rate this recipe</h4>\r\n            {currentUser? (\r\n                <RateRecipe\r\n                    recipeId={id}\r\n                    currentUser={currentUser}\r\n                    initialRating={recipe.initial_rating}\r\n                />\r\n\r\n            ): <p className='ml-2 mb-0'>Login to rate recipes.</p>}\r\n            <Row>\r\n\r\n                <Col>\r\n                    <h4 className={`${styles.Headings} ml-1 mt-4 mb-4`}>Reviews</h4>\r\n\r\n                    {currentUser ? (\r\n                        <ReviewCreateForm\r\n                            profile_id={currentUser.profile_id}\r\n                            profileImage={profile_image}\r\n                            post={id}\r\n                            setRecipe={setRecipe}\r\n                            setReviews={setReviews}\r\n                            recipeId={id}\r\n                        />\r\n                    ) : <p className='ml-2'>You need to be logged in to create reviews.</p>}\r\n\r\n                    {reviews.results.length > 0 ? (\r\n                        reviews.results.map(review => (\r\n                            <Review key={review.id} review={review} setReviews={setReviews} />\r\n                        ))\r\n                    ) : (\r\n                        <p className='ml-2'>No reviews yet!</p>\r\n                    )}\r\n\r\n                    {reviews.next && (\r\n                        <Button onClick={handleLoadMoreReviews} className=\"text-center mt-4 mb-3\">\r\n                            Load More Reviews\r\n                        </Button>\r\n                    )}\r\n\r\n\r\n\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default RecipePage;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { Form, Button, Col, Container, Alert, Image, FormLabel, Row, Modal } from 'react-bootstrap';\r\nimport { useDropzone } from 'react-dropzone';\r\n\r\nimport styles from \"../../styles/RecipeCreateEditForm.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport axios from \"axios\";\r\nimport Asset from \"../../components/Asset\";\r\nimport Upload from \"../../assets/img/upload.png\";\r\nimport { showError, showSuccess } from '../../utils/ToastManager';\r\n\r\nfunction RecipeEditForm() {\r\n    const history = useHistory();\r\n    const { id } = useParams();\r\n    const [errors, setErrors] = useState({});\r\n    const [imageFile, setImageFile] = useState();\r\n    const [imagePreview, setImagePreview] = useState();\r\n    const [availableTags, setAvailableTags] = useState([]);\r\n    const [selectedTags, setSelectedTags] = useState([]);\r\n\r\n    const [show, setShow] = useState(false);\r\n\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n    const [recipeData, setRecipeData] = useState({\r\n        title: \"\",\r\n        description: \"\",\r\n        ingredients: \"\",\r\n        instructions: \"\",\r\n        preparation_time: \"\",\r\n        cooking_time: \"\",\r\n        servings: \"\",\r\n        image: null,\r\n        tags: [],\r\n    });\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const [recipeRes, tagsRes] = await Promise.all([\r\n                    axiosReq.get(`/recipes/${id}/`),\r\n                    axios.get(\"/tags\")\r\n                ]);\r\n                const {\r\n                    title, description, image, ingredients, preparation_time,\r\n                    cooking_time, servings, instructions, tags\r\n                } = recipeRes.data;\r\n\r\n                setAvailableTags(tagsRes.data.results);\r\n                setSelectedTags(tags);\r\n                setRecipeData({\r\n                    title, description, ingredients, preparation_time,\r\n                    cooking_time, servings, instructions, image\r\n                });\r\n                setImagePreview(image);\r\n            } catch (err) {\r\n                showError(\"Error fetching data:\", err.message);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, [id, history]);\r\n\r\n\r\n\r\n    const { title, description, ingredients, instructions, preparation_time, cooking_time, servings } = recipeData;\r\n\r\n    const onDrop = (acceptedFiles) => {\r\n        const file = acceptedFiles[0];\r\n        setImageFile(file);\r\n        setImagePreview(URL.createObjectURL(file));\r\n        showSuccess(\"Image ready for upload.\");\r\n    };\r\n\r\n    const { getRootProps, getInputProps } = useDropzone({\r\n        onDrop,\r\n        accept: {\r\n            'image/jpeg': ['.jpeg', '.jpg'],\r\n            'image/png': ['.png'],\r\n            'image/gif': ['.gif'],\r\n            'image/bmp': ['.bmp'],\r\n            'image/tiff': ['.tiff', '.tif'],\r\n            'image/x-icon': ['.ico'],\r\n            'image/svg+xml': ['.svg'],\r\n            'image/webp': ['.webp']\r\n        },\r\n        maxSize: 10 * 1024 * 1024,\r\n        maxFiles: 1\r\n    });\r\n\r\n    const handleChange = (event) => {\r\n        const { name, value, type } = event.target;\r\n\r\n        if (type === \"text\") {\r\n            if (name === \"title\" && value.length > 40) return;\r\n            if (name === \"description\" && value.length > 1000) return;\r\n            if (name === \"ingredients\" && value.length > 2000) return;\r\n            if (name === \"instructions\" && value.length > 3000) return;\r\n        } else if (type === \"number\") {\r\n            if (value === \"\") {\r\n                setRecipeData({\r\n                    ...recipeData,\r\n                    [name]: value,\r\n                });\r\n                return;\r\n            }\r\n            const numValue = Number(value);\r\n            if ((name === \"preparation_time\" || name === \"cooking_time\") && (numValue < 1 || numValue > 999)) return;\r\n            if (name === \"servings\" && (numValue < 1 || numValue > 50)) return;\r\n        }\r\n        setRecipeData({\r\n            ...recipeData,\r\n            [event.target.name]: event.target.value,\r\n        });\r\n    };\r\n\r\n    const handleToggleTag = (tagId) => {\r\n        setSelectedTags(prev => prev.includes(tagId) ? prev.filter(t => t !== tagId) : [...prev, tagId]);\r\n    };\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append(\"title\", title);\r\n        formData.append(\"description\", description);\r\n        formData.append(\"ingredients\", ingredients);\r\n        formData.append(\"instructions\", instructions);\r\n        formData.append(\"preparation_time\", preparation_time);\r\n        formData.append(\"cooking_time\", cooking_time);\r\n        formData.append(\"servings\", servings);\r\n        selectedTags.forEach(tag => formData.append(\"tags\", tag));\r\n        if (imageFile) {\r\n            formData.append(\"image\", imageFile);\r\n        }\r\n\r\n        try {\r\n            await axiosReq.put(`/recipes/${id}/`, formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data',\r\n                },\r\n            });\r\n            history.push(`/recipes/${id}`);\r\n            showSuccess(\"Recipe updated successfully.\");\r\n        } catch (err) {\r\n            showError(\"Failed to update recipe: \" + err.message);\r\n            setErrors(err.response?.data);\r\n\r\n        }\r\n    };\r\n\r\n    const handleDelete = async () => {\r\n        try {\r\n            await axiosReq.delete(`/recipes/${id}/`);\r\n            history.push(\"/\");\r\n            showSuccess(\"Recipe deleted successfully.\");\r\n            handleClose();\r\n        } catch (err) {\r\n            showError(\"Failed to delete the recipe: \" + err.message);\r\n            setErrors(err.response?.data);\r\n            handleClose();\r\n        }\r\n    };\r\n\r\n    const renderTags = () => {\r\n        return availableTags.map(tag => (\r\n            <Button\r\n                key={tag.id}\r\n                onClick={() => handleToggleTag(tag.id)}\r\n                variant={selectedTags.includes(tag.id) ? \"warning\" : \"secondary\"}\r\n                className={`m-1 ${btnStyles.TagButton}`}>\r\n                {tag.name}\r\n            </Button>\r\n        ));\r\n    };\r\n\r\n    return (\r\n        <Form onSubmit={handleSubmit}>\r\n            <Container>\r\n                <Col className=\"py-2 p-0 p-md-2\" md={12}>\r\n                    <Container className={`${appStyles.Content} ${styles.Container} d-flex flex-column justify-content-center`}>\r\n                        <Form.Group className=\"text-center\">\r\n                            <div {...getRootProps({ className: 'dropzone' })}>\r\n                                <input {...getInputProps()} />\r\n                                {imagePreview ? (\r\n                                    <FormLabel>Click on the photo or drop another photo here to change the photo<br></br>\r\n                                        <Image src={imagePreview} alt=\"Preview\" rounded className={appStyles.Image} />\r\n                                    </FormLabel>\r\n                                ) : (\r\n                                    <Asset src={Upload} message=\"Drag and drop a photo here, or click to select a photo\" />\r\n                                )}\r\n                            </div>\r\n                            {errors?.image?.map((message, idx) => <Alert variant=\"warning\" key={idx}>{message}</Alert>)}\r\n                        </Form.Group>\r\n                    </Container>\r\n                    <Container className={appStyles.Content}>\r\n                        <Form.Group>\r\n                            <Form.Label><strong>Title</strong></Form.Label>\r\n                            <Form.Control type=\"text\" name=\"title\" placeholder=\"What do you call your recipe?\" value={title} onChange={handleChange} />\r\n                        </Form.Group>\r\n                        {errors?.title?.map((message, idx) => <Alert variant=\"warning\" key={idx}>{message}</Alert>)}\r\n\r\n                        <Form.Group>\r\n                            <Form.Label><strong>Description</strong></Form.Label>\r\n                            <Form.Control as=\"textarea\" rows={3} name=\"description\" value={description} placeholder=\"Shortly describe your recipe\" onChange={handleChange} />\r\n                        </Form.Group>\r\n                        {errors?.description?.map((message, idx) => <Alert variant=\"warning\" key={idx}>{message}</Alert>)}\r\n\r\n                        <Form.Group>\r\n                            <Form.Label><strong>Ingredients</strong></Form.Label>\r\n                            <Form.Control as=\"textarea\" rows={3} name=\"ingredients\" placeholder=\"List your ingredients and their quantities\" value={ingredients} onChange={handleChange} />\r\n                        </Form.Group>\r\n                        {errors?.ingredients?.map((message, idx) => <Alert variant=\"warning\" key={idx}>{message}</Alert>)}\r\n\r\n                        <Form.Group>\r\n                            <Form.Label><strong>Instructions</strong></Form.Label>\r\n                            <Form.Control as=\"textarea\" rows={6} name=\"instructions\" placeholder=\"How do you cook your recipe?\" value={instructions} onChange={handleChange} />\r\n                        </Form.Group>\r\n                        {errors?.instructions?.map((message, idx) => <Alert variant=\"warning\" key={idx}>{message}</Alert>)}\r\n\r\n                        <Form.Group>\r\n                            <Form.Label><strong>Preparation Time <i className=\"fa-solid fa-clock fa-lg\"></i>(minutes)</strong></Form.Label>\r\n                            <Form.Control type=\"number\" name=\"preparation_time\" value={preparation_time} onChange={handleChange} />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group>\r\n                            <Form.Label><strong>Cooking Time <i className=\"fa-solid fa-clock fa-lg\"></i> (minutes)</strong></Form.Label>\r\n                            <Form.Control type=\"number\" name=\"cooking_time\" value={cooking_time} onChange={handleChange} />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group>\r\n                            <Form.Label><strong>Servings</strong></Form.Label>\r\n                            <Form.Control type=\"number\" name=\"servings\" value={servings} onChange={handleChange} placeholder=\"Number of servings\" />\r\n                        </Form.Group>\r\n                        <Form.Group>\r\n                            <Form.Label><strong>Tags</strong> (Select up to 3 tags for categorisation of your recipe)</Form.Label>\r\n\r\n                            <div>{renderTags()}</div>\r\n                        </Form.Group>\r\n                        <Row>\r\n                            <div>\r\n                                <Button variant=\"danger\" className={` ml-3`} onClick={() => history.goBack()}>\r\n                                    Cancel\r\n                                </Button>\r\n                                <Button className={`${btnStyles.Button} ${btnStyles.Yellow} ml-3`} type=\"submit\">\r\n                                    Save\r\n                                </Button>\r\n                            </div>\r\n                            <Button\r\n                                variant=\"danger\"\r\n                                className={` ${btnStyles.Delete}`}\r\n                                onClick={handleShow}\r\n                            >\r\n                                Delete\r\n                            </Button>\r\n                            <Modal show={show} onHide={handleClose}>\r\n                                <Modal.Header closeButton>\r\n                                    <Modal.Title>Confirm Deletion</Modal.Title>\r\n                                </Modal.Header>\r\n                                <Modal.Body>Are you sure you want to delete this recipe? This action cannot be undone.</Modal.Body>\r\n                                <Modal.Footer>\r\n                                    <Button variant=\"secondary\" onClick={handleClose}>\r\n                                        Cancel\r\n                                    </Button>\r\n                                    <Button variant=\"danger\" onClick={handleDelete}>\r\n                                        Delete Recipe\r\n                                    </Button>\r\n                                </Modal.Footer>\r\n                            </Modal>\r\n                        </Row>\r\n                    </Container>\r\n                </Col>\r\n            </Container>\r\n        </Form>\r\n    );\r\n}\r\n\r\nexport default RecipeEditForm;\r\n","import { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { axiosReq, axiosRes } from \"../api/axiosDefaults\";\r\nimport { useCurrentUser } from \"../contexts/CurrentUserContext\";\r\nimport { followHelper, unfollowHelper } from \"../utils/utils\";\r\nimport { showSuccess, showError } from '../utils/ToastManager';\r\n\r\nconst ProfileDataContext = createContext();\r\nconst SetProfileDataContext = createContext();\r\n\r\nexport const useProfileData = () => useContext(ProfileDataContext);\r\nexport const useSetProfileData = () => useContext(SetProfileDataContext);\r\n\r\nexport const ProfileDataProvider = ({ children }) => {\r\n  const [profileData, setProfileData] = useState({\r\n\r\n    pageProfile: { results: [] },\r\n    popularProfiles: { results: [] },\r\n    followedProfiles: { results: [], next: null },\r\n  });\r\n\r\n  const currentUser = useCurrentUser();\r\n\r\n  const handleFollow = async (clickedProfile) => {\r\n    try {\r\n      const { data } = await axiosRes.post(\"/follow/\", {\r\n        followed: clickedProfile.id,\r\n      });\r\n\r\n      setProfileData((prevState) => ({\r\n        ...prevState,\r\n        pageProfile: {\r\n          results: prevState.pageProfile.results.map((profile) =>\r\n            followHelper(profile, clickedProfile, data.id)\r\n          ),\r\n        },\r\n        popularProfiles: {\r\n          ...prevState.popularProfiles,\r\n          results: prevState.popularProfiles.results.map((profile) =>\r\n            followHelper(profile, clickedProfile, data.id)\r\n          ),\r\n        },\r\n        followedProfiles: {\r\n          ...prevState.followedProfiles,\r\n          results: prevState.followedProfiles.results.map((profile) =>\r\n            followHelper(profile, clickedProfile, data.id)\r\n          ),\r\n        },\r\n      }));\r\n      showSuccess(\"User Followed\")\r\n    } catch (err) {\r\n      showError(\"Something went wrong:\", err)\r\n\r\n    }\r\n  };\r\n\r\n  const handleUnfollow = async (clickedProfile) => {\r\n    try {\r\n      await axiosRes.delete(`/follow/${clickedProfile.following_id}/`);\r\n\r\n      setProfileData((prevState) => ({\r\n        ...prevState,\r\n        pageProfile: {\r\n          results: prevState.pageProfile.results.map((profile) =>\r\n            unfollowHelper(profile, clickedProfile)\r\n          ),\r\n        },\r\n        popularProfiles: {\r\n          ...prevState.popularProfiles,\r\n          results: prevState.popularProfiles.results.map((profile) =>\r\n            unfollowHelper(profile, clickedProfile)\r\n          ),\r\n        },\r\n        followedProfiles: {\r\n          ...prevState.followedProfiles,\r\n          results: prevState.followedProfiles.results.map((profile) =>\r\n            unfollowHelper(profile, clickedProfile)\r\n          ),\r\n        },\r\n      }));\r\n      showSuccess(\"User Unfollowed\")\r\n    } catch (err) {\r\n      showError(\"Something went wrong:\", err)\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchFollowedProfiles = async () => {\r\n      if (currentUser) {\r\n        try {\r\n          const response = await axiosReq.get('/profiles/followed/');\r\n          setProfileData(prev => ({ ...prev, followedProfiles: response.data }));\r\n        } catch (error) {\r\n          showError('Failed to fetch followed profiles', error);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchFollowedProfiles();\r\n  }, [currentUser]);\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      try {\r\n        const { data } = await axiosReq.get(\r\n          \"/profiles/?ordering=-followers_count\"\r\n        );\r\n        setProfileData((prevState) => ({\r\n          ...prevState,\r\n          popularProfiles: data,\r\n        }));\r\n      } catch (err) {\r\n        showError(err.message);\r\n      }\r\n    };\r\n\r\n    handleMount();\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <ProfileDataContext.Provider value={profileData}>\r\n\r\n      <SetProfileDataContext.Provider\r\n        value={{ setProfileData, handleFollow, handleUnfollow }}\r\n      >\r\n        {children}\r\n\r\n      </SetProfileDataContext.Provider>\r\n    </ProfileDataContext.Provider>\r\n  );\r\n};","export default \"data:image/png;base64,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\"","import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Col, Row, Button, Image } from \"react-bootstrap\";\r\n\r\nimport Asset from \"../../components/Asset\";\r\nimport RecipeCard from \"../recipes/RecipeCard\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport { useProfileData, useSetProfileData } from \"../../contexts/ProfileDataContext\";\r\n\r\nimport styles from \"../../styles/ProfilePage.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport NoResults from \"../../assets/img/no-results.png\";\r\n\r\nimport { fetchMoreData } from \"../../utils/utils\";\r\nimport { ProfileEditDropdown } from \"../../components/MoreDropDown\";\r\nimport { showError } from \"../../utils/ToastManager\";\r\n\r\nfunction ProfilePage() {\r\n    const [hasLoaded, setHasLoaded] = useState(false);\r\n    const [profileRecipes, setProfileRecipes] = useState({ results: [] });\r\n    const [profileFavorites, setProfileFavorites] = useState({ results: [] });\r\n    const currentUser = useCurrentUser();\r\n    const { id } = useParams();\r\n\r\n    const [displayedFavoritesCount, setDisplayedFavoritesCount] = useState(4);\r\n    const [displayedRecipesCount, setDisplayedRecipesCount] = useState(4);\r\n\r\n    const { setProfileData, handleFollow, handleUnfollow } = useSetProfileData();\r\n    const { pageProfile } = useProfileData();\r\n\r\n    const [profile] = pageProfile.results;\r\n    const is_owner = currentUser?.username === profile?.user;\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const profileResponse = await axiosReq.get(`/profiles/${id}/`);\r\n                const recipesResponse = await axiosReq.get(`/recipes/?user=${id}`);\r\n                const profileFavoritesResponse = await axiosReq.get(`/recipes/?favorited_by=${id}`);\r\n                setProfileData((prevState) => ({\r\n                    ...prevState,\r\n                    pageProfile: { results: [profileResponse.data] },\r\n                }));\r\n                setProfileFavorites(profileFavoritesResponse.data);\r\n                setProfileRecipes(recipesResponse.data);\r\n                \r\n                setHasLoaded(true);\r\n            } catch (err) {\r\n                showError(\"Error fetching data:\", err.message);\r\n            }\r\n        };\r\n        fetchData();\r\n    }, [id, setProfileData]);\r\n\r\n    const handleLoadMore = () => {\r\n        if (profileRecipes.next) {\r\n            fetchMoreData(profileRecipes.next).then(newData => {\r\n                setProfileRecipes(prev => ({\r\n                    ...prev,\r\n                    results: [...prev.results, ...newData.results],\r\n                    next: newData.next,\r\n                }));\r\n            });\r\n        } else if (profileRecipes.results.length > displayedRecipesCount) {\r\n            setDisplayedRecipesCount(prevCount => prevCount + 4);\r\n        }\r\n    };\r\n\r\n    const handleLoadMoreFavorites = () => {\r\n        if (profileFavorites.next) {\r\n            fetchMoreData(profileFavorites.next).then(newData => {\r\n                setProfileFavorites(prev => ({\r\n                    ...prev,\r\n                    results: [...prev.results, ...newData.results],\r\n                    next: newData.next,\r\n                }));\r\n            });\r\n        } else if (profileFavorites.results.length > displayedFavoritesCount) {\r\n            setDisplayedFavoritesCount(prevCount => prevCount + 4);\r\n        }\r\n    };\r\n\r\n    const profileDetails = (\r\n        <>\r\n            <Row noGutters className=\"px-3 text-center\">\r\n                <Col lg={3} className=\"text-lg-left\">\r\n                    <Image className={styles.ProfileImage} roundedCircle src={profile?.image} />\r\n\r\n\r\n                </Col>\r\n                <Col lg={7}>\r\n                    <h3 className={styles.Username}>{profile?.user}</h3>\r\n                    <h5 className={styles.UserBio}>{profile?.bio || (is_owner && 'You can add a bio to your profile page by editing your profile.')}</h5>\r\n\r\n                </Col>\r\n\r\n\r\n\r\n                <Col lg={2} className=\"text-lg-right\">\r\n                    <span className={styles.ProfileEditDropdown}>{profile?.is_owner && <ProfileEditDropdown id={profile?.id} />}</span>\r\n                    {currentUser && !is_owner && (profile?.following_id ? (\r\n                        <Button className={`${btnStyles.Button} ${btnStyles.BlackOutline}`} onClick={() => handleUnfollow(profile)}>\r\n                            unfollow\r\n                        </Button>\r\n                    ) : (\r\n                        <Button className={`${btnStyles.Button} ${btnStyles.Black}`} onClick={() => handleFollow(profile)}>\r\n                            follow\r\n                        </Button>\r\n                    ))}\r\n                </Col>\r\n                {profile?.content && <Col className=\"p-3\">{profile.content}</Col>}\r\n            </Row>\r\n            <Row className=\"justify-content-center no-gutters\">\r\n                <Col xs={3} className=\"my-2 text-center\">\r\n                    <div>{profile?.recipes_count}</div>\r\n                    <div>recipes</div>\r\n                </Col>\r\n                <Col xs={3} className=\"my-2 text-center\">\r\n                    <div>{profile?.followers_count}</div>\r\n                    <div>followers</div>\r\n                </Col>\r\n                <Col xs={3} className=\"my-2 text-center\">\r\n                    <div>{profile?.following_count}</div>\r\n                    <div>following</div>\r\n                </Col>\r\n            </Row>\r\n        </>\r\n    );\r\n    const favoritedList = (\r\n        <>\r\n            <hr />\r\n            <h2 className=\"\">{profile?.user}'s Favorite Recipes</h2>\r\n\r\n            <Row>\r\n                {profileFavorites.results.length ? (\r\n                    profileFavorites.results.slice(0, displayedFavoritesCount).map(recipe => (\r\n                        <Col sm={6} md={4} lg={3} key={recipe.id}>\r\n                            <RecipeCard recipe={recipe} />\r\n                        </Col>\r\n                    ))\r\n                ) : (\r\n                    <Asset src={NoResults} message={`No results found, ${profile?.user} hasn't favorited any recipes yet.`} />\r\n                )}\r\n            </Row>\r\n            <Row className=\"text-center\">\r\n                {profileFavorites.results.length > displayedFavoritesCount && (\r\n                    <Button className=\"my-3\" onClick={handleLoadMoreFavorites}>Load More Recipes</Button>\r\n                )}\r\n            </Row>\r\n        </>\r\n    );\r\n\r\n    const recipeList = (\r\n        <>\r\n            <hr />\r\n            <h2 className=\"\">{profile?.user}'s recipes</h2>\r\n\r\n            <Row>\r\n                {profileRecipes.results.length ? (\r\n                    profileRecipes.results.slice(0, displayedRecipesCount).map(recipe => (\r\n                        <Col sm={6} md={4} lg={3} key={recipe.id}>\r\n                            <RecipeCard recipe={recipe} />\r\n                        </Col>\r\n                    ))\r\n                ) : (\r\n                    <Asset src={NoResults} message={`No results found, ${profile?.user} hasn't posted any recipes yet.`} />\r\n                )}\r\n            </Row>\r\n\r\n            {profileRecipes.results.length > displayedRecipesCount && (\r\n                <Button className=\"my-3\" onClick={handleLoadMore}>Load More Recipes</Button>\r\n            )}\r\n        </>\r\n    );\r\n\r\n    return (\r\n        <Row>\r\n            \r\n            <Col className=\"py-2 p-5 p-lg-5\" lg={12}>\r\n\r\n\r\n                {hasLoaded ? (\r\n                    <>\r\n                        {profileDetails}\r\n                        {recipeList}\r\n                        {favoritedList}\r\n                    </>\r\n                ) : (\r\n                    <Asset spinner />\r\n                )}\r\n\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\n\r\nexport default ProfilePage;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from \"react-bootstrap/Row\";\r\n\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\nimport {\r\n  useCurrentUser,\r\n  useSetCurrentUser,\r\n} from \"../../contexts/CurrentUserContext\";\r\n\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport { showSuccess } from \"../../utils/ToastManager\";\r\n\r\nconst UsernameForm = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n\r\n  const currentUser = useCurrentUser();\r\n  const setCurrentUser = useSetCurrentUser();\r\n\r\n  useEffect(() => {\r\n    if (currentUser?.profile_id?.toString() === id) {\r\n      setUsername(currentUser.username);\r\n    } else {\r\n      history.push(\"/\");\r\n    }\r\n  }, [currentUser, history, id]);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await axiosRes.put(\"/dj-rest-auth/user/\", {\r\n        username,\r\n      });\r\n      setCurrentUser((prevUser) => ({\r\n        ...prevUser,\r\n        username,\r\n      }));\r\n      showSuccess(\"Username Changed Successfully\")\r\n      history.goBack();\r\n    } catch (err) {\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Row>\r\n      <Col className=\"py-2 mx-auto text-center mt-5\" md={6}>\r\n        <Container className={appStyles.Content}>\r\n          <Form onSubmit={handleSubmit} className=\"my-2\">\r\n            <Form.Group>\r\n              <Form.Label>Change username</Form.Label>\r\n              <Form.Control\r\n                placeholder=\"username\"\r\n                type=\"text\"\r\n                value={username}\r\n                onChange={(event) => setUsername(event.target.value)}\r\n              />\r\n            </Form.Group>\r\n            {errors?.username?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n              onClick={() => history.goBack()}\r\n            >\r\n              cancel\r\n            </Button>\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n              type=\"submit\"\r\n            >\r\n              save\r\n            </Button>\r\n          </Form>\r\n        </Container>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default UsernameForm;","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Form from \"react-bootstrap/Form\";\r\n\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\n\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport { showSuccess } from \"../../utils/ToastManager\";\r\n\r\nconst UserPasswordForm = () => {\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n  const currentUser = useCurrentUser();\r\n\r\n  const [userData, setUserData] = useState({\r\n    new_password1: \"\",\r\n    new_password2: \"\",\r\n  });\r\n  const { new_password1, new_password2 } = userData;\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const handleChange = (event) => {\r\n    setUserData({\r\n      ...userData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (currentUser?.profile_id?.toString() !== id) {\r\n      // redirect user if they are not the owner of this profile\r\n      history.push(\"/\");\r\n    }\r\n  }, [currentUser, history, id]);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await axiosRes.post(\"/dj-rest-auth/password/change/\", userData);\r\n      history.goBack();\r\n      showSuccess(\"Password changed Successfully\")\r\n    } catch (err) {\r\n      \r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Row>\r\n      <Col className=\"py-2 mx-auto text-center mt-5\" md={6}>\r\n        <Container className={appStyles.Content}>\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group>\r\n              <Form.Label>New password</Form.Label>\r\n              <Form.Control\r\n                placeholder=\"new password\"\r\n                type=\"password\"\r\n                value={new_password1}\r\n                onChange={handleChange}\r\n                name=\"new_password1\"\r\n              />\r\n            </Form.Group>\r\n            {errors?.new_password1?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n            <Form.Group>\r\n              <Form.Label>Confirm password</Form.Label>\r\n              <Form.Control\r\n                placeholder=\"confirm new password\"\r\n                type=\"password\"\r\n                value={new_password2}\r\n                onChange={handleChange}\r\n                name=\"new_password2\"\r\n              />\r\n            </Form.Group>\r\n            {errors?.new_password2?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n              onClick={() => history.goBack()}\r\n            >\r\n              cancel\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n            >\r\n              save\r\n            </Button>\r\n          </Form>\r\n        </Container>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default UserPasswordForm;","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Image from \"react-bootstrap/Image\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport {\r\n  useCurrentUser,\r\n  useSetCurrentUser,\r\n} from \"../../contexts/CurrentUserContext\";\r\n\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\n\r\nimport { showSuccess, showError, showWarning } from '../../utils/ToastManager';\r\n\r\nconst ProfileEditForm = () => {\r\n  const currentUser = useCurrentUser();\r\n  const setCurrentUser = useSetCurrentUser();\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const imageFile = useRef();\r\n\r\n  const [profileData, setProfileData] = useState({\r\n    name: \"\",\r\n    bio: \"\",\r\n    image: \"\",\r\n  });\r\n  const { name, bio, image } = profileData;\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      if (currentUser?.profile_id?.toString() === id) {\r\n        try {\r\n          const { data } = await axiosReq.get(`/profiles/${id}/`);\r\n          const { name, bio, image } = data;\r\n          setProfileData({ name, bio, image });\r\n          \r\n        } catch (err) {\r\n          showError(err.message)\r\n          history.push(\"/\");\r\n        }\r\n      } else {\r\n        history.push(\"/\");\r\n      }\r\n    };\r\n\r\n    handleMount();\r\n  }, [currentUser, history, id]);\r\n\r\n  const handleChange = (event) => {\r\n    setProfileData({\r\n      ...profileData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"name\", name);\r\n    formData.append(\"bio\", bio);\r\n\r\n    if (imageFile?.current?.files[0]) {\r\n      formData.append(\"image\", imageFile?.current?.files[0]);\r\n    }\r\n\r\n    try {\r\n      const { data } = await axiosReq.put(`/profiles/${id}/`, formData);\r\n      setCurrentUser((currentUser) => ({\r\n        ...currentUser,\r\n        profile_image: data.image,\r\n      }));\r\n      history.goBack();\r\n      showSuccess(\"Profile Updated Successfully\")\r\n    } catch (err) {\r\n      showWarning(err.response?.data)\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  const textFields = (\r\n    <>\r\n      <Form.Group>\r\n        <Form.Label>Bio</Form.Label>\r\n        <Form.Control\r\n          as=\"textarea\"\r\n          value={bio}\r\n          onChange={handleChange}\r\n          name=\"bio\"\r\n          rows={7}\r\n        />\r\n      </Form.Group>\r\n\r\n      {errors?.bio?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n      <Button\r\n        className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n        onClick={() => history.goBack()}\r\n      >\r\n        cancel\r\n      </Button>\r\n      <Button className={`${btnStyles.Button} ${btnStyles.Blue}`} type=\"submit\">\r\n        save\r\n      </Button>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Row className=\"mt-5\">\r\n        <Col className=\"py-2 p-0 p-md-2 text-center\" md={7} lg={6}>\r\n          <Container className={appStyles.bio}>\r\n            <Form.Group>\r\n              {image && (\r\n                <figure>\r\n                  <Image src={image} fluid />\r\n                </figure>\r\n              )}\r\n              {errors?.image?.map((message, idx) => (\r\n                <Alert variant=\"warning\" key={idx}>\r\n                  {message}\r\n                </Alert>\r\n              ))}\r\n              <div>\r\n                <Form.Label\r\n                  className={`${btnStyles.Button} ${btnStyles.Blue} btn my-auto`}\r\n                  htmlFor=\"image-upload\"\r\n                >\r\n                  Change the image\r\n                </Form.Label>\r\n              </div>\r\n              <Form.File className=\"d-none\"\r\n                id=\"image-upload\"\r\n                ref={imageFile}\r\n                accept=\"image/*\"\r\n                onChange={(e) => {\r\n                  if (e.target.files.length) {\r\n                    setProfileData({\r\n                      ...profileData,\r\n                      image: URL.createObjectURL(e.target.files[0]),\r\n                    });\r\n                  }\r\n                }}\r\n              />\r\n            </Form.Group>\r\n            <div className=\"d-md-none\">{textFields}</div>\r\n          </Container>\r\n        </Col>\r\n        <Col md={5} lg={6} className=\"d-none d-md-block p-0 p-md-2 text-center\">\r\n          <Container className={appStyles.Bio}>{textFields}</Container>\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default ProfileEditForm;","import React from \"react\";\r\nimport styles from \"../../styles/Profile.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { useSetProfileData } from \"../../contexts/ProfileDataContext\";\r\n\r\nconst Profile = (props) => {\r\n  const { profile, mobile, imageSize = 55, card } = props;\r\n  const { id, following_id, image, user, followers_count, recipes_count } = profile;\r\n\r\n  const currentUser = useCurrentUser();\r\n  const is_owner = currentUser?.username === user;\r\n\r\n  const { handleFollow, handleUnfollow } = useSetProfileData();\r\n\r\n \r\n\r\n  return (\r\n    <div className={` ${styles.Container} d-flex align-items-center  ${mobile && \"flex-column\"}`}>\r\n      <div>\r\n        <Link className=\"align-self-center\" to={`/profiles/${id}`}>\r\n          <Avatar src={image} height={imageSize} />\r\n        </Link>\r\n      </div>\r\n      <div className={`mx-2 ${styles.WordBreak}`}>\r\n        <strong>{user}</strong>\r\n        {card && (\r\n          <div>\r\n            <p className=\"m-0 p-0\">Recipes:{recipes_count}</p>\r\n            <p className=\"m-0 p-0\">Followers:{followers_count}</p>\r\n            \r\n          </div>\r\n          \r\n        )}\r\n      </div>\r\n      <div className={`text-right ${!mobile && \"ml-auto\"}`}>\r\n        {!mobile &&\r\n          currentUser &&\r\n          !is_owner &&\r\n          (following_id ? (\r\n            <Button \r\n              className={`mr-1 ${btnStyles.Button} ${btnStyles.BlackOutline}`}\r\n              onClick={() => handleUnfollow(profile)}\r\n            >\r\n              unfollow\r\n            </Button>\r\n          ) : (\r\n            <Button\r\n              className={`mr-1 ${btnStyles.Button} ${btnStyles.Black}`}\r\n              onClick={() => handleFollow(profile)}\r\n            >\r\n              follow\r\n            </Button>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;","import React from \"react\";\r\n\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport SwiperCore, { Autoplay, Pagination, Navigation } from \"swiper\";\r\nimport 'swiper/swiper-bundle.css';\r\n\r\nimport Asset from \"../../components/Asset\";\r\nimport { useProfileData } from \"../../contexts/ProfileDataContext\";\r\nimport Profile from \"./Profile\";\r\n\r\nconst PopularProfiles = ({ mobile, card }) => {\r\n  const { popularProfiles } = useProfileData();\r\n  SwiperCore.use([Autoplay])\r\n  SwiperCore.use([Navigation])\r\n  SwiperCore.use([Pagination])\r\n  return (\r\n    <>\r\n      {popularProfiles.results.length ? (\r\n        <>\r\n          {card ? (\r\n            <Swiper\r\n              autoplay={{\r\n                delay: 3500,\r\n                disableOnInteraction: false,\r\n              }}\r\n              spaceBetween={30}\r\n\r\n              slidesPerView={4}\r\n              breakpoints={{\r\n                320: { slidesPerView: 1 },\r\n                768: { slidesPerView: 2 },\r\n                1200: { slidesPerView: 3 },\r\n                1800: { slidesPerView: 4 },\r\n              }}\r\n              navigation\r\n              \r\n\r\n            >\r\n              {popularProfiles.results.map(profile => (\r\n                <SwiperSlide key={profile.id}>\r\n                  <Profile profile={profile} imageSize={75} mobile={mobile} card={card} />\r\n                </SwiperSlide>\r\n              ))}\r\n            </Swiper>\r\n          ) : (\r\n            <div className=\"d-flex flex-wrap justify-content-around\">\r\n              {popularProfiles.results.map(profile => (\r\n                <Profile key={profile.id} profile={profile} mobile={mobile} card={card} />\r\n              ))}\r\n            </div>\r\n          )}\r\n        </>\r\n      ) : (\r\n        <Asset spinner />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PopularProfiles;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Container, Row, InputGroup, FormControl, Button } from 'react-bootstrap';\r\nimport PopularProfiles from '../profiles/PopularProfiles';\r\nimport styles from '../../styles/Home.module.css'\r\nimport { axiosRes } from '../../api/axiosDefaults';\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport SwiperCore, { Autoplay, Pagination, Navigation } from \"swiper\";\r\nimport 'swiper/swiper-bundle.css';\r\nimport RecipeCard from '../recipes/RecipeCard';\r\nimport { showError } from '../../utils/ToastManager';\r\nimport Asset from '../../components/Asset';\r\n\r\nfunction Home() {\r\n  const history = useHistory();\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [mostFavoritedRecipes, setMostFavoritedRecipes] = useState([]);\r\n  const [latestRecipes, setLatestRecipes] = useState([]);\r\n\r\n  const [hasLoaded, setHasLoaded] = useState(false);\r\n  //https://stackoverflow.com/questions/63052586/react-swiperjs-autoplay-not-making-the-swiper-to-auto-swipe\r\n  SwiperCore.use([Autoplay])\r\n  SwiperCore.use([Navigation])\r\n  SwiperCore.use([Pagination])\r\n\r\n  useEffect(() => {\r\n    const fetchRecipes = async () => {\r\n      try {\r\n        const [mostFavoritedResponse, latestResponse] = await Promise.all([\r\n          axiosRes.get(\"/recipes/most-favorited\"),\r\n          axiosRes.get(\"/recipes\")\r\n        ]);\r\n        setMostFavoritedRecipes(mostFavoritedResponse.data.results);\r\n        setLatestRecipes(latestResponse.data.results);\r\n        setHasLoaded(true);\r\n      } catch (err) {\r\n        showError(\"Failed to fetch recipes\", err.message);\r\n        setHasLoaded(true);\r\n      }\r\n    };\r\n    fetchRecipes();\r\n  }, []);\r\n\r\n  const handleSearch = () => {\r\n    // Redirect to the recipes page with the search term in the URL if the search field is not empty\r\n    if (searchQuery.trim()) {\r\n      history.push(`/recipes?search=${encodeURIComponent(searchQuery)}`);\r\n    }\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      <Row className={`justify-content-center my-4 ${styles.SearchRow}`}>\r\n        <InputGroup className={`mb-3 ${styles.SearchInputGroup}`}>\r\n          <FormControl\r\n            className={`${styles.SearchInput}`}\r\n            placeholder=\"Search Recipes\"\r\n            aria-label=\"SearchRecipes\"\r\n            aria-describedby=\"basic-addon2\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            onKeyUp={(e) => e.key === 'Enter' && handleSearch()}\r\n          />\r\n          <InputGroup.Append>\r\n            <Button variant=\"outline-secondary\" className={styles.SearchButton} onClick={handleSearch}>Search</Button>\r\n          </InputGroup.Append>\r\n        </InputGroup>\r\n      </Row>\r\n      <Container fluid className={styles.Container}>\r\n        <h2>Most Favorited Recipes</h2>\r\n        {hasLoaded ? (\r\n          <Swiper\r\n            autoplay={{\r\n              delay: 3500,\r\n              disableOnInteraction: false,\r\n            }}\r\n            spaceBetween={30}\r\n            slidesPerView={4}\r\n            breakpoints={{\r\n              320: { slidesPerView: 1 },\r\n              768: { slidesPerView: 2 },\r\n              992: { slidesPerView: 3 },\r\n              1200: { slidesPerView: 4 },\r\n            }}\r\n            navigation\r\n          >\r\n            {mostFavoritedRecipes.map(recipe => (\r\n              <SwiperSlide key={recipe.id}>\r\n                <RecipeCard recipe={recipe} />\r\n              </SwiperSlide>\r\n            ))}\r\n          </Swiper>\r\n        ) : (\r\n          <Asset spinner message=\"Loading most favorited recipes...\" />\r\n        )}\r\n\r\n\r\n\r\n        <h2 className='mt-4'>Most Followed Chefs</h2>\r\n\r\n        <PopularProfiles card={true}></PopularProfiles>\r\n\r\n\r\n\r\n        <h2 className='mt-3'>What's new</h2>\r\n        {hasLoaded ? (\r\n          <Swiper\r\n            autoplay={{\r\n              delay: 3500,\r\n              disableOnInteraction: false,\r\n            }}\r\n            spaceBetween={30}\r\n            slidesPerView={4}\r\n            breakpoints={{\r\n              320: { slidesPerView: 1 },\r\n              768: { slidesPerView: 2 },\r\n              992: { slidesPerView: 3 },\r\n              1200: { slidesPerView: 4 },\r\n            }}\r\n            navigation\r\n          >\r\n            {latestRecipes.map(recipe => (\r\n              <SwiperSlide key={recipe.id}>\r\n                <RecipeCard recipe={recipe} />\r\n              </SwiperSlide>\r\n            ))}\r\n          </Swiper>\r\n        ) : (\r\n          <Asset spinner message=\"Loading latest recipes...\" />\r\n        )}\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport NoResults from \"../assets/img/no-results.png\";\r\nimport styles from \"../styles/NotFound.module.css\";\r\nimport Asset from \"./Asset\";\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <div className={styles.NotFound}>\r\n      <Asset\r\n        src={NoResults}\r\n        message={`Sorry, the page you're looking for doesn't exist`}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;","import React from 'react';\r\nimport { Container, Button } from 'react-bootstrap';\r\nimport { fetchMoreData } from '../../utils/utils';\r\nimport Profile from './Profile';\r\nimport { useProfileData } from \"../../contexts/ProfileDataContext\";\r\n\r\nfunction FollowedProfiles() {\r\n  const { followedProfiles, setProfileData } = useProfileData();\r\n\r\n  const handleLoadMore = () => {\r\n    if (followedProfiles.next) {\r\n      fetchMoreData(followedProfiles.next, newData => {\r\n        setProfileData(prev => ({\r\n          ...prev,\r\n          followedProfiles: {\r\n            ...prev.followedProfiles,\r\n            results: [...prev.followedProfiles.results, ...newData.results],\r\n            next: newData.next\r\n          }\r\n        }));\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container className=\"mt-5\">\r\n      {followedProfiles.results.length > 0 ? (\r\n        followedProfiles.results.map(profile => (\r\n          <Profile key={profile.id} profile={profile} imageSize={75} mobile={false} card={true} />\r\n        ))\r\n      ) : (\r\n        <p>You are not following anyone at the moment.</p>\r\n      )}\r\n      {followedProfiles.next && (\r\n        <Button onClick={handleLoadMore} className=\"my-3\">Load More</Button>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default FollowedProfiles;\r\n","import React from 'react';\r\nimport { Container } from 'react-bootstrap';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport styles from './App.module.css';\r\nimport NavBar from './components/NavBar';\r\nimport Footer from './components/Footer';\r\nimport SignUpForm from './pages/auth/SignUpForm';\r\nimport SignInForm from './pages/auth/SignInForm';\r\nimport RecipeCreateForm from './pages/recipes/RecipeCreateForm';\r\nimport RecipeGrid from './pages/recipes/RecipeGrid';\r\nimport RecipePage from './pages/recipes/RecipePage';\r\nimport RecipeEditForm from './pages/recipes/RecipeEditForm';\r\nimport ProfilePage from './pages/profiles/ProfilePage';\r\nimport UsernameForm from \"./pages/profiles/UsernameForm\";\r\nimport UserPasswordForm from \"./pages/profiles/UserPasswordForm\";\r\nimport ProfileEditForm from \"./pages/profiles/ProfileEditForm\";\r\nimport Home from './pages/home/HomePage';\r\n\r\nimport NotFound from \"./components/NotFound\";\r\nimport FollowedProfiles from './pages/profiles/FollowedProfiles';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className={styles.App}>\r\n      <NavBar />\r\n      <Container fluid className={styles.Main}>\r\n          <Switch>\r\n            <Route path=\"/\" exact render={() => <Home />} />\r\n            <Route path=\"/signin\" exact render={() => <SignInForm />} />\r\n            <Route path=\"/signup\" exact render={() => <SignUpForm />} />\r\n            <Route path=\"/recipes\" exact render={() => <RecipeGrid />} />\r\n            <Route path=\"/recipes/:id\" exact render={() => <RecipePage />} />\r\n            <Route path=\"/recipes/edit/:id\" exact render={() => <RecipeEditForm />} />\r\n            <Route path=\"/profiles/followed\" exact render={() => <FollowedProfiles />} />\r\n            <Route path=\"/recipe/create\" exact render={() => <RecipeCreateForm />} />\r\n            <Route path=\"/profiles/:id\" exact render={() => <ProfilePage />} />\r\n            <Route\r\n            exact\r\n            path=\"/profiles/:id/edit/username\"\r\n            render={() => <UsernameForm />}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/profiles/:id/edit/password\"\r\n            render={() => <UserPasswordForm />}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/profiles/:id/edit\"\r\n            render={() => <ProfileEditForm />}\r\n          />\r\n            {/* Fallback route for unmatched paths */}\r\n            <Route render={() => <NotFound />} />\r\n          </Switch>\r\n      </Container>\r\n      <Footer />\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { CurrentUserProvider } from './contexts/CurrentUserContext';\r\nimport { ProfileDataProvider } from \"./contexts/ProfileDataContext\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n      <CurrentUserProvider>\r\n        <ProfileDataProvider>\r\n          <App />\r\n        </ProfileDataProvider>\r\n      </CurrentUserProvider>\r\n    </Router>\r\n\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"SignInUpForm_Wrapper__o94eQ\",\"Row\":\"SignInUpForm_Row__nmqMp\",\"Input\":\"SignInUpForm_Input__2qBaF\",\"FormGroup\":\"SignInUpForm_FormGroup__dXSym\",\"Header\":\"SignInUpForm_Header__1Tvq-\",\"Link\":\"SignInUpForm_Link__-7El5\",\"Container\":\"SignInUpForm_Container__gFiw5\",\"SignInCol\":\"SignInUpForm_SignInCol__mPy2c\",\"SignUpCol\":\"SignInUpForm_SignUpCol__2CTBS\",\"Alert\":\"SignInUpForm_Alert__SAHey\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__XwwGr\",\"font-merriweather-sans\":\"App_font-merriweather-sans__2zlpB\",\"Main\":\"App_Main__3IDkh\",\"Content\":\"App_Content__2eThI\",\"FillerImage\":\"App_FillerImage__2Jgnx\",\"Image\":\"App_Image__GYcZT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"RecipeCard\":\"Recipe_RecipeCard__24E0S\",\"CardBottom\":\"Recipe_CardBottom__S6nkX\",\"Stars\":\"Recipe_Stars__3mp_h\",\"TagsText\":\"Recipe_TagsText__2lu2D\",\"Headings\":\"Recipe_Headings__9CkjI\",\"HeartButton\":\"Recipe_HeartButton__wrZiw\",\"RecipePageImage\":\"Recipe_RecipePageImage__1lpdR\",\"RecipeSummary\":\"Recipe_RecipeSummary__3g-aB\",\"RecipePageImageContainer\":\"Recipe_RecipePageImageContainer__1gc5S\",\"RatingCounter\":\"Recipe_RatingCounter__ZXyZ-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavBar\":\"NavBar_NavBar__dhY2H\",\"NavDropdown\":\"NavBar_NavDropdown__1Vz8z\",\"NavLink\":\"NavBar_NavLink__1HAty\",\"Container\":\"NavBar_Container__3QUIL\",\"LoggedInIcons\":\"NavBar_LoggedInIcons__22jA6\",\"Active\":\"NavBar_Active__1nttR\",\"Brand\":\"NavBar_Brand__bK90W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImagePreview\":\"ReviewCreateEditForm_ImagePreview__fXM1D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FilterCol\":\"RecipeGrid_FilterCol__1cfv0\",\"RecipeGrid\":\"RecipeGrid_RecipeGrid__ONLfE\",\"SearchBar\":\"RecipeGrid_SearchBar__2JQn3\",\"SearchIcon\":\"RecipeGrid_SearchIcon__3WR5X\",\"LoadMoreBtnRow\":\"RecipeGrid_LoadMoreBtnRow__1clvh\",\"MainRow\":\"RecipeGrid_MainRow__XLgko\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NotificationsContainer\":\"Notifications_NotificationsContainer__3UbXh\",\"NotificationItem\":\"Notifications_NotificationItem__3D5sV\",\"ActionButtons\":\"Notifications_ActionButtons__3YXM1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Home_Container__2kgFI\",\"SearchRow\":\"Home_SearchRow__2HxJj\",\"SearchInputGroup\":\"Home_SearchInputGroup__DB4E6\",\"SearchInput\":\"Home_SearchInput__2tkjT\",\"SearchButton\":\"Home_SearchButton__3vYSX\",\"btn\":\"Home_btn__34Zo6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"RecipeCreateEditForm_Container__wa-uW\",\"Text\":\"RecipeCreateEditForm_Text__kLq24\",\"RecipeFields\":\"RecipeCreateEditForm_RecipeFields__3_VtC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ReviewImage\":\"Review_ReviewImage__cM4J1\",\"ReviewImageModal\":\"Review_ReviewImageModal__25VkO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DropdownItem\":\"MoreDropdown_DropdownItem__TlPXM\",\"Absolute\":\"MoreDropdown_Absolute__278ww\",\"EditProfileButton\":\"MoreDropdown_EditProfileButton__2zx_9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileImage\":\"ProfilePage_ProfileImage__2Fk5g\",\"Username\":\"ProfilePage_Username__3OgXy\",\"UserBio\":\"ProfilePage_UserBio__3h0mj\"};"],"sourceRoot":""}