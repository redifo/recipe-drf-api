{"version":3,"sources":["styles/Notifications.module.css","styles/Footer.module.css","styles/Ratings.module.css","styles/Profile.module.css","styles/Avatar.module.css","styles/Asset.module.css","styles/Button.module.css","assets/img/logo-removebg.png","api/axiosDefaults.js","utils/utils.js","contexts/CurrentUserContext.js","components/Avatar.js","hooks/useClickOutsideToggle.js","components/Notifications.js","components/NavBar.js","components/Footer.js","assets/img/pancakes.webp","hooks/useRedirect.js","pages/auth/SignUpForm.js","pages/auth/SignInForm.js","components/Asset.js","assets/img/upload.png","pages/recipes/RecipeCreateForm.js","pages/recipes/RecipeCard.js","pages/recipes/RecipeGrid.js","pages/reviews/ReviewEditForm.js","components/MoreDropDown.js","pages/reviews/Review.js","pages/reviews/ReviewCreateForm.js","pages/ratings/RateRecipe.js","pages/recipes/RecipePage.js","pages/recipes/RecipeEditForm.js","contexts/ProfileDataContext.js","assets/img/no-results.png","pages/profiles/ProfilePage.js","pages/profiles/UsernameForm.js","pages/profiles/UserPasswordForm.js","pages/profiles/ProfileEditForm.js","pages/profiles/Profile.js","pages/profiles/PopularProfiles.js","pages/home/HomePage.js","components/NotFound.js","pages/profiles/FollowedProfiles.js","App.js","reportWebVitals.js","index.js","styles/SignInUpForm.module.css","App.module.css","styles/Recipe.module.css","styles/NavBar.module.css","styles/ReviewCreateEditForm.module.css","styles/RecipeGrid.module.css","styles/Home.module.css","styles/RecipeCreateEditForm.module.css","styles/Review.module.css","styles/MoreDropdown.module.css","styles/ProfilePage.module.css"],"names":["module","exports","axios","defaults","baseURL","headers","post","withCredentials","axiosReq","create","axiosRes","fetchMoreData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resourceUrl","setResource","_yield$axiosReq$get","data","wrap","_context","prev","next","get","sent","prevResource","_objectSpread","results","concat","_toConsumableArray","t0","console","error","stop","_x","_x2","apply","arguments","followHelper","profile","clickedProfile","following_id","id","followers_count","is_owner","following_count","unfollowHelper","removeTokenTimestamp","localStorage","removeItem","CurrentUserContext","createContext","SetCurrentUserContext","useCurrentUser","useContext","useSetCurrentUser","CurrentUserProvider","children","_useState","useState","_useState2","_slicedToArray","currentUser","setCurrentUser","history","useHistory","handleMount","_ref2","_yield$axiosRes$get","log","useEffect","useMemo","interceptors","request","use","_ref3","_callee2","config","_context2","getItem","prevCurrentUser","push","abrupt","err","Promise","reject","response","_ref4","_callee3","_err$response","_context3","status","_jsx","Provider","value","Avatar","src","_ref$height","height","text","_jsxs","className","styles","width","alt","useClickOutsideToggle","exceptionRefs","expanded","setExpanded","ref","useRef","handleClickOutside","event","current","contains","target","some","exceptionRef","document","addEventListener","removeEventListener","Notifications","notifications","setNotifications","fetchNotifications","profile_id","markAsRead","notificationId","patch","is_read","map","notif","deleteNotification","delete","filter","NotificationsContainer","ListGroup","notification","Item","NotificationItem","onClick","recipeId","recipe","sender_name","notification_type_display","ActionButtons","Button","variant","size","NavBar","dropdownRef","notificationRef","_useClickOutsideToggl","handleSignOut","loggedOutIcons","_Fragment","NavLink","activeClassName","Active","to","loggedInIcons","LoggedInIcons","NavDropdown","title","profile_image","username","as","Divider","alignRight","Navbar","expand","fixed","Container","fluid","Brand","logo","Toggle","Collapse","Nav","exact","FooterPage","MDBFooter","style","backgroundColor","MDBContainer","MDBRow","MDBCol","md","MDBIcon","icon","Date","getFullYear","href","SocialIcon","fab","useRedirect","userAuthStatus","SignUpForm","_errors$username","_errors$password","_errors$password2","_errors$non_field_err","password1","password2","signUpData","setSignUpData","_useState3","_useState4","errors","setErrors","handleChange","_defineProperty","name","handleSubmit","preventDefault","Wrapper","Row","Col","Header","Form","onSubmit","Group","FormGroup","controlId","Label","Control","Input","type","placeholder","onChange","message","idx","Alert","btnStyles","Wide","Yellow","non_field_errors","Link","SignUpCol","Image","appStyles","FillerImage","pancakeImage","SignInForm","password","SignInData","setSignInData","_yield$axios$post","user","SignInCol","Asset","spinner","Spinner","animation","RecipeCreateForm","_errors$title","_errors$description","_errors$ingredients","_errors$instructions","_errors$image","imageFile","setImageFile","_useState5","_useState6","imagePreview","setImagePreview","_useState7","_useState8","availableTags","setAvailableTags","_useState9","_useState10","selectedTags","setSelectedTags","then","catch","_useState11","description","ingredients","instructions","preparation_time","cooking_time","servings","image","tags","_useState12","recipeData","setRecipeData","_useDropzone","useDropzone","onDrop","acceptedFiles","file","URL","createObjectURL","accept","maxSize","maxFiles","getRootProps","getInputProps","_event$target","length","numValue","Number","formData","_yield$axiosReq$post","_err$response2","FormData","append","forEach","tag","recipeFields","RecipeFields","rows","tagId","includes","t","TagButton","Large","Red","goBack","Content","FormLabel","rounded","Upload","RecipeCard","ratings_average","ratings_count","initialIsFavorited","is_favorited","initialFavoriteId","favorite_id","isFavorited","setIsFavorited","favoriteId","setFavoriteId","handleFavorite","_yield$axiosRes$post","stopPropagation","Card","Img","Body","Title","CardBottom","Array","_","i","Stars","HeartButton","e","RecipeGrid","queryParam","URLSearchParams","useLocation","search","recipes","setRecipes","hasLoaded","setHasLoaded","query","setQuery","setTags","showFilters","setShowFilters","fetchTags","_yield$axios$get","fetchRecipes","tagsFilter","_yield$axios$get2","join","delayDebounce","setTimeout","clearTimeout","MainRow","FilterCol","lg","display","Check","label","checked","SearchIcon","SearchBar","LoadMoreBtnRow","ReviewEditForm","props","content","setShowEditForm","setReviews","formContent","setFormContent","put","trim","prevReviews","review","updated_at","disabled","ThreeDots","React","forwardRef","EditButton","EditProfileButton","MoreDropdown","handleEdit","handleDelete","show","setShow","handleClose","Dropdown","drop","Menu","popperConfig","strategy","DropdownItem","Modal","onHide","closeButton","Footer","ProfileEditDropdown","Absolute","Review","likes_count","dislikes_count","initialLikeId","like_id","initialIsLike","is_like","likeId","isLike","likesCount","dislikesCount","likeState","setLikeState","showEditForm","showImageModal","setShowImageModal","handleLikeToggle","newLikeState","_yield$axiosRes$put","_data","Media","Owner","ReviewImage","thumbnail","centered","ReviewImageModal","ReviewCreateForm","setRecipe","profileImage","profileId","setText","setImage","preview","setPreview","reviewWithDefaults","prevRecipe","reviews_count","InputGroup","files","ImagePreview","RateRecipe","initialRating","rating","setRating","handleRating","newScore","score","handleRemoveRating","StarsContainer","RecipePage","useParams","isLoading","setIsLoading","reviews","_useState13","_useState14","favoritesCount","setFavoritesCount","fetchData","_yield$Promise$all","_yield$Promise$all2","recipeRes","tagsRes","reviewsRes","all","favorites_count","RecipeSummary","xs","xl","RecipePageImageContainer","RecipePageImage","RatingCounter","xxl","Headings","TagsText","initial_rating","RecipeEditForm","_recipeRes$data","_title","_description","_ingredients","_preparation_time","_cooking_time","_servings","_instructions","_err$response3","Delete","ProfileDataContext","SetProfileDataContext","useProfileData","useSetProfileData","ProfileDataProvider","pageProfile","popularProfiles","followedProfiles","profileData","setProfileData","handleFollow","followed","prevState","handleUnfollow","fetchFollowedProfiles","_ref5","_callee4","_context4","ProfilePage","profileRecipes","setProfileRecipes","profileFavorites","setProfileFavorites","displayedFavoritesCount","setDisplayedFavoritesCount","displayedRecipesCount","setDisplayedRecipesCount","_useSetProfileData","profileResponse","recipesResponse","profileFavoritesResponse","profileDetails","noGutters","ProfileImage","roundedCircle","Username","UserBio","bio","BlackOutline","Black","recipes_count","favoritedList","slice","sm","NoResults","newData","prevCount","recipeList","UsernameForm","setUsername","_currentUser$profile_","toString","prevUser","Blue","UserPasswordForm","_errors$new_password","_errors$new_password2","new_password1","new_password2","userData","setUserData","ProfileEditForm","_errors$bio","_name","_bio","_image","_imageFile$current","_imageFile$current2","_yield$axiosReq$put","textFields","htmlFor","File","Bio","Profile","mobile","_props$imageSize","imageSize","card","WordBreak","PopularProfiles","SwiperCore","Autoplay","Navigation","Pagination","Swiper","autoplay","delay","disableOnInteraction","spaceBetween","slidesPerView","breakpoints","navigation","SwiperSlide","Home","searchQuery","setSearchQuery","mostFavoritedRecipes","setMostFavoritedRecipes","latestRecipes","setLatestRecipes","mostFavoritedResponse","latestResponse","handleSearch","encodeURIComponent","SearchRow","SearchInputGroup","FormControl","SearchInput","onKeyUp","key","Append","SearchButton","NotFound","FollowedProfiles","_useProfileData","App","Main","Switch","Route","path","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","Router","getElementById"],"mappings":"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","file":"static/js/main.870b7dc6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"NotificationsContainer\":\"Notifications_NotificationsContainer__3UbXh\",\"NotificationItem\":\"Notifications_NotificationItem__3D5sV\",\"ActionButtons\":\"Notifications_ActionButtons__3YXM1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SocialIcon\":\"Footer_SocialIcon__Q7Wc6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Stars\":\"Ratings_Stars__1da73\",\"StarsContainer\":\"Ratings_StarsContainer__3GH_k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Profile_Container__23hrL\",\"WordBreak\":\"Profile_WordBreak__1Qf-i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Avatar_Avatar__374Vg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Asset\":\"Asset_Asset__1SBPY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1xnQg\",\"Wide\":\"Button_Wide__43Xqo\",\"Blue\":\"Button_Blue__2t5gu\",\"BlueOutline\":\"Button_BlueOutline__1snG2\",\"Yellow\":\"Button_Yellow__3muUT\",\"Black\":\"Button_Black__jiiZ9\",\"BlackOutline\":\"Button_BlackOutline__NAtMo\",\"TagButton\":\"Button_TagButton__2HQq1\",\"Large\":\"Button_Large__3ROpZ\",\"Red\":\"Button_Red__3twu4\",\"Delete\":\"Button_Delete__29wZU\"};","export default __webpack_public_path__ + \"static/media/logo-removebg.e817a1fe.png\";","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"/api\";\r\naxios.defaults.headers.post['Content-Type'] = \"multipart/form-data\";\r\naxios.defaults.withCredentials = true;\r\n\r\n\r\nexport const axiosReq = axios.create();\r\nexport const axiosRes = axios.create();\r\n","import jwtDecode from \"jwt-decode\";\r\nimport { axiosReq } from \"../api/axiosDefaults\";\r\n\r\nexport const fetchMoreData = async (resourceUrl, setResource) => {\r\n  try {\r\n    const { data } = await axiosReq.get(resourceUrl);\r\n    setResource(prevResource => ({\r\n      ...prevResource,\r\n      next: data.next,\r\n      results: [...prevResource.results, ...data.results]\r\n    }));\r\n  } catch (err) {\r\n    console.error(\"Error loading more data:\", err);\r\n  }\r\n};\r\n\r\n\r\nexport const followHelper = (profile, clickedProfile, following_id) => {\r\n  return profile.id === clickedProfile.id\r\n    ? // This is the profile I clicked on,\r\n      // update its followers count and set its following id\r\n      {\r\n        ...profile,\r\n        followers_count: profile.followers_count + 1,\r\n        following_id,\r\n      }\r\n    : profile.is_owner\r\n    ? // This is the profile of the logged in user\r\n      // update its following count\r\n      { ...profile, following_count: profile.following_count + 1 }\r\n    : // this is not the profile the user clicked on or the profile\r\n      // the user owns, so just return it unchanged\r\n      profile;\r\n};\r\n\r\nexport const unfollowHelper = (profile, clickedProfile) => {\r\n  return profile.id === clickedProfile.id\r\n    ? // This is the profile I clicked on,\r\n      // update its followers count and set its following id\r\n      {\r\n        ...profile,\r\n        followers_count: profile.followers_count - 1,\r\n        following_id: null,\r\n      }\r\n    : profile.is_owner\r\n    ? // This is the profile of the logged in user\r\n      // update its following count\r\n      { ...profile, following_count: profile.following_count - 1 }\r\n    : // this is not the profile the user clicked on or the profile\r\n      // the user owns, so just return it unchanged\r\n      profile;\r\n};\r\n\r\nexport const setTokenTimestamp = (data) => {\r\n  const refreshTokenTimestamp = jwtDecode(data?.refresh_token).exp;\r\n  localStorage.setItem(\"refreshTokenTimestamp\", refreshTokenTimestamp);\r\n};\r\n\r\nexport const shouldRefreshToken = () => {\r\n  return !!localStorage.getItem(\"refreshTokenTimestamp\");\r\n};\r\n\r\nexport const removeTokenTimestamp = () => {\r\n  localStorage.removeItem(\"refreshTokenTimestamp\");\r\n};","import { createContext, useContext, useEffect, useMemo, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { axiosReq, axiosRes } from \"../api/axiosDefaults\";\r\nimport { useHistory } from \"react-router\";\r\nimport { removeTokenTimestamp, shouldRefreshToken } from \"../utils/utils\";\r\n\r\nexport const CurrentUserContext = createContext();\r\nexport const SetCurrentUserContext = createContext();\r\n\r\nexport const useCurrentUser = () => useContext(CurrentUserContext);\r\nexport const useSetCurrentUser = () => useContext(SetCurrentUserContext);\r\n\r\nexport const CurrentUserProvider = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const history = useHistory();\r\n\r\n  const handleMount = async () => {\r\n    try {\r\n      const { data } = await axiosRes.get(\"dj-rest-auth/user/\");\r\n      setCurrentUser(data);\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleMount();\r\n  }, []);\r\n\r\n  useMemo(() => {\r\n    axiosReq.interceptors.request.use(\r\n      async (config) => {\r\n        if (shouldRefreshToken()) {\r\n          try {\r\n            await axios.post(\"/dj-rest-auth/token/refresh/\");\r\n          } catch (err) {\r\n            setCurrentUser((prevCurrentUser) => {\r\n              if (prevCurrentUser) {\r\n                history.push(\"/signin\");\r\n              }\r\n              return null;\r\n            });\r\n            removeTokenTimestamp();\r\n            return config;\r\n          }\r\n        }\r\n        return config;\r\n      },\r\n      (err) => {\r\n        return Promise.reject(err);\r\n      }\r\n    );\r\n\r\n    axiosRes.interceptors.response.use(\r\n      (response) => response,\r\n      async (err) => {\r\n        if (err.response?.status === 401) {\r\n          try {\r\n            await axios.post(\"/dj-rest-auth/token/refresh/\");\r\n          } catch (err) {\r\n            setCurrentUser((prevCurrentUser) => {\r\n              if (prevCurrentUser) {\r\n                history.push(\"/signin\");\r\n              }\r\n              return null;\r\n            });\r\n            removeTokenTimestamp();\r\n          }\r\n          return axios(err.config);\r\n        }\r\n        return Promise.reject(err);\r\n      }\r\n    );\r\n  }, [history]);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <SetCurrentUserContext.Provider value={setCurrentUser}>\r\n        {children}\r\n      </SetCurrentUserContext.Provider>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n};","import React from 'react'\r\nimport styles from '../styles/Avatar.module.css'\r\n\r\nexport const Avatar = ({ src, height = 45, text }) => {\r\n\r\n    return (\r\n        <span> <img className={styles.Avatar} src={src}\r\n            height={height} width={height} alt='avatar' />\r\n            {text}\r\n        </span>\r\n    )\r\n}\r\n\r\nexport default Avatar","import { useEffect, useRef, useState } from \"react\";\r\n\r\nconst useClickOutsideToggle = (exceptionRefs) => {\r\n  const [expanded, setExpanded] = useState(false);\r\n  const ref = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (ref.current && !ref.current.contains(event.target) && \r\n          !exceptionRefs.some(exceptionRef => exceptionRef.current && exceptionRef.current.contains(event.target))) {\r\n        setExpanded(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, [ref, exceptionRefs]); \r\n\r\n  return { expanded, setExpanded, ref };\r\n};\r\n\r\nexport default useClickOutsideToggle;","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Button, ListGroup } from 'react-bootstrap';\r\nimport styles from '../styles/Notifications.module.css';\r\nimport { useCurrentUser } from \"../contexts/CurrentUserContext\";\r\nimport { axiosRes } from \"../api/axiosDefaults\";\r\n\r\nconst Notifications = () => {\r\n    const [notifications, setNotifications] = useState([]);\r\n    const history = useHistory();\r\n    const currentUser = useCurrentUser();\r\n\r\n    useEffect(() => {\r\n        const fetchNotifications = async () => {\r\n            if (currentUser) {\r\n                try {\r\n                    const response = await axiosRes.get(`/notifications/?recipient=${currentUser.profile_id}`);\r\n                    setNotifications(response.data.results);\r\n                } catch (err) {\r\n                    console.error(\"Error fetching notifications:\", err);\r\n                }\r\n            }\r\n        };\r\n        fetchNotifications();\r\n    }, [currentUser]);\r\n\r\n    const markAsRead = async (notificationId) => {\r\n        try {\r\n            await axiosRes.patch(`/notifications/${notificationId}/`, { is_read: true });\r\n            setNotifications(notifications.map(notif =>\r\n                notif.id === notificationId ? { ...notif, is_read: true } : notif\r\n            ));\r\n        } catch (err) {\r\n            console.error(\"Failed to mark notification as read:\", err);\r\n        }\r\n    };\r\n\r\n    const deleteNotification = async (notificationId) => {\r\n        try {\r\n            await axios.delete(`/notifications/${notificationId}/`);\r\n            setNotifications(notifications.filter(notif => notif.id !== notificationId));\r\n        } catch (err) {\r\n            console.error(\"Failed to delete notification:\", err);\r\n        }\r\n    };\r\n\r\n    const navigateToRecipe = (recipeId) => {\r\n        history.push(`/recipes/${recipeId}`);\r\n    };\r\n\r\n    return (\r\n        <div className={styles.NotificationsContainer}>\r\n            <ListGroup>\r\n                {notifications.map(notification => (\r\n                    <ListGroup.Item key={notification.id} className={styles.NotificationItem}>\r\n                        <div onClick={() => navigateToRecipe(notification.recipe)}>\r\n                            <strong>{notification.sender_name}</strong> {notification.notification_type_display} on your recipe.\r\n                        </div>\r\n                        <div className={styles.ActionButtons}>\r\n                            <Button variant=\"outline-primary\" size=\"sm\" onClick={() => markAsRead(notification.id)}>\r\n                                Mark as Read\r\n                            </Button>\r\n                            <Button variant=\"outline-danger\" size=\"sm\" onClick={() => deleteNotification(notification.id)}>\r\n                                Delete\r\n                            </Button>\r\n                        </div>\r\n                    </ListGroup.Item>\r\n                ))}\r\n            </ListGroup>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Notifications;\r\n","import React, { useRef } from 'react';\r\nimport { Container, Navbar, Nav, NavDropdown } from 'react-bootstrap';\r\nimport logo from '../assets/img/logo-removebg.png';\r\nimport styles from '../styles/NavBar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { useCurrentUser, useSetCurrentUser } from '../contexts/CurrentUserContext';\r\nimport Avatar from './Avatar';\r\nimport axios from \"axios\";\r\nimport useClickOutsideToggle from \"../hooks/useClickOutsideToggle\";\r\nimport { removeTokenTimestamp } from \"../utils/utils\";\r\nimport Notifications from './Notifications';\r\n\r\nconst NavBar = () => {\r\n    const currentUser = useCurrentUser();\r\n    const setCurrentUser = useSetCurrentUser();\r\n\r\n    const dropdownRef = useRef(null);\r\n    const notificationRef = useRef(null);\r\n\r\n    const { expanded, setExpanded, ref } = useClickOutsideToggle([dropdownRef, notificationRef]);\r\n\r\n    const handleSignOut = async () => {\r\n        try {\r\n            await axios.post(\"dj-rest-auth/logout/\");\r\n            setCurrentUser(null);\r\n            removeTokenTimestamp();\r\n\r\n        } catch (err) {\r\n            console.log(\"Logout Error:\", err);\r\n        }\r\n    };\r\n\r\n    const loggedOutIcons = <>\r\n        <NavLink className={styles.NavLink} activeClassName={styles.Active} to=\"/signin\"><i className=\"fa-solid fa-right-to-bracket\"></i>Login</NavLink>\r\n        <NavLink className={styles.NavLink} activeClassName={styles.Active} to=\"/signup\"><i className=\"fa-solid fa-user-plus\"></i>Sign Up</NavLink>\r\n    </>\r\n\r\n    const loggedInIcons = <>\r\n        <div className={styles.LoggedInIcons}>\r\n            <NavDropdown\r\n                ref={dropdownRef}\r\n                className={`${styles.NavDropdown} pl-2`}\r\n                title={<Avatar src={currentUser?.profile_image} height={60} text={currentUser?.username} />}\r\n                id=\"basic-nav-dropdown\"\r\n            >\r\n                <NavDropdown.Item as={NavLink} activeClassName={styles.Active} to={`/profiles/${currentUser?.profile_id}`}> <i className=\"fa-solid fa-user\"></i> Profile Page</NavDropdown.Item>\r\n                <NavDropdown.Item as={NavLink} activeClassName={styles.Active} to=\"/profiles/followed\"><i className=\"fa-solid fa-users\"></i>Followed Chefs</NavDropdown.Item>\r\n                <NavDropdown.Divider />\r\n                <NavDropdown.Item as={NavLink} to=\"/\" onClick={handleSignOut}>\r\n                    <i className=\"fa-solid fa-right-from-bracket\"></i> Sign Out\r\n                </NavDropdown.Item>\r\n            </NavDropdown>\r\n            <NavDropdown\r\n                className={`${styles.NavDropdown} pl-1`}\r\n                ref={notificationRef}\r\n                title={<i className=\"fa-solid fa-bell\"></i>}\r\n                id=\"nav-dropdown-notifications\"\r\n                alignRight={false}\r\n            >\r\n                <Notifications currentUser={currentUser} />\r\n            </NavDropdown>\r\n            <NavLink className={styles.NavLink} activeClassName={styles.Active} to=\"/recipe/create\">\r\n                <i className=\"fa-solid fa-plus fa-2xl\"></i>\r\n            </NavLink>\r\n        </div>\r\n    </>\r\n\r\n    return (\r\n        <Navbar expanded={expanded} className={styles.NavBar} expand=\"lg\" fixed='top'>\r\n            <Container fluid className={styles.Container}>\r\n                <NavLink to='/'>\r\n                    <Navbar.Brand className={styles.Brand}><img src={logo} alt=\"logo\" height=\"75\" />Recipe Domain</Navbar.Brand>\r\n                </NavLink>\r\n                <Navbar.Toggle ref={ref} onClick={() => setExpanded(!expanded)} aria-controls=\"basic-navbar-nav\" />\r\n                <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                    <Nav className=\"\">\r\n                        <NavLink className={styles.NavLink} to='/' exact activeClassName={styles.Active} ><i className=\"fas fa-home\"></i>Home</NavLink>\r\n                        <NavLink className={styles.NavLink} to='/recipes' activeClassName={styles.Active} ><i className=\"fa-solid fa-utensils\"></i> Recipes</NavLink>\r\n                    </Nav>\r\n                    <Nav className='ml-auto'>\r\n                        {\r\n                            currentUser ? (\r\n                                loggedInIcons\r\n                            ) : (\r\n                                loggedOutIcons\r\n                            )\r\n                        }\r\n\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </Container>\r\n        </Navbar>\r\n    );\r\n}\r\n\r\nexport default NavBar;\r\n","import React from \"react\";\r\nimport { MDBCol, MDBContainer, MDBRow, MDBFooter, MDBIcon } from \"mdbreact\";\r\nimport styles from \"../styles/Footer.module.css\"\r\nconst FooterPage = () => {\r\n  return (\r\n    <MDBFooter style={{ backgroundColor: 'rgba(0, 0, 0, 0.05)' }} className='text-center text-lg-start text-muted'>\r\n      \r\n\r\n      <section className=''>\r\n        <MDBContainer className='text-center text-md-start mt-5'>\r\n          <MDBRow className='mt-3'>\r\n            <MDBCol md=\"7\" className='mx-auto mb-4'>\r\n              <h5 className='text-uppercase fw-bold mb-1 mt-3'>\r\n                About Us\r\n              </h5>\r\n              <p>\r\n                Welcome to Recipe Domain, where passion\r\n                for food meets culinary innovation. Our platform\r\n                is dedicated to bringing together home cooks, professional\r\n                chefs, and food enthusiasts from around the world. Discover,\r\n                share, and revel in a vast collection of recipes that cater\r\n                to all tastes and dietary needs.\r\n              </p>\r\n              <div>\r\n                </div>\r\n            </MDBCol>\r\n\r\n            <MDBCol md=\"4\" className='mx-auto mb-md-0 mb-4'>\r\n              <h5 className='text-uppercase fw-bold mb-1 mt-3'>Contact</h5>\r\n              <p className=\"m-0\">\r\n                <MDBIcon icon=\"home\" className=\"m-0\" />\r\n                New York, NY 10012, US\r\n              </p>\r\n              <p className=\"m-0\">\r\n                <MDBIcon icon=\"envelope\" className=\"me-1\" />\r\n                info@example.com\r\n              </p>\r\n              <p className=\"m-0\">\r\n                <MDBIcon icon=\"phone\" className=\"me-1\" /> + 01 234 567 88\r\n              </p>\r\n              <p className=\"m-0\">\r\n                <MDBIcon icon=\"print\" className=\"me-1\" /> + 01 234 567 89\r\n              </p>\r\n            </MDBCol>\r\n          </MDBRow>\r\n        </MDBContainer>\r\n      </section>\r\n\r\n      <div className='text-center p-2' style={{ backgroundColor: 'rgba(0, 0, 0, 0.05)' }}>\r\n        &copy; {new Date().getFullYear()} Made by &nbsp;&nbsp;\r\n        <a className='text-reset fw-bold' href='https://redifoo.me/'>\r\n          <strong>Kaan Redif</strong>\r\n        </a>\r\n        &nbsp;&nbsp; for diploma in fullstack at Code Institute &nbsp;&nbsp;&nbsp;\r\n        <a href='https://www.linkedin.com/in/kaan-redif/' >\r\n                  <MDBIcon className={styles.SocialIcon} fab icon=\"linkedin\" />\r\n                </a>\r\n                <a href='https://github.com/redifo' >\r\n                  <MDBIcon className={styles.SocialIcon}  fab icon=\"github\" />\r\n                </a>\r\n\r\n\r\n      </div>\r\n    </MDBFooter>\r\n  );\r\n}\r\n\r\nexport default FooterPage;","export default __webpack_public_path__ + \"static/media/pancakes.037fd4c1.webp\";","import axios from \"axios\";\r\nimport { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport const useRedirect = (userAuthStatus) => {\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      try {\r\n        await axios.post(\"/dj-rest-auth/token/refresh/\");\r\n        // if user is logged in, the code below will run\r\n        if (userAuthStatus === \"loggedIn\") {\r\n          history.push(\"/\");\r\n        }\r\n      } catch (err) {\r\n        // if user is not logged in, the code below will run\r\n        if (userAuthStatus === \"loggedOut\") {\r\n          history.push(\"/signin\");\r\n        }\r\n      }\r\n    };\r\n\r\n    handleMount();\r\n  }, [history, userAuthStatus]);\r\n};","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport styles from \"../../styles/SignInUpForm.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\n\r\nimport pancakeImage from '../../assets/img/pancakes.webp';\r\n\r\nimport { Form, Button, Image, Col, Row, Alert } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { useRedirect } from \"../../hooks/useRedirect\";\r\n\r\nconst SignUpForm = () => {\r\n    useRedirect('loggedout')\r\n\r\n    const [signUpData, setSignUpData] = useState({\r\n        username: '',\r\n        password1: '',\r\n        password2: '',\r\n    })\r\n    const { username, password1, password2 } = signUpData;\r\n\r\n    const [errors, setErrors] = useState({});\r\n\r\n    const history = useHistory();\r\n\r\n    const handleChange = (event) => {\r\n        setSignUpData({\r\n            ...signUpData,\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            await axios.post('/dj-rest-auth/registration/', signUpData)\r\n            history.push('/signin')\r\n\r\n        } catch (err) {\r\n            setErrors(err.response?.data);\r\n        }\r\n    };\r\n    return (\r\n        <div className={styles.Wrapper}>\r\n            <Row className={styles.Row}>\r\n\r\n                <Col className=\"my-auto p-0 text-center\" md={8}>\r\n                    \r\n                        <h1 className={`${styles.Header} pb-2 pt-2`}>Sign Up</h1>\r\n\r\n                        <Form onSubmit={handleSubmit}>\r\n                            <Form.Group className={styles.FormGroup} controlId=\"username\">\r\n                                <Form.Label className=\"d-none\">Username</Form.Label>\r\n                                <Form.Control\r\n                                    className={styles.Input}\r\n                                    type=\"text\"\r\n                                    placeholder=\"Username\"\r\n                                    name=\"username\"\r\n                                    value={username}\r\n                                    onChange={handleChange} />\r\n                            </Form.Group>\r\n                            {errors.username?.map((message, idx) =>\r\n                                <Alert className={styles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\r\n                            )}\r\n\r\n                            <Form.Group className={styles.FormGroup} controlId=\"password1\">\r\n                                <Form.Label className=\"d-none\">Password</Form.Label>\r\n                                <Form.Control\r\n                                    className={styles.Input}\r\n                                    type=\"password\"\r\n                                    placeholder=\"Password\"\r\n                                    name=\"password1\"\r\n                                    value={password1}\r\n                                    onChange={handleChange} />\r\n                            </Form.Group>\r\n                            {errors.password1?.map((message, idx) =>\r\n                                <Alert className={styles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\r\n                            )}\r\n                            <Form.Group className={styles.FormGroup} controlId=\"password2\">\r\n                                <Form.Label className=\"d-none\">Confirm Password</Form.Label>\r\n                                <Form.Control\r\n                                    className={styles.Input}\r\n                                    type=\"password\"\r\n                                    placeholder=\"Confirm Password\"\r\n                                    name=\"password2\"\r\n                                    value={password2}\r\n                                    onChange={handleChange} />\r\n                            </Form.Group>\r\n                            {errors.password2?.map((message, idx) =>\r\n                                <Alert className={styles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\r\n                            )}\r\n                            <Button className={`${btnStyles.Button} ${btnStyles.Wide} ${btnStyles.Yellow} mt-4 mb-2`} type=\"submit\">\r\n                                Sign Up\r\n                            </Button>\r\n                            {errors.non_field_errors?.map((message, idx) => (\r\n                                <Alert className={styles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\r\n                            ))}\r\n                        </Form>\r\n                        <Link className={`${styles.Link} mt-4 mb-1`} to=\"/signin\">\r\n                            Already have an account? <span>Sign in</span>\r\n                        </Link>\r\n                    \r\n\r\n                </Col>\r\n                <Col\r\n                    md={4}\r\n                    className={`my-auto d-none d-md-block p-0 ${styles.SignUpCol}`}\r\n                >\r\n                    <Image\r\n                        className={`${appStyles.FillerImage}`}\r\n                        src={\r\n                            pancakeImage\r\n                        }\r\n                    />\r\n                </Col>\r\n\r\n            </Row>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SignUpForm;","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport styles from \"../../styles/SignInUpForm.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\n\r\nimport pancakeImage from '../../assets/img/pancakes.webp';\r\n\r\nimport { Form, Button, Image, Col, Row, Alert } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { useRedirect } from \"../../hooks/useRedirect\";\r\n\r\nconst SignInForm = () => {\r\n    const setCurrentUser = useSetCurrentUser();\r\n    useRedirect('loggedIn')\r\n    const [SignInData, setSignInData] = useState({\r\n        username: '',\r\n        password: '',\r\n\r\n    })\r\n    const { username, password, } = SignInData;\r\n\r\n    const [errors, setErrors] = useState({});\r\n\r\n    const history = useHistory();\r\n\r\n    const handleChange = (event) => {\r\n        setSignInData({\r\n            ...SignInData,\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            const {data} = await axios.post('/dj-rest-auth/login/', SignInData)\r\n            setCurrentUser(data.user)\r\n            history.push('/');\r\n        } catch (err) {\r\n            setErrors(err.response?.data)\r\n        }\r\n    };\r\n    return (\r\n        <div className={styles.Wrapper}>\r\n            <Row className={styles.Row}>\r\n\r\n                <Col className=\"my-auto p-0 text-center\" md={8}>\r\n                    \r\n                        <h1 className={`${styles.Header} pb-2 pt-2`}>Sign In</h1>\r\n\r\n                        <Form onSubmit={handleSubmit}>\r\n                            <Form.Group className={styles.FormGroup} controlId=\"username\">\r\n                                <Form.Label className=\"d-none\">Username</Form.Label>\r\n                                <Form.Control\r\n                                    className={styles.Input}\r\n                                    type=\"text\"\r\n                                    placeholder=\"Username\"\r\n                                    name=\"username\"\r\n                                    value={username}\r\n                                    onChange={handleChange} />\r\n                            </Form.Group>\r\n                            {errors.username?.map((message, idx) =>\r\n                                <Alert className={styles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\r\n                            )}\r\n\r\n                            <Form.Group className={styles.FormGroup} controlId=\"password\">\r\n                                <Form.Label className=\"d-none\">Password</Form.Label>\r\n                                <Form.Control\r\n                                    className={styles.Input}\r\n                                    type=\"password\"\r\n                                    placeholder=\"Password\"\r\n                                    name=\"password\"\r\n                                    value={password}\r\n                                    onChange={handleChange} />\r\n                            </Form.Group>\r\n                            {errors.password?.map((message, idx) =>\r\n                                <Alert className={styles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\r\n                            )}\r\n                            <Button className={`${btnStyles.Button} ${btnStyles.Wide} ${btnStyles.Yellow} mt-5 mb-2`} type=\"submit\">\r\n                                Sign In\r\n                            </Button>\r\n                            {errors.non_field_errors?.map((message, idx) => (\r\n                                <Alert className={styles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\r\n                            ))}\r\n                        </Form>\r\n                        <Link className={`${styles.Link} mt-4 mb-1`} to=\"/signup\">\r\n                            Don't have an account? <span>Sign Up</span>\r\n                        </Link>\r\n                    \r\n\r\n                </Col>\r\n                <Col\r\n                    md={4}\r\n                    className={`my-auto d-none d-md-block p-0 ${styles.SignInCol}`}\r\n                >\r\n                    <Image\r\n                        className={`${appStyles.FillerImage}`}\r\n                        src={\r\n                            pancakeImage\r\n                        }\r\n                    />\r\n                </Col>\r\n\r\n            </Row>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SignInForm;","import React from \"react\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport styles from \"../styles/Asset.module.css\";\r\n\r\nconst Asset = ({ spinner, src, message }) => {\r\n  return (\r\n    <div className={`${styles.Asset} p-4`}>\r\n      {spinner && <Spinner animation=\"border\" />}\r\n      {src && <img src={src} alt={message} />}\r\n      {message && <p className=\"mt-4\">{message}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Asset;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUmSURBVHgB7Z1NbxtFGMf/M7Nre3HitElRoLIlDiBFFbdIVKVCKh+AU8sXqNo7Uk+cEOJKvwEfAAV6KhfEASREoyJya0tQg1TJbqUc6qS1E6/3bZixcbp2nZdN7J3d5vlJq/V6d63o+e28O34YToiUkn0KiA3Ant8Ed1oQXQs85GC+AC+z/j5+j+1CIIP4JYTxYy94dVzyEXplBFYEubuIoAqEv6qNMSZxAhgSogNeU3/PuScoRg4KWQ1matjwQw+BY6FbrcL7gbEwye1HFnBBysLMU8yGAQog9mXHgndWYne1xjpHuf5QART441FU1de2i+1HHzLvoOsOFLD8l5zDObwF4ti0XbT/WWKt/c6PFaDr+YtPMU9P/WTY6cBbX0ITYxpsPu4GCv5kKavOytI65sede03A5XVJ9f0U0BLefywro+8PCdANrlvCDIipMGejfOGBHHq4hwSc+RdnQEyVSGA2frwn4FJdOmoEe7oHVSmgq6J4KdgTEDLqbqZFvBT0BHwupaCGNz10KVB9/d4QoCeg0aDgp021gZLe9wR0AhRBpMpiuf/Q9wSwQM3pEaniN/sPPcdXknMbFohUsXWPU7UDfPkz6nqa4opayOLPF0iAKTYasHnFIQGmWFTLtjzgyZcliclQKqgqyKHpB2O4ApyLXeoBmUJN/zAOwhheW5UAEMZQ7S/n7mn/Xo9BSh0qAcYhAYYhAYbhNo0DjKFjTyXAMCTAMCTAMCTAMCTAMLkVEESo+R7u6y3kqCKn5FKADr4M8CMkanqLXNzJq4TcCRgK/oAcS8iVgJHg12On6nmVkBsBo8HnFq4Ozqk11WvIqYRcCBgXfCHQGJy3iqjnVULmBRwW/AF5lZB5AdLHjcOCP+A1CV3cQsbJ/IK8sLASRqiopaPbBwV/gJYQdHEtAm5YEVaQcdjyE/kucorfxTO9t4s4j5xCUxGGIQGGIQGGIQGGIQGGIQGGyZSArZs/3dcbpsS0P/84ZGogJkNZS3hLPcnFx/j8qZPrr6arAdhF5BxqAwxDAgxDAgyTSQHt359VcErIlABmi3t6H9x5eBMTxFdCt7/4pbc2IAV7iAyRqV6QeG/udvC4+XH00r3VvH53Kosp/J25b5EhMlUCKl9eXrVqlevMmvxTymx+z/pg/urZbz75GRki1wsybwLUCzIMCTAMCTAMCTAMCTAM9wMkyvhATA4deyoBhiEBhiEBhuFC4kRpmIjjExQRcNtBBMIYXGxTCTAJ985TN9QUTll1Q63nVAJM0dHjgM4slQBTOD4i3vSpETbFC1X988VNBCCMoDOy8rW7VAWZ4jctAF+ziCbk0qdlw9epDXtTEfY8uiBSZdZVAvD/XNDmDjwQqbJZ6Me8n0XpOyoBadNY7QvYyx3w0d9yIXQonVUadAS6j2qsqV/vTUe3Q7RApMJL5WDwek+ATr0tOtQWTBvd42zE8s0PLchQKZg+gYvt+PGQAF0KLB87IKZCp42WjnH8vbEJfKhBnjzxhjfO2DXhP7/HFrUHk6MX/Cq2xp07MIXVlQdypjUznAGaSEapjPYfb7N929ZDc4jp7M9WCWfoZ+6ToZ96vEB7tM4f5chJ3Kp16dTUGoIXUurbgzhq4Ackz6K3IkX1EgqLnmqkS9Bzeqc6FW6kv1qyC0/P7TSqcPUMZ5L7T57GUEq2vAZLJwXtOBALHMxpQRQKr6osd6T64t1s/oe+Dmb8mEeQhQhRW+8DRKUKoo0Qka1WEfVC1tqyuj5hwEf5D7ZH39OOpDxXAAAAAElFTkSuQmCC\"","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { Form, Button, Col, Container, Alert, Image, FormLabel } from \"react-bootstrap\";\r\nimport { useDropzone } from 'react-dropzone';\r\n\r\nimport styles from \"../../styles/RecipeCreateEditForm.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport { useRedirect } from \"../../hooks/useRedirect\";\r\nimport axios from \"axios\";\r\nimport Asset from \"../../components/Asset\";\r\nimport Upload from \"../../assets/img/upload.png\";\r\n\r\nfunction RecipeCreateForm() {\r\n    useRedirect(\"loggedOut\");\r\n    const [errors, setErrors] = useState({});\r\n    const [imageFile, setImageFile] = useState();\r\n    const [imagePreview, setImagePreview] = useState(null);\r\n    const [availableTags, setAvailableTags] = useState([]);\r\n    const [selectedTags, setSelectedTags] = useState([]);\r\n\r\n\r\n    useEffect(() => {\r\n        axios.get(\"/tags\")\r\n            .then(response => setAvailableTags(response.data.results))\r\n            .catch(error => console.error(\"Error fetching tags:\", error));\r\n    }, []);\r\n\r\n    const handleToggleTag = tagId => {\r\n        setSelectedTags(prev => prev.includes(tagId) ? prev.filter(t => t !== tagId) : (prev.length < 3 ? [...prev, tagId] : prev));\r\n    };\r\n\r\n    const renderTags = () => {\r\n        return availableTags.map(tag => (\r\n            <Button\r\n                key={tag.id}\r\n                onClick={() => handleToggleTag(tag.id)}\r\n                variant={selectedTags.includes(tag.id) ? \"info\" : \"secondary\"}\r\n                className={`m-1 ${btnStyles.TagButton}`}>\r\n                {tag.name}\r\n            </Button>\r\n        ));\r\n    };\r\n\r\n    const [recipeData, setRecipeData] = useState({\r\n        title: \"\",\r\n        description: \"\",\r\n        ingredients: \"\",\r\n        instructions: \"\",\r\n        preparation_time: \"\",\r\n        cooking_time: \"\",\r\n        servings: \"\",\r\n        image: null,\r\n        tags: [],\r\n    });\r\n    const { title, description, ingredients, instructions, preparation_time, cooking_time, servings } = recipeData;\r\n\r\n    const history = useHistory();\r\n\r\n    //https://react-dropzone.js.org/\r\n    const onDrop = (acceptedFiles) => {\r\n        const file = acceptedFiles[0];\r\n        setImageFile(file);\r\n        setImagePreview(URL.createObjectURL(file));\r\n        console.log(\"Image File to be uploaded:\", imageFile);\r\n\r\n    };\r\n\r\n    const { getRootProps, getInputProps } = useDropzone({\r\n        onDrop,\r\n        accept: {\r\n            'image/jpeg': ['.jpeg', '.jpg'],\r\n            'image/png': ['.png'],\r\n            'image/gif': ['.gif'],\r\n            'image/bmp': ['.bmp'],\r\n            'image/tiff': ['.tiff', '.tif'],\r\n            'image/x-icon': ['.ico'],\r\n            'image/svg+xml': ['.svg'],\r\n            'image/webp': ['.webp']\r\n        },\r\n        maxSize: 10 * 1024 * 1024,\r\n        maxFiles: 1\r\n    });\r\n\r\n    const handleChange = (event) => {\r\n        const { name, value, type } = event.target;\r\n        \r\n        if (type === \"text\") {\r\n            if (name === \"title\" && value.length > 40) return;\r\n            if (name === \"description\" && value.length > 1000) return;\r\n            if (name === \"ingredients\" && value.length > 2000) return;\r\n            if (name === \"instructions\" && value.length > 3000) return;\r\n        } else if (type === \"number\") {\r\n            if (value === \"\") {\r\n                setRecipeData({\r\n                    ...recipeData,\r\n                    [name]: value,\r\n                });\r\n                return;\r\n            }\r\n            const numValue = Number(value);\r\n            if ((name === \"preparation_time\" || name === \"cooking_time\") && (numValue < 1 || numValue > 999)) return;\r\n            if (name === \"servings\" && (numValue < 1 || numValue > 50)) return;\r\n        }\r\n        setRecipeData({\r\n            ...recipeData,\r\n            [name]: value,\r\n        });\r\n    };\r\n\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append(\"title\", title);\r\n        formData.append(\"description\", description);\r\n        formData.append(\"ingredients\", ingredients);\r\n        formData.append(\"instructions\", instructions);\r\n        formData.append(\"preparation_time\", preparation_time);\r\n        formData.append(\"cooking_time\", cooking_time);\r\n        formData.append(\"servings\", servings);\r\n        if (imageFile) formData.append(\"image\", imageFile);\r\n        selectedTags.forEach(tag => {\r\n            formData.append(\"tags\", tag);\r\n        });\r\n        try {\r\n            const { data } = await axiosReq.post(\"/recipes/\", formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data',\r\n                },\r\n            });\r\n            history.push(`/recipes/${data.id}`);\r\n        } catch (err) {\r\n            if (err.response?.status !== 401) {\r\n                setErrors(err.response?.data);\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n\r\n    const recipeFields = (\r\n        <div className={styles.RecipeFields}>\r\n            <Form.Group>\r\n                <Form.Label><strong>Title</strong></Form.Label>\r\n                <Form.Control type=\"text\" name=\"title\" placeholder=\"What do you call your recipe?\" value={title} onChange={handleChange} />\r\n            </Form.Group>\r\n            {errors?.title?.map((message, idx) => <Alert variant=\"warning\" key={idx}>{message}</Alert>)}\r\n\r\n            <Form.Group>\r\n                <Form.Label><strong>Description</strong></Form.Label>\r\n                <Form.Control as=\"textarea\" rows={3} name=\"description\" value={description} placeholder=\"Shortly describe your recipe\" onChange={handleChange} />\r\n            </Form.Group>\r\n            {errors?.description?.map((message, idx) => <Alert variant=\"warning\" key={idx}>{message}</Alert>)}\r\n\r\n            <Form.Group>\r\n                <Form.Label><strong>Ingredients</strong></Form.Label>\r\n                <Form.Control as=\"textarea\" rows={3} name=\"ingredients\" placeholder=\"List your ingredients and their quantities\" value={ingredients} onChange={handleChange} />\r\n            </Form.Group>\r\n            {errors?.ingredients?.map((message, idx) => <Alert variant=\"warning\" key={idx}>{message}</Alert>)}\r\n\r\n            <Form.Group>\r\n                <Form.Label><strong>Instructions</strong></Form.Label>\r\n                <Form.Control as=\"textarea\" rows={6} name=\"instructions\" placeholder=\"How do you cook your recipe?\" value={instructions} onChange={handleChange} />\r\n            </Form.Group>\r\n            {errors?.instructions?.map((message, idx) => <Alert variant=\"warning\" key={idx}>{message}</Alert>)}\r\n\r\n            <Form.Group>\r\n                <Form.Label><strong>Preparation Time <i className=\"fa-solid fa-clock fa-lg\"></i>(minutes)</strong></Form.Label>\r\n                <Form.Control type=\"number\" name=\"preparation_time\" value={preparation_time} onChange={handleChange} />\r\n            </Form.Group>\r\n\r\n            <Form.Group>\r\n                <Form.Label><strong>Cooking Time <i className=\"fa-solid fa-clock fa-lg\"></i> (minutes)</strong></Form.Label>\r\n                <Form.Control type=\"number\" name=\"cooking_time\" value={cooking_time} onChange={handleChange} />\r\n            </Form.Group>\r\n\r\n            <Form.Group>\r\n                <Form.Label><strong>Servings</strong></Form.Label>\r\n                <Form.Control type=\"number\" name=\"servings\" value={servings} onChange={handleChange} placeholder=\"Number of servings\" />\r\n            </Form.Group>\r\n            <Form.Group>\r\n                <Form.Label><strong>Tags</strong> (Select up to 3 tags for categorisation of your recipe)</Form.Label>\r\n                <div>{renderTags()}</div>\r\n            </Form.Group>\r\n            <Button className={`${btnStyles.Button} ${btnStyles.Large} ${btnStyles.Red}`} onClick={() => history.goBack()}>\r\n                Cancel\r\n            </Button>\r\n            <Button className={`${btnStyles.Button} ${btnStyles.Yellow} ${btnStyles.Large} ml-3`} type=\"submit\">\r\n                Create\r\n            </Button>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <Form onSubmit={handleSubmit}>\r\n\r\n            <Col className=\"py-2 p-0 p-md-2\" md={12}>\r\n                <Container className={`${appStyles.Content} ${styles.Container} d-flex flex-column justify-content-center mb-2`}>\r\n                    <Form.Group className=\"text-center\">\r\n\r\n                        <div {...getRootProps({ className: 'dropzone' })}>\r\n                            <input {...getInputProps()} />\r\n                            {imagePreview ? (\r\n                                <FormLabel>Click on the photo or drop another photo here to change the photo<br></br>\r\n                                    <Image src={imagePreview} alt=\"Preview\" rounded className={appStyles.Image} />\r\n                                </FormLabel>\r\n                            ) : (\r\n                                <Asset src={Upload} message=\"Drag and drop a photo here, or click to select a photo\" />\r\n                            )}\r\n                        </div>\r\n                        {errors?.image?.map((message, idx) => <Alert variant=\"warning\" key={idx}>{message}</Alert>)}\r\n                    </Form.Group>\r\n                </Container>\r\n                <Container className={appStyles.Content}>\r\n                    {recipeFields}\r\n                </Container>\r\n            </Col>\r\n\r\n\r\n        </Form>\r\n    );\r\n}\r\n\r\nexport default RecipeCreateForm;\r\n","import React, { useState } from 'react';\r\nimport { Card, Button, Row } from 'react-bootstrap';\r\nimport { axiosRes } from '../../api/axiosDefaults';\r\nimport { useHistory } from 'react-router-dom';\r\nimport styles from \"../../styles/Recipe.module.css\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction RecipeCard({ recipe }) {\r\n    const { id, title, image, ratings_average, ratings_count, is_favorited: initialIsFavorited, favorite_id: initialFavoriteId } = recipe;\r\n    const history = useHistory();\r\n    const [isFavorited, setIsFavorited] = useState(initialIsFavorited);\r\n    const [favoriteId, setFavoriteId] = useState(initialFavoriteId);\r\n\r\n    const currentUser = useCurrentUser();\r\n\r\n    const handleFavorite = async (event) => {\r\n        event.stopPropagation(); // Prevent the card click event\r\n        try {\r\n            if (isFavorited) {\r\n                // If already favorited, unfavorite it\r\n                await axiosRes.delete(`/favorites/${favoriteId}/`);\r\n                setIsFavorited(false);\r\n                setFavoriteId(null);\r\n            } else {\r\n                // If not favorited, favorite it\r\n                const { data } = await axiosRes.post(\"/favorites/\", { recipe: id });\r\n                setIsFavorited(true);\r\n                setFavoriteId(data.id);\r\n            }\r\n\r\n        } catch (err) {\r\n            console.error(\"Error managing favorite\", err);\r\n        }\r\n    };\r\n    return (\r\n        <Card key={id} className={`m-1 ${styles.RecipeCard}`} onClick={() => history.push(`/recipes/${recipe.id}`)}>\r\n            <Card.Img variant=\"top\" src={image} alt={title} />\r\n            <Card.Body>\r\n                <Card.Title>{title}</Card.Title>\r\n                <Row className={styles.CardBottom}>\r\n                    <div>\r\n                        {[...Array(5)].map((_, i) => (\r\n                            <span key={i} className={`${styles.Stars} fa fa-star ${i < ratings_average ? '' : 'fa-regular '}`}></span>\r\n                        ))}\r\n                        <span> ({ratings_count})</span>\r\n                    </div>\r\n                    <>\r\n                        {currentUser ? <Button className={`${styles.HeartButton} `} variant=\"link\" onClick={(e) => handleFavorite(e)}>\r\n                            <i className={`fa fa-heart  ${isFavorited ? 'text-danger' : 'text-secondary'}`}></i>\r\n                        </Button> : null}\r\n                    </>\r\n\r\n                </Row>\r\n\r\n                {/* content */}\r\n            </Card.Body>\r\n        </Card>\r\n\r\n    );\r\n}\r\n\r\nexport default RecipeCard;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Container, Row, Col, Form } from 'react-bootstrap';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport styles from \"../../styles/RecipeGrid.module.css\";\r\nimport axios from 'axios';\r\nimport RecipeCard from './RecipeCard';\r\n\r\nimport { fetchMoreData } from '../../utils/utils';\r\n\r\nfunction useQuery() {\r\n    return new URLSearchParams(useLocation().search);\r\n  }\r\n\r\nfunction RecipeGrid() {\r\n    const queryParam = useQuery().get('search') || \"\";\r\n    const [recipes, setRecipes] = useState({ results: [], next: null });\r\n    const [hasLoaded, setHasLoaded] = useState(false);\r\n    const [query, setQuery] = useState(queryParam);\r\n    const [tags, setTags] = useState([]);\r\n    const [selectedTags, setSelectedTags] = useState([]);\r\n    const [showFilters, setShowFilters] = useState(true);\r\n\r\n    useEffect(() => {\r\n        // Fetch the tags from the backend\r\n        const fetchTags = async () => {\r\n            try {\r\n                const { data } = await axios.get(`/tags`);\r\n                setTags(data.results);\r\n            } catch (error) {\r\n                console.error(\"Error fetching tags:\", error);\r\n            }\r\n        };\r\n\r\n        fetchTags();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const fetchRecipes = async () => {\r\n            let tagsFilter = selectedTags.join(',');\r\n            try {\r\n                const { data } = await axios.get(`/recipes?search=${query}&tags=${tagsFilter}`);\r\n                setRecipes({\r\n                    results: data.results,\r\n                    next: data.next\r\n                });\r\n                setHasLoaded(true);\r\n            } catch (error) {\r\n                console.error(\"Error fetching recipes:\", error);\r\n                setHasLoaded(true);\r\n            }\r\n        };\r\n\r\n        const delayDebounce = setTimeout(() => {\r\n            fetchRecipes();\r\n        }, 500); // Delay fetching data 0.5 second after typing stops\r\n\r\n        return () => clearTimeout(delayDebounce);\r\n    }, [query, selectedTags]);\r\n\r\n    const handleLoadMore = () => {\r\n        if (recipes.next) {\r\n            fetchMoreData(recipes.next, setRecipes);\r\n        }\r\n    };\r\n\r\n    const handleTagChange = (tagId) => {\r\n        setSelectedTags(prev =>\r\n            prev.includes(tagId)\r\n                ? prev.filter(id => id !== tagId)\r\n                : [...prev, tagId]\r\n        );\r\n    };\r\n\r\n    const toggleFilters = () => {\r\n        setShowFilters(!showFilters);\r\n    };\r\n\r\n    return (\r\n        <Container fluid className='mt-5'>\r\n            <Button onClick={toggleFilters} className={`mb-1 ${btnStyles.Yellow}`}>{showFilters ? 'Hide Filters' : 'Show Filters'}</Button>\r\n            <Row className={styles.MainRow}> \r\n                <Col className={styles.FilterCol} lg={3} style={{ display: showFilters ? 'block' : 'none' }}>\r\n                    <h2>Filters</h2>\r\n                    \r\n                    <p className='mb-0 '> <u>Filter by Tag</u></p>\r\n                    {tags.map(tag => (\r\n                        <Form.Check\r\n                            key={tag.id}\r\n                            type=\"checkbox\"\r\n                            label={tag.name}\r\n                            checked={selectedTags.includes(tag.id)}\r\n                            onChange={() => handleTagChange(tag.id)}\r\n                        />\r\n                    ))}\r\n                </Col>\r\n                <Col lg={9} className='mt-3'>\r\n\r\n                    <i className={`fas fa-search ${styles.SearchIcon}`} />\r\n                    <Form\r\n                        className={styles.SearchBar}\r\n                        onSubmit={(event) => event.preventDefault()}\r\n                    >\r\n                        <Form.Control\r\n                            value={query}\r\n                            onChange={(event) => setQuery(event.target.value)}\r\n                            type=\"text\"\r\n                            className=\"mr-sm-2\"\r\n                            placeholder=\"Search Recipes by title, ingredients or tags\"\r\n                        />\r\n                    </Form>\r\n                    <Row className={styles.RecipeGrid}>\r\n\r\n                        {recipes.results.map(recipe => (\r\n                            <Col key={recipe.id}>\r\n                                <RecipeCard recipe={recipe} />\r\n                            </Col>\r\n                        ))}\r\n                    </Row>\r\n                    {!hasLoaded && <p>Loading recipes...</p>}\r\n                    {hasLoaded && recipes.length === 0 && <p>No recipes found.</p>}\r\n                    <Row className={styles.LoadMoreBtnRow}>\r\n                        {recipes.next && (\r\n                            <Button className=\"my-3\" onClick={handleLoadMore}>Load More</Button>\r\n                        )}\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default RecipeGrid;\r\n","import React, { useState } from \"react\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\n\r\nimport styles from \"../../styles/ReviewCreateEditForm.module.css\";\r\n\r\nfunction ReviewEditForm(props) {\r\n  const { id, content, setShowEditForm, setReviews } = props;\r\n\r\n  const [formContent, setFormContent] = useState(content);\r\n\r\n  const handleChange = (event) => {\r\n    setFormContent(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await axiosRes.put(`/reviews/${id}/`, {\r\n        text: formContent.trim(),\r\n      });\r\n      setReviews((prevReviews) => ({\r\n        ...prevReviews,\r\n        results: prevReviews.results.map((review) => {\r\n          return review.id === id\r\n            ? {\r\n                ...review,\r\n                text: formContent.trim(),\r\n                updated_at: \"now\",\r\n              }\r\n            : review;\r\n        }),\r\n      }));\r\n      setShowEditForm(false);\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Form.Group className=\"pr-1\">\r\n        <Form.Control\r\n          className={styles.Form}\r\n          as=\"textarea\"\r\n          value={formContent}\r\n          onChange={handleChange}\r\n          rows={2}\r\n        />\r\n      </Form.Group>\r\n      <div className=\"text-right\">\r\n        <button\r\n          className={styles.Button}\r\n          onClick={() => setShowEditForm(false)}\r\n          type=\"button\"\r\n        >\r\n          cancel\r\n        </button>\r\n        <button\r\n          className={styles.Button}\r\n          disabled={!content.trim()}\r\n          type=\"submit\"\r\n        >\r\n          save\r\n        </button>\r\n      </div>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default ReviewEditForm;","import React, { useState } from \"react\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport styles from \"../styles/MoreDropdown.module.css\";\r\nimport { useHistory } from \"react-router\";\r\nimport { Modal, Button } from \"react-bootstrap\";\r\n\r\n// The forwardRef is important!!\r\n// Dropdown needs access to the DOM node in order to position the Menu\r\nconst ThreeDots = React.forwardRef(({ onClick }, ref) => (\r\n  <i\r\n    className=\"fas fa-ellipsis-v\"\r\n    ref={ref}\r\n    onClick={(e) => {\r\n      e.preventDefault();\r\n      onClick(e);\r\n    }}\r\n  />\r\n));\r\n\r\nconst EditButton = React.forwardRef(({ onClick }, ref) => (\r\n  <Button \r\n    ref={ref}\r\n    className={styles.EditProfileButton}\r\n    variant=\"outline-primary\"\r\n    onClick={(e) => {\r\n    e.preventDefault();\r\n    onClick(e);}}\r\n    >Edit Profile \r\n  </Button> \r\n    \r\n  \r\n));\r\nexport const MoreDropdown = ({ handleEdit, handleDelete }) => {\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n  return (\r\n    <Dropdown className=\"ml-auto\" drop=\"left\">\r\n      <Dropdown.Toggle as={ThreeDots} />\r\n\r\n      <Dropdown.Menu\r\n        className=\"text-center\"\r\n        popperConfig={{ strategy: \"fixed\" }}\r\n      >\r\n        <Dropdown.Item\r\n          className={styles.DropdownItem}\r\n          onClick={handleEdit}\r\n          aria-label=\"edit\"\r\n        >\r\n          <i className=\"fas fa-edit\" />\r\n        </Dropdown.Item>\r\n        <Dropdown.Item\r\n          className={styles.DropdownItem}\r\n          onClick={handleShow}\r\n          aria-label=\"delete\"\r\n        >\r\n          <i className=\"fas fa-trash-alt\" />\r\n        </Dropdown.Item>\r\n      </Dropdown.Menu>\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Confirm Deletion</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>Are you sure you want to delete this review? This action cannot be undone.</Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Cancel\r\n          </Button>\r\n          <Button variant=\"danger\" onClick={handleDelete}>\r\n            Delete Recipe\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </Dropdown>\r\n\r\n  );\r\n};\r\n\r\nexport const ProfileEditDropdown = ({ id }) => {\r\n  const history = useHistory();\r\n  return (\r\n    <Dropdown className={`ml-auto px-3 ${styles.Absolute}`} drop=\"left\">\r\n      <Dropdown.Toggle as={EditButton} />\r\n      <Dropdown.Menu>\r\n        <Dropdown.Item\r\n          onClick={() => history.push(`/profiles/${id}/edit`)}\r\n          aria-label=\"edit-profile\"\r\n        >\r\n          <i className=\"fas fa-edit\" /> edit profile\r\n        </Dropdown.Item>\r\n        <Dropdown.Item\r\n          onClick={() => history.push(`/profiles/${id}/edit/username`)}\r\n          aria-label=\"edit-username\"\r\n        >\r\n          <i className=\"far fa-id-card\" />\r\n          change username\r\n        </Dropdown.Item>\r\n        <Dropdown.Item\r\n          onClick={() => history.push(`/profiles/${id}/edit/password`)}\r\n          aria-label=\"edit-password\"\r\n        >\r\n          <i className=\"fas fa-key\" />\r\n          change password\r\n        </Dropdown.Item>\r\n      </Dropdown.Menu>\r\n    </Dropdown>\r\n  );\r\n};","import React, { useState } from \"react\";\r\nimport Media from \"react-bootstrap/Media\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport { Modal, Image } from 'react-bootstrap';\r\n\r\nimport ReviewEditForm from \"./ReviewEditForm\";\r\n\r\nimport styles from \"../../styles/Review.module.css\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\n\r\nimport { MoreDropdown } from \"../../components/MoreDropDown\";\r\n\r\nconst Review = ({ review, setReviews }) => {\r\n\r\n    const {\r\n        id,\r\n        profile_id,\r\n        profile_image,\r\n        user,\r\n        updated_at,\r\n        text,\r\n        image,\r\n        likes_count,\r\n        dislikes_count,\r\n        like_id: initialLikeId,\r\n        is_like: initialIsLike\r\n\r\n    } = review;\r\n\r\n    const [likeState, setLikeState] = useState({\r\n        likeId: initialLikeId,\r\n        isLike: initialIsLike,\r\n        likesCount: likes_count,\r\n        dislikesCount: dislikes_count\r\n    });\r\n    const [showEditForm, setShowEditForm] = useState(false);\r\n    const currentUser = useCurrentUser();\r\n    const is_owner = currentUser?.username === user;\r\n\r\n    const [showImageModal, setShowImageModal] = useState(false);\r\n\r\n    const handleLikeToggle = async (newLikeState) => {\r\n        if (likeState.isLike === newLikeState) {\r\n            // Same state clicked, remove like/dislike\r\n            await axiosRes.delete(`/likes/${likeState.likeId}/`);\r\n            setLikeState(prev => ({\r\n                ...prev,\r\n                likeId: null,\r\n                isLike: null,\r\n                likesCount: newLikeState ? prev.likesCount - 1 : prev.likesCount,\r\n                dislikesCount: newLikeState ? prev.dislikesCount : prev.dislikesCount - 1\r\n            }));\r\n        } else {\r\n            if (likeState.likeId) {\r\n                // Update existing like/dislike\r\n                const { data } = await axiosRes.put(`/likes/${likeState.likeId}/`, { is_like: newLikeState });\r\n                setLikeState(prev => ({\r\n                    ...prev,\r\n                    likeId: data.id,\r\n                    isLike: newLikeState,\r\n                    likesCount: newLikeState ? prev.likesCount + 1 - (prev.isLike ? 1 : 0) : prev.likesCount - 1,\r\n                    dislikesCount: newLikeState ? prev.dislikesCount - 1 : prev.dislikesCount + 1 - (!prev.isLike ? 1 : 0)\r\n                }));\r\n            } else {\r\n                // Create new like/dislike\r\n                const { data } = await axiosRes.post(\"/likes/\", { review: id, is_like: newLikeState });\r\n                setLikeState(prev => ({\r\n                    ...prev,\r\n                    likeId: data.id,\r\n                    isLike: newLikeState,\r\n                    likesCount: newLikeState ? prev.likesCount + 1 : prev.likesCount,\r\n                    dislikesCount: newLikeState ? prev.dislikesCount : prev.dislikesCount + 1\r\n                }));\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleDelete = async () => {\r\n        try {\r\n            await axiosRes.delete(`/reviews/${id}/`);\r\n            setReviews(prevReviews => ({\r\n                ...prevReviews,\r\n                results: prevReviews.results.filter(review => review.id !== id),\r\n            }));\r\n\r\n        } catch (err) {\r\n            console.error(\"Error deleting the review:\", err);\r\n        }\r\n    };\r\n\r\n    const handleCloseImageModal = () => {\r\n        setShowImageModal(false);\r\n    };\r\n\r\n    const handleImageClick = () => {\r\n        setShowImageModal(true);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <hr />\r\n            <Media>\r\n                <Link to={`/profiles/${profile_id}`}>\r\n                    <Avatar src={profile_image} />\r\n                </Link>\r\n                <Media.Body className=\"align-self-center ml-2\">\r\n                    <strong className={styles.Owner}>{user} </strong>\r\n                    <small className={styles.Date}>{updated_at}</small>\r\n\r\n                    {showEditForm ? (\r\n                        <ReviewEditForm\r\n                            id={id}\r\n                            content={text}\r\n                            setShowEditForm={setShowEditForm}\r\n                            setReviews={setReviews}\r\n                        />\r\n                    ) : (\r\n\r\n                        <p>\r\n                            {image && (\r\n                                <>\r\n                                    <Image src={image} className={styles.ReviewImage} onClick={handleImageClick} thumbnail />\r\n                                    <Modal show={showImageModal} onHide={handleCloseImageModal} centered>\r\n                                        <Modal.Header closeButton>\r\n                                            <Modal.Title>Image Preview</Modal.Title>\r\n                                        </Modal.Header>\r\n                                        <Modal.Body>\r\n                                            <Image src={image} className={styles.ReviewImageModal} />\r\n                                        </Modal.Body>\r\n                                    </Modal>\r\n                                </>\r\n                            )}{text}</p>\r\n                    )}\r\n                    <div>\r\n                        <i className={`fa-solid fa-thumbs-up fa-lg ${likeState.isLike ? \"text-success\" : \"\"}`} onClick={() => handleLikeToggle(true)}></i> {likeState.likesCount}\r\n                        <i className={`fa-solid fa-thumbs-down fa-lg ${likeState.isLike === false ? \"text-danger\" : \"\"}`} onClick={() => handleLikeToggle(false)}></i> {likeState.dislikesCount}\r\n                    </div>\r\n                </Media.Body>\r\n                {is_owner && !showEditForm && (\r\n                    <MoreDropdown\r\n                        handleEdit={() => setShowEditForm(true)}\r\n                        handleDelete={handleDelete}\r\n                    />\r\n                )}\r\n            </Media>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Review;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\n\r\nimport styles from \"../../styles/ReviewCreateEditForm.module.css\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\n\r\nfunction ReviewCreateForm({ recipeId, setRecipe, setReviews, profileImage, profileId }) {\r\n  const [text, setText] = useState(\"\");\r\n  const [image, setImage] = useState(null);\r\n  const [preview, setPreview] = useState();\r\n\r\n  const handleChange = (event) => {\r\n    setText(event.target.value);\r\n  };\r\n\r\n  const handleImageChange = (event) => {\r\n    const file = event.target.files[0];\r\n    setImage(file);\r\n    setPreview(URL.createObjectURL(file));\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"text\", text);\r\n    formData.append(\"recipe\", recipeId);\r\n    if (image) {\r\n      formData.append(\"image\", image);\r\n    }\r\n\r\n    try {\r\n      const { data } = await axiosRes.post(\"/reviews/\", formData);\r\n      // Set default values for likes and dislikes count\r\n      const reviewWithDefaults = {\r\n        ...data,\r\n        likes_count: 0,\r\n        dislikes_count: 0\r\n      };\r\n\r\n      setReviews(prevReviews => ({\r\n        ...prevReviews,\r\n        results: [reviewWithDefaults, ...prevReviews.results]\r\n      }));\r\n      setRecipe(prevRecipe => ({\r\n        ...prevRecipe,\r\n        reviews_count: prevRecipe.reviews_count + 1\r\n      }));\r\n      setText(\"\");\r\n      setImage(null);\r\n      setPreview(null);\r\n\r\n    } catch (err) {\r\n      console.error(\"Error creating review:\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form className=\"mt-2\" onSubmit={handleSubmit}>\r\n      <Form.Group>\r\n        <InputGroup>\r\n          <Link to={`/profiles/${profileId}`}>\r\n            <Avatar src={profileImage} />\r\n          </Link>\r\n          <Form.Control\r\n            className={styles.Form}\r\n            placeholder=\"Write a review...\"\r\n            as=\"textarea\"\r\n            value={text}\r\n            onChange={handleChange}\r\n            rows={3}\r\n          />\r\n        </InputGroup>\r\n      </Form.Group>\r\n      <Form.Group className=\"ml-5\">\r\n        <Form.Label>Upload Image</Form.Label>\r\n        <Form.Control\r\n          type=\"file\"\r\n          onChange={handleImageChange}\r\n          accept=\"image/*\"\r\n        />\r\n        {preview && (\r\n          <div className=\"mt-2\">\r\n            <img src={preview} alt=\"Preview\" className={styles.ImagePreview} />\r\n          </div>\r\n        )}\r\n        <button\r\n          className={`${styles.Button} btn d-block ml-auto`}\r\n          disabled={!text.trim()}\r\n          type=\"submit\"\r\n        >\r\n          Post Review\r\n        </button>\r\n      </Form.Group>\r\n\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default ReviewCreateForm;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { axiosRes } from '../../api/axiosDefaults';\r\nimport styles from '../../styles/Ratings.module.css';\r\n\r\nconst RateRecipe = ({ recipeId, currentUser, initialRating }) => {\r\n    const [rating, setRating] = useState(initialRating);\r\n\r\n    // Ensure the rating state is updated when initialRating changes\r\n    useEffect(() => {\r\n        setRating(initialRating);\r\n    }, [initialRating]);\r\n\r\n\r\n\r\n    const handleRating = async (newScore) => {\r\n        try {\r\n            if (rating) {\r\n                if (rating.score === newScore) {\r\n                    // The user clicked the same score\r\n                    console.log(\"Same score clicked, no action taken.\");\r\n                } else {\r\n                    // Update the existing rating\r\n                    await axiosRes.put(`/ratings/${rating.id}/`, {recipe: recipeId, score: newScore });\r\n                    setRating({ ...rating, score: newScore });\r\n\r\n                }\r\n            } else {\r\n                // Create a new rating\r\n                const { data } = await axiosRes.post(\"/ratings/\", { recipe: recipeId, score: newScore });\r\n                setRating({ id: data.id, score: newScore });\r\n            }\r\n        } catch (err) {\r\n\r\n            if (err.response) {\r\n                console.log(err.response.data);\r\n                console.log(err.response.status);\r\n                console.log(err.response.headers);\r\n            } else if (err.request) {\r\n                console.log(err.request);\r\n            } else {\r\n                console.log('Error', err.message);\r\n            }\r\n            console.log(err.config);\r\n        }\r\n    };\r\n\r\n    const handleRemoveRating = async () => {\r\n        if (rating) {\r\n            try {\r\n                await axiosRes.delete(`/ratings/${rating.id}/`);\r\n                setRating(null);\r\n            } catch (err) {\r\n                console.error(\"Error removing rating\", err);\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={styles.StarsContainer}>\r\n            {[1, 2, 3, 4, 5].map((score, i) => (\r\n                <span key={i} onClick={() => handleRating(score)}\r\n                    className={`${styles.Stars} fa fa-star fa-xxl ${rating && rating.score >= score ? 'checked' : 'fa-regular'}`}>\r\n                </span>\r\n            ))}\r\n            {rating && (\r\n                <button onClick={handleRemoveRating} className=\"btn btn-danger ml-2\">\r\n                    Remove Rating\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RateRecipe;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Container, Row, Col, Button } from 'react-bootstrap';\r\nimport styles from \"../../styles/Recipe.module.css\";\r\nimport { useParams, useHistory, Link } from 'react-router-dom';\r\nimport { axiosReq } from '../../api/axiosDefaults';\r\nimport { axiosRes } from '../../api/axiosDefaults';\r\nimport Asset from '../../components/Asset';\r\nimport Avatar from '../../components/Avatar';\r\n\r\nimport Review from '../reviews/Review';\r\nimport ReviewCreateForm from '../reviews/ReviewCreateForm';\r\n\r\nimport RateRecipe from '../ratings/RateRecipe';\r\n\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\n\r\nimport { fetchMoreData } from \"../../utils/utils\";\r\n\r\nfunction RecipePage() {\r\n    const history = useHistory();\r\n    const { id } = useParams();\r\n    const [recipe, setRecipe] = useState(null);\r\n    const [tags, setTags] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [isFavorited, setIsFavorited] = useState(false);\r\n    const [favoriteId, setFavoriteId] = useState(null);\r\n    const [reviews, setReviews] = useState({ results: [], next: null });\r\n    const [favoritesCount, setFavoritesCount] = useState(0);\r\n\r\n    const currentUser = useCurrentUser();\r\n    const profile_image = currentUser?.profile_image;\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const [recipeRes, tagsRes, reviewsRes] = await Promise.all([\r\n                    axiosReq.get(`/recipes/${id}`),\r\n                    axiosReq.get(`/tags`),\r\n                    axiosReq.get(`/reviews/?recipe=${id}&page=1`)\r\n                ]);\r\n                setRecipe(recipeRes.data);\r\n                setTags(tagsRes.data.results.filter(tag => recipeRes.data.tags.includes(tag.id)));\r\n                setReviews({\r\n                    results: reviewsRes.data.results,\r\n                    next: reviewsRes.data.next\r\n                });\r\n                setIsFavorited(recipeRes.data.is_favorited);\r\n                setFavoriteId(recipeRes.data.favorite_id);\r\n                setFavoritesCount(recipeRes.data.favorites_count);\r\n                setIsLoading(false);\r\n            } catch (err) {\r\n                console.error(\"Error fetching data:\", err);\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n        fetchData();\r\n    }, [id]);\r\n\r\n    const handleFavorite = async (event) => {\r\n        event.stopPropagation(); // Prevent the card click event\r\n        try {\r\n            if (isFavorited) {\r\n                await axiosRes.delete(`/favorites/${favoriteId}/`);\r\n                setIsFavorited(false);\r\n                setFavoriteId(null);\r\n                setFavoritesCount(favoritesCount - 1);\r\n\r\n            } else {\r\n                const { data } = await axiosRes.post(\"/favorites/\", { recipe: id });\r\n                setIsFavorited(true);\r\n                setFavoriteId(data.id);\r\n                setFavoritesCount(favoritesCount + 1);\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Error managing favorite\", err);\r\n        }\r\n    };\r\n\r\n    const handleLoadMoreReviews = () => {\r\n        fetchMoreData(reviews.next, setReviews);\r\n    };\r\n\r\n    if (isLoading) {\r\n        return <Asset spinner={true} message=\"Loading recipe details...\" />;\r\n    }\r\n\r\n    return (\r\n        <Container className='mt-4' fluid >\r\n            <Row className={styles.RecipeSummary}>\r\n                <Col xs={12} md={6} lg={5} xl={4} className={styles.RecipePageImageContainer}>\r\n                    <img className={`${styles.RecipePageImage}`} src={recipe.image} alt={recipe.title} />\r\n                </Col>\r\n                <Col xs={12} md={6} lg={7} xl={8}>\r\n                    <h2 className=\"ml-3 mt-3\">{recipe.title}</h2>\r\n                    <div className=\" ml-2\">\r\n                        {[...Array(5)].map((_, i) => (\r\n                            <span key={i} className={`${styles.Stars} fa fa-star fa-xl ${i < (recipe.ratings_average || 0) ? 'checked' : 'fa-regular'}`}></span>\r\n                        ))}\r\n                        <span className={styles.RatingCounter}>({recipe.ratings_count || 0})</span>\r\n                        {recipe.is_owner && (\r\n                            <Button variant=\"primary\" className=\"ml-3\" onClick={() => history.push(`/recipes/edit/${id}`)}>Edit Recipe</Button>\r\n                        )}\r\n                    </div>\r\n\r\n                    <Row className=\"my-3\">\r\n                        <Col className=\"text-center\"><strong >Preparation Time</strong><br></br><i className=\"fa-solid fa-clock fa-lg\"></i>{recipe.preparation_time} minutes</Col>\r\n                        <Col className=\"text-center\"><strong>Cooking Time</strong><br></br><i className=\"fa-solid fa-clock fa-lg\"></i>{recipe.cooking_time} minutes</Col>\r\n                        <Col className=\"text-center\"><strong>Servings</strong><br></br> <i className=\"fa-solid fa-bowl-food fa-lg\"></i> {recipe.servings}</Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col className=\"text-center mt-4 mb-2\">\r\n                            Favorited by<br></br>\r\n                            <strong>{favoritesCount}</strong> <br></br>\r\n                            people\r\n                        </Col>\r\n                        <Col className=\"text-center\">\r\n                            <span>Recipe by:</span> <br></br>\r\n                            <Link to={`/profiles/${recipe.profile_id}`}>\r\n                                <Avatar src={recipe.profile_image} alt={`${recipe.user} avatar`} height={90} /> </Link>\r\n                            <br></br> {recipe.user}\r\n                        </Col>\r\n                        <Col className=\"text-center mt-4 mb-2\">\r\n                            Add to favorites <br></br>\r\n                            <Button className={`${styles.HeartButton} `} variant=\"link\" onClick={(e) => handleFavorite(e)}>\r\n                                <i className={`fa fa-heart  ${isFavorited ? 'text-danger' : 'text-secondary'}`}></i>\r\n                            </Button>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n\r\n\r\n                    </Row>\r\n                </Col>\r\n\r\n            </Row>\r\n            <Row className=\"mt-3\">\r\n                <Col lg={12} xxl={6}><h4 className={`${styles.Headings} p-1 mt-2`}>Description</h4> <p className='ml-2'> {recipe.description}</p></Col>\r\n                <Col lg={12} xxl={6}><h4 className={`${styles.Headings} p-1 mt-2`}>Ingredients</h4> <p className='ml-2'>{recipe.ingredients}</p></Col>\r\n                <Col lg={12} xxl={6}><h4 className={`${styles.Headings} p-1 mt-2`}>Instructions</h4> <p className='ml-2'>{recipe.instructions}</p> </Col>\r\n                <Col lg={12} xxl={6}><h4 className={`${styles.Headings} p-1 mt-2`}>Recipe Tags</h4> <p className='ml-2'>{tags.map(tag => <span className={`${styles.TagsText} p-1 mr-2`} key={tag.id}>{tag.name} </span>)}</p></Col>\r\n\r\n            </Row>\r\n\r\n            <h4 className={`${styles.Headings} mt-3 ml-1`}> Rate this recipe</h4>\r\n            {currentUser? (\r\n                <RateRecipe\r\n                    recipeId={id}\r\n                    currentUser={currentUser}\r\n                    initialRating={recipe.initial_rating}\r\n                />\r\n\r\n            ): <p className='ml-2 mb-0'>Login to rate recipes.</p>}\r\n            <Row>\r\n\r\n                <Col>\r\n                    <h4 className={`${styles.Headings} ml-1 mt-4 mb-4`}>Reviews</h4>\r\n\r\n                    {currentUser ? (\r\n                        <ReviewCreateForm\r\n                            profile_id={currentUser.profile_id}\r\n                            profileImage={profile_image}\r\n                            post={id}\r\n                            setRecipe={setRecipe}\r\n                            setReviews={setReviews}\r\n                            recipeId={id}\r\n                        />\r\n                    ) : <p className='ml-2'>You need to be logged in to create reviews.</p>}\r\n\r\n                    {reviews.results.length > 0 ? (\r\n                        reviews.results.map(review => (\r\n                            <Review key={review.id} review={review} setReviews={setReviews} />\r\n                        ))\r\n                    ) : (\r\n                        <p className='ml-2'>No reviews yet!</p>\r\n                    )}\r\n\r\n                    {reviews.next && (\r\n                        <Button onClick={handleLoadMoreReviews} className=\"text-center mt-4 mb-3\">\r\n                            Load More Reviews\r\n                        </Button>\r\n                    )}\r\n\r\n\r\n\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default RecipePage;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { Form, Button, Col, Container, Alert, Image, FormLabel, Row, Modal } from 'react-bootstrap';\r\nimport { useDropzone } from 'react-dropzone';\r\n\r\nimport styles from \"../../styles/RecipeCreateEditForm.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport axios from \"axios\";\r\nimport Asset from \"../../components/Asset\";\r\nimport Upload from \"../../assets/img/upload.png\";\r\n\r\nfunction RecipeEditForm() {\r\n    const history = useHistory();\r\n    const { id } = useParams();\r\n    const [errors, setErrors] = useState({});\r\n    const [imageFile, setImageFile] = useState();\r\n    const [imagePreview, setImagePreview] = useState();\r\n    const [availableTags, setAvailableTags] = useState([]);\r\n    const [selectedTags, setSelectedTags] = useState([]);\r\n\r\n    const [show, setShow] = useState(false);\r\n\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n    const [recipeData, setRecipeData] = useState({\r\n        title: \"\",\r\n        description: \"\",\r\n        ingredients: \"\",\r\n        instructions: \"\",\r\n        preparation_time: \"\",\r\n        cooking_time: \"\",\r\n        servings: \"\",\r\n        image: null,\r\n        tags: [],\r\n    });\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const [recipeRes, tagsRes] = await Promise.all([\r\n                    axiosReq.get(`/recipes/${id}/`),\r\n                    axios.get(\"/tags\")\r\n                ]);\r\n                const {\r\n                    title, description, image, ingredients, preparation_time,\r\n                    cooking_time, servings, instructions, tags\r\n                } = recipeRes.data;\r\n\r\n                setAvailableTags(tagsRes.data.results);\r\n                setSelectedTags(tags);\r\n                setRecipeData({\r\n                    title, description, ingredients, preparation_time,\r\n                    cooking_time, servings, instructions, image\r\n                });\r\n                setImagePreview(image);\r\n            } catch (err) {\r\n                console.error(\"Error fetching data:\", err);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, [id, history]);\r\n\r\n\r\n\r\n    const { title, description, ingredients, instructions, preparation_time, cooking_time, servings } = recipeData;\r\n\r\n    const onDrop = (acceptedFiles) => {\r\n        const file = acceptedFiles[0];\r\n        setImageFile(file);\r\n        setImagePreview(URL.createObjectURL(file));\r\n    };\r\n\r\n    const { getRootProps, getInputProps } = useDropzone({\r\n        onDrop,\r\n        accept: {\r\n            'image/jpeg': ['.jpeg', '.jpg'],\r\n            'image/png': ['.png'],\r\n            'image/gif': ['.gif'],\r\n            'image/bmp': ['.bmp'],\r\n            'image/tiff': ['.tiff', '.tif'],\r\n            'image/x-icon': ['.ico'],\r\n            'image/svg+xml': ['.svg'],\r\n            'image/webp': ['.webp']\r\n        },\r\n        maxSize: 10 * 1024 * 1024,\r\n        maxFiles: 1\r\n    });\r\n\r\n    const handleChange = (event) => {\r\n        const { name, value, type } = event.target;\r\n        \r\n        if (type === \"text\") {\r\n            if (name === \"title\" && value.length > 40) return;\r\n            if (name === \"description\" && value.length > 1000) return;\r\n            if (name === \"ingredients\" && value.length > 2000) return;\r\n            if (name === \"instructions\" && value.length > 3000) return;\r\n        } else if (type === \"number\") {\r\n            if (value === \"\") {\r\n                setRecipeData({\r\n                    ...recipeData,\r\n                    [name]: value,\r\n                });\r\n                return;\r\n            }\r\n            const numValue = Number(value);\r\n            if ((name === \"preparation_time\" || name === \"cooking_time\") && (numValue < 1 || numValue > 999)) return;\r\n            if (name === \"servings\" && (numValue < 1 || numValue > 50)) return;\r\n        }\r\n        setRecipeData({\r\n            ...recipeData,\r\n            [event.target.name]: event.target.value,\r\n        });\r\n    };\r\n\r\n    const handleToggleTag = (tagId) => {\r\n        setSelectedTags(prev => prev.includes(tagId) ? prev.filter(t => t !== tagId) : [...prev, tagId]);\r\n    };\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append(\"title\", title);\r\n        formData.append(\"description\", description);\r\n        formData.append(\"ingredients\", ingredients);\r\n        formData.append(\"instructions\", instructions);\r\n        formData.append(\"preparation_time\", preparation_time);\r\n        formData.append(\"cooking_time\", cooking_time);\r\n        formData.append(\"servings\", servings);\r\n        selectedTags.forEach(tag => formData.append(\"tags\", tag));\r\n        if (imageFile) {\r\n            formData.append(\"image\", imageFile);\r\n        }\r\n\r\n        try {\r\n            await axiosReq.put(`/recipes/${id}/`, formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data',\r\n                },\r\n            });\r\n            history.push(`/recipes/${id}`);\r\n        } catch (err) {\r\n            if (err.response?.status !== 401) {\r\n                setErrors(err.response?.data);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleDelete = async () => {\r\n        try {\r\n            await axiosReq.delete(`/recipes/${id}/`);\r\n            history.push(\"/\");\r\n            handleClose();\r\n        } catch (err) {\r\n            console.error(\"Failed to delete the recipe\", err);\r\n            setErrors(err.response?.data);\r\n            handleClose();\r\n        }\r\n    };\r\n    \r\n    const renderTags = () => {\r\n        return availableTags.map(tag => (\r\n            <Button\r\n                key={tag.id}\r\n                onClick={() => handleToggleTag(tag.id)}\r\n                variant={selectedTags.includes(tag.id) ? \"warning\" : \"secondary\"}\r\n                className={`m-1 ${btnStyles.TagButton}`}>\r\n                {tag.name}\r\n            </Button>\r\n        ));\r\n    };\r\n\r\n    return (\r\n        <Form onSubmit={handleSubmit}>\r\n            <Container>\r\n                <Col className=\"py-2 p-0 p-md-2\" md={12}>\r\n                    <Container className={`${appStyles.Content} ${styles.Container} d-flex flex-column justify-content-center`}>\r\n                        <Form.Group className=\"text-center\">\r\n                            <div {...getRootProps({ className: 'dropzone' })}>\r\n                                <input {...getInputProps()} />\r\n                                {imagePreview ? (\r\n                                    <FormLabel>Click on the photo or drop another photo here to change the photo<br></br>\r\n                                        <Image src={imagePreview} alt=\"Preview\" rounded className={appStyles.Image} />\r\n                                    </FormLabel>\r\n                                ) : (\r\n                                    <Asset src={Upload} message=\"Drag and drop a photo here, or click to select a photo\" />\r\n                                )}\r\n                            </div>\r\n                            {errors?.image?.map((message, idx) => <Alert variant=\"warning\" key={idx}>{message}</Alert>)}\r\n                        </Form.Group>\r\n                    </Container>\r\n                    <Container className={appStyles.Content}>\r\n                        <Form.Group>\r\n                            <Form.Label><strong>Title</strong></Form.Label>\r\n                            <Form.Control type=\"text\" name=\"title\" placeholder=\"What do you call your recipe?\" value={title} onChange={handleChange} />\r\n                        </Form.Group>\r\n                        {errors?.title?.map((message, idx) => <Alert variant=\"warning\" key={idx}>{message}</Alert>)}\r\n\r\n                        <Form.Group>\r\n                            <Form.Label><strong>Description</strong></Form.Label>\r\n                            <Form.Control as=\"textarea\" rows={3} name=\"description\" value={description} placeholder=\"Shortly describe your recipe\" onChange={handleChange} />\r\n                        </Form.Group>\r\n                        {errors?.description?.map((message, idx) => <Alert variant=\"warning\" key={idx}>{message}</Alert>)}\r\n\r\n                        <Form.Group>\r\n                            <Form.Label><strong>Ingredients</strong></Form.Label>\r\n                            <Form.Control as=\"textarea\" rows={3} name=\"ingredients\" placeholder=\"List your ingredients and their quantities\" value={ingredients} onChange={handleChange} />\r\n                        </Form.Group>\r\n                        {errors?.ingredients?.map((message, idx) => <Alert variant=\"warning\" key={idx}>{message}</Alert>)}\r\n\r\n                        <Form.Group>\r\n                            <Form.Label><strong>Instructions</strong></Form.Label>\r\n                            <Form.Control as=\"textarea\" rows={6} name=\"instructions\" placeholder=\"How do you cook your recipe?\" value={instructions} onChange={handleChange} />\r\n                        </Form.Group>\r\n                        {errors?.instructions?.map((message, idx) => <Alert variant=\"warning\" key={idx}>{message}</Alert>)}\r\n\r\n                        <Form.Group>\r\n                            <Form.Label><strong>Preparation Time <i className=\"fa-solid fa-clock fa-lg\"></i>(minutes)</strong></Form.Label>\r\n                            <Form.Control type=\"number\" name=\"preparation_time\" value={preparation_time} onChange={handleChange} />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group>\r\n                            <Form.Label><strong>Cooking Time <i className=\"fa-solid fa-clock fa-lg\"></i> (minutes)</strong></Form.Label>\r\n                            <Form.Control type=\"number\" name=\"cooking_time\" value={cooking_time} onChange={handleChange} />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group>\r\n                            <Form.Label><strong>Servings</strong></Form.Label>\r\n                            <Form.Control type=\"number\" name=\"servings\" value={servings} onChange={handleChange} placeholder=\"Number of servings\" />\r\n                        </Form.Group>\r\n                        <Form.Group>\r\n                            <Form.Label><strong>Tags</strong> (Select up to 3 tags for categorisation of your recipe)</Form.Label>\r\n                            \r\n                            <div>{renderTags()}</div>\r\n                        </Form.Group>\r\n                        <Row>\r\n                            <div>\r\n                                <Button variant=\"danger\" className={` ml-3`} onClick={() => history.goBack()}>\r\n                                    Cancel\r\n                                </Button>\r\n                                <Button className={`${btnStyles.Button} ${btnStyles.Yellow} ml-3`} type=\"submit\">\r\n                                    Save\r\n                                </Button>\r\n                            </div>\r\n                            <Button \r\n                                variant=\"danger\"\r\n                                className={` ${btnStyles.Delete}`}\r\n                                onClick={handleShow}\r\n                            >\r\n                                Delete\r\n                            </Button>\r\n                            <Modal show={show} onHide={handleClose}>\r\n                                <Modal.Header closeButton>\r\n                                    <Modal.Title>Confirm Deletion</Modal.Title>\r\n                                </Modal.Header>\r\n                                <Modal.Body>Are you sure you want to delete this recipe? This action cannot be undone.</Modal.Body>\r\n                                <Modal.Footer>\r\n                                    <Button variant=\"secondary\" onClick={handleClose}>\r\n                                        Cancel\r\n                                    </Button>\r\n                                    <Button variant=\"danger\" onClick={handleDelete}>\r\n                                        Delete Recipe\r\n                                    </Button>\r\n                                </Modal.Footer>\r\n                            </Modal>\r\n                        </Row>\r\n                    </Container>\r\n                </Col>\r\n            </Container>\r\n        </Form>\r\n    );\r\n}\r\n\r\nexport default RecipeEditForm;\r\n","import { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { axiosReq, axiosRes } from \"../api/axiosDefaults\";\r\nimport { useCurrentUser } from \"../contexts/CurrentUserContext\";\r\nimport { followHelper, unfollowHelper } from \"../utils/utils\";\r\n\r\nconst ProfileDataContext = createContext();\r\nconst SetProfileDataContext = createContext();\r\n\r\nexport const useProfileData = () => useContext(ProfileDataContext);\r\nexport const useSetProfileData = () => useContext(SetProfileDataContext);\r\n\r\nexport const ProfileDataProvider = ({ children }) => {\r\n  const [profileData, setProfileData] = useState({\r\n    \r\n    pageProfile: { results: [] },\r\n    popularProfiles: { results: [] },\r\n    followedProfiles: { results: [], next: null },\r\n  });\r\n\r\n  const currentUser = useCurrentUser();\r\n\r\n  const handleFollow = async (clickedProfile) => {\r\n    try {\r\n      const { data } = await axiosRes.post(\"/follow/\", {\r\n        followed: clickedProfile.id,\r\n      });\r\n\r\n      setProfileData((prevState) => ({\r\n        ...prevState,\r\n        pageProfile: {\r\n          results: prevState.pageProfile.results.map((profile) =>\r\n            followHelper(profile, clickedProfile, data.id)\r\n          ),\r\n        },\r\n        popularProfiles: {\r\n          ...prevState.popularProfiles,\r\n          results: prevState.popularProfiles.results.map((profile) =>\r\n            followHelper(profile, clickedProfile, data.id)\r\n          ),\r\n        },\r\n        followedProfiles: {\r\n          ...prevState.followedProfiles,\r\n          results: prevState.followedProfiles.results.map((profile) =>\r\n            followHelper(profile, clickedProfile, data.id)\r\n          ),\r\n        },\r\n      }));\r\n    } catch (err) {\r\n       console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleUnfollow = async (clickedProfile) => {\r\n    try {\r\n      await axiosRes.delete(`/follow/${clickedProfile.following_id}/`);\r\n\r\n      setProfileData((prevState) => ({\r\n        ...prevState,\r\n        pageProfile: {\r\n          results: prevState.pageProfile.results.map((profile) =>\r\n            unfollowHelper(profile, clickedProfile)\r\n          ),\r\n        },\r\n        popularProfiles: {\r\n          ...prevState.popularProfiles,\r\n          results: prevState.popularProfiles.results.map((profile) =>\r\n            unfollowHelper(profile, clickedProfile)\r\n          ),\r\n        },\r\n        followedProfiles: {\r\n          ...prevState.followedProfiles,\r\n          results: prevState.followedProfiles.results.map((profile) =>\r\n            unfollowHelper(profile, clickedProfile)\r\n          ),\r\n        },\r\n      }));\r\n    } catch (err) {\r\n       console.log(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchFollowedProfiles = async () => {\r\n      if (currentUser) {\r\n        try {\r\n          const response = await axiosReq.get('/profiles/followed/');\r\n          setProfileData(prev => ({ ...prev, followedProfiles: response.data }));\r\n        } catch (error) {\r\n          console.error('Failed to fetch followed profiles', error);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchFollowedProfiles();\r\n  }, [currentUser]);\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      try {\r\n        const { data } = await axiosReq.get(\r\n          \"/profiles/?ordering=-followers_count\"\r\n        );\r\n        setProfileData((prevState) => ({\r\n          ...prevState,\r\n          popularProfiles: data,\r\n        }));\r\n      } catch (err) {\r\n          console.log(err);\r\n      }\r\n    };\r\n\r\n    handleMount();\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <ProfileDataContext.Provider value={profileData}>\r\n      \r\n      <SetProfileDataContext.Provider\r\n        value={{ setProfileData, handleFollow, handleUnfollow }}\r\n      >\r\n        {children}\r\n        \r\n      </SetProfileDataContext.Provider>\r\n    </ProfileDataContext.Provider>\r\n  );\r\n};","export default \"data:image/png;base64,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\"","import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Col, Row, Button, Image } from \"react-bootstrap\";\r\n\r\nimport Asset from \"../../components/Asset\";\r\nimport RecipeCard from \"../recipes/RecipeCard\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport { useProfileData, useSetProfileData } from \"../../contexts/ProfileDataContext\";\r\n\r\nimport styles from \"../../styles/ProfilePage.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport NoResults from \"../../assets/img/no-results.png\";\r\n\r\nimport { fetchMoreData } from \"../../utils/utils\";\r\nimport { ProfileEditDropdown } from \"../../components/MoreDropDown\";\r\n\r\nfunction ProfilePage() {\r\n    const [hasLoaded, setHasLoaded] = useState(false);\r\n    const [profileRecipes, setProfileRecipes] = useState({ results: [] });\r\n    const [profileFavorites, setProfileFavorites] = useState({ results: [] });\r\n    const currentUser = useCurrentUser();\r\n    const { id } = useParams();\r\n\r\n    const [displayedFavoritesCount, setDisplayedFavoritesCount] = useState(4);\r\n    const [displayedRecipesCount, setDisplayedRecipesCount] = useState(4);\r\n\r\n    const { setProfileData, handleFollow, handleUnfollow } = useSetProfileData();\r\n    const { pageProfile } = useProfileData();\r\n\r\n    const [profile] = pageProfile.results;\r\n    const is_owner = currentUser?.username === profile?.user;\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const profileResponse = await axiosReq.get(`/profiles/${id}/`);\r\n                const recipesResponse = await axiosReq.get(`/recipes/?user=${id}`);\r\n                const profileFavoritesResponse = await axiosReq.get(`/recipes/?favorited_by=${id}`);\r\n                setProfileData((prevState) => ({\r\n                    ...prevState,\r\n                    pageProfile: { results: [profileResponse.data] },\r\n                }));\r\n                setProfileFavorites(profileFavoritesResponse.data);\r\n                setProfileRecipes(recipesResponse.data);\r\n                \r\n                setHasLoaded(true);\r\n            } catch (err) {\r\n                console.error(\"Error fetching data:\", err);\r\n            }\r\n        };\r\n        fetchData();\r\n    }, [id, setProfileData]);\r\n\r\n    const handleLoadMore = () => {\r\n        if (profileRecipes.next) {\r\n            fetchMoreData(profileRecipes.next).then(newData => {\r\n                setProfileRecipes(prev => ({\r\n                    ...prev,\r\n                    results: [...prev.results, ...newData.results],\r\n                    next: newData.next,\r\n                }));\r\n            });\r\n        } else if (profileRecipes.results.length > displayedRecipesCount) {\r\n            setDisplayedRecipesCount(prevCount => prevCount + 4);\r\n        }\r\n    };\r\n\r\n    const handleLoadMoreFavorites = () => {\r\n        if (profileFavorites.next) {\r\n            fetchMoreData(profileFavorites.next).then(newData => {\r\n                setProfileFavorites(prev => ({\r\n                    ...prev,\r\n                    results: [...prev.results, ...newData.results],\r\n                    next: newData.next,\r\n                }));\r\n            });\r\n        } else if (profileFavorites.results.length > displayedFavoritesCount) {\r\n            setDisplayedFavoritesCount(prevCount => prevCount + 4);\r\n        }\r\n    };\r\n\r\n    const profileDetails = (\r\n        <>\r\n            <Row noGutters className=\"px-3 text-center\">\r\n                <Col lg={3} className=\"text-lg-left\">\r\n                    <Image className={styles.ProfileImage} roundedCircle src={profile?.image} />\r\n\r\n\r\n                </Col>\r\n                <Col lg={7}>\r\n                    <h3 className={styles.Username}>{profile?.user}</h3>\r\n                    <h5 className={styles.UserBio}>{profile?.bio}</h5>\r\n\r\n                </Col>\r\n\r\n\r\n\r\n                <Col lg={2} className=\"text-lg-right\">\r\n                    <span className={styles.ProfileEditDropdown}>{profile?.is_owner && <ProfileEditDropdown id={profile?.id} />}</span>\r\n                    {currentUser && !is_owner && (profile?.following_id ? (\r\n                        <Button className={`${btnStyles.Button} ${btnStyles.BlackOutline}`} onClick={() => handleUnfollow(profile)}>\r\n                            unfollow\r\n                        </Button>\r\n                    ) : (\r\n                        <Button className={`${btnStyles.Button} ${btnStyles.Black}`} onClick={() => handleFollow(profile)}>\r\n                            follow\r\n                        </Button>\r\n                    ))}\r\n                </Col>\r\n                {profile?.content && <Col className=\"p-3\">{profile.content}</Col>}\r\n            </Row>\r\n            <Row className=\"justify-content-center no-gutters\">\r\n                <Col xs={3} className=\"my-2 text-center\">\r\n                    <div>{profile?.recipes_count}</div>\r\n                    <div>recipes</div>\r\n                </Col>\r\n                <Col xs={3} className=\"my-2 text-center\">\r\n                    <div>{profile?.followers_count}</div>\r\n                    <div>followers</div>\r\n                </Col>\r\n                <Col xs={3} className=\"my-2 text-center\">\r\n                    <div>{profile?.following_count}</div>\r\n                    <div>following</div>\r\n                </Col>\r\n            </Row>\r\n        </>\r\n    );\r\n    const favoritedList = (\r\n        <>\r\n            <hr />\r\n            <h2 className=\"\">{profile?.user}'s Favorite Recipes</h2>\r\n\r\n            <Row>\r\n                {profileFavorites.results.length ? (\r\n                    profileFavorites.results.slice(0, displayedFavoritesCount).map(recipe => (\r\n                        <Col sm={6} md={4} lg={3} key={recipe.id}>\r\n                            <RecipeCard recipe={recipe} />\r\n                        </Col>\r\n                    ))\r\n                ) : (\r\n                    <Asset src={NoResults} message={`No results found, ${profile?.user} hasn't favorited any recipes yet.`} />\r\n                )}\r\n            </Row>\r\n            <Row className=\"text-center\">\r\n                {profileFavorites.results.length > displayedFavoritesCount && (\r\n                    <Button className=\"my-3\" onClick={handleLoadMoreFavorites}>Load More Recipes</Button>\r\n                )}\r\n            </Row>\r\n        </>\r\n    );\r\n\r\n    const recipeList = (\r\n        <>\r\n            <hr />\r\n            <h2 className=\"\">{profile?.user}'s recipes</h2>\r\n\r\n            <Row>\r\n                {profileRecipes.results.length ? (\r\n                    profileRecipes.results.slice(0, displayedRecipesCount).map(recipe => (\r\n                        <Col sm={6} md={4} lg={3} key={recipe.id}>\r\n                            <RecipeCard recipe={recipe} />\r\n                        </Col>\r\n                    ))\r\n                ) : (\r\n                    <Asset src={NoResults} message={`No results found, ${profile?.user} hasn't posted any recipes yet.`} />\r\n                )}\r\n            </Row>\r\n\r\n            {profileRecipes.results.length > displayedRecipesCount && (\r\n                <Button className=\"my-3\" onClick={handleLoadMore}>Load More Recipes</Button>\r\n            )}\r\n        </>\r\n    );\r\n\r\n    return (\r\n        <Row>\r\n            \r\n            <Col className=\"py-2 p-5 p-lg-5\" lg={12}>\r\n\r\n\r\n                {hasLoaded ? (\r\n                    <>\r\n                        {profileDetails}\r\n                        {recipeList}\r\n                        {favoritedList}\r\n                    </>\r\n                ) : (\r\n                    <Asset spinner />\r\n                )}\r\n\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\n\r\nexport default ProfilePage;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from \"react-bootstrap/Row\";\r\n\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\nimport {\r\n  useCurrentUser,\r\n  useSetCurrentUser,\r\n} from \"../../contexts/CurrentUserContext\";\r\n\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\n\r\nconst UsernameForm = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n\r\n  const currentUser = useCurrentUser();\r\n  const setCurrentUser = useSetCurrentUser();\r\n\r\n  useEffect(() => {\r\n    if (currentUser?.profile_id?.toString() === id) {\r\n      setUsername(currentUser.username);\r\n    } else {\r\n      history.push(\"/\");\r\n    }\r\n  }, [currentUser, history, id]);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await axiosRes.put(\"/dj-rest-auth/user/\", {\r\n        username,\r\n      });\r\n      setCurrentUser((prevUser) => ({\r\n        ...prevUser,\r\n        username,\r\n      }));\r\n      history.goBack();\r\n    } catch (err) {\r\n      // console.log(err);\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Row>\r\n      <Col className=\"py-2 mx-auto text-center\" md={6}>\r\n        <Container className={appStyles.Content}>\r\n          <Form onSubmit={handleSubmit} className=\"my-2\">\r\n            <Form.Group>\r\n              <Form.Label>Change username</Form.Label>\r\n              <Form.Control\r\n                placeholder=\"username\"\r\n                type=\"text\"\r\n                value={username}\r\n                onChange={(event) => setUsername(event.target.value)}\r\n              />\r\n            </Form.Group>\r\n            {errors?.username?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n              onClick={() => history.goBack()}\r\n            >\r\n              cancel\r\n            </Button>\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n              type=\"submit\"\r\n            >\r\n              save\r\n            </Button>\r\n          </Form>\r\n        </Container>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default UsernameForm;","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Form from \"react-bootstrap/Form\";\r\n\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\n\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\n\r\nconst UserPasswordForm = () => {\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n  const currentUser = useCurrentUser();\r\n\r\n  const [userData, setUserData] = useState({\r\n    new_password1: \"\",\r\n    new_password2: \"\",\r\n  });\r\n  const { new_password1, new_password2 } = userData;\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const handleChange = (event) => {\r\n    setUserData({\r\n      ...userData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (currentUser?.profile_id?.toString() !== id) {\r\n      // redirect user if they are not the owner of this profile\r\n      history.push(\"/\");\r\n    }\r\n  }, [currentUser, history, id]);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await axiosRes.post(\"/dj-rest-auth/password/change/\", userData);\r\n      history.goBack();\r\n    } catch (err) {\r\n      // console.log(err);\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Row>\r\n      <Col className=\"py-2 mx-auto text-center\" md={6}>\r\n        <Container className={appStyles.Content}>\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group>\r\n              <Form.Label>New password</Form.Label>\r\n              <Form.Control\r\n                placeholder=\"new password\"\r\n                type=\"password\"\r\n                value={new_password1}\r\n                onChange={handleChange}\r\n                name=\"new_password1\"\r\n              />\r\n            </Form.Group>\r\n            {errors?.new_password1?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n            <Form.Group>\r\n              <Form.Label>Confirm password</Form.Label>\r\n              <Form.Control\r\n                placeholder=\"confirm new password\"\r\n                type=\"password\"\r\n                value={new_password2}\r\n                onChange={handleChange}\r\n                name=\"new_password2\"\r\n              />\r\n            </Form.Group>\r\n            {errors?.new_password2?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n              onClick={() => history.goBack()}\r\n            >\r\n              cancel\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n            >\r\n              save\r\n            </Button>\r\n          </Form>\r\n        </Container>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default UserPasswordForm;","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Image from \"react-bootstrap/Image\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport {\r\n  useCurrentUser,\r\n  useSetCurrentUser,\r\n} from \"../../contexts/CurrentUserContext\";\r\n\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\n\r\nconst ProfileEditForm = () => {\r\n  const currentUser = useCurrentUser();\r\n  const setCurrentUser = useSetCurrentUser();\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const imageFile = useRef();\r\n\r\n  const [profileData, setProfileData] = useState({\r\n    name: \"\",\r\n    bio: \"\",\r\n    image: \"\",\r\n  });\r\n  const { name, bio, image } = profileData;\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      if (currentUser?.profile_id?.toString() === id) {\r\n        try {\r\n          const { data } = await axiosReq.get(`/profiles/${id}/`);\r\n          const { name, bio, image } = data;\r\n          setProfileData({ name, bio, image });\r\n        } catch (err) {\r\n          // console.log(err);\r\n          history.push(\"/\");\r\n        }\r\n      } else {\r\n        history.push(\"/\");\r\n      }\r\n    };\r\n\r\n    handleMount();\r\n  }, [currentUser, history, id]);\r\n\r\n  const handleChange = (event) => {\r\n    setProfileData({\r\n      ...profileData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"name\", name);\r\n    formData.append(\"bio\", bio);\r\n\r\n    if (imageFile?.current?.files[0]) {\r\n      formData.append(\"image\", imageFile?.current?.files[0]);\r\n    }\r\n\r\n    try {\r\n      const { data } = await axiosReq.put(`/profiles/${id}/`, formData);\r\n      setCurrentUser((currentUser) => ({\r\n        ...currentUser,\r\n        profile_image: data.image,\r\n      }));\r\n      history.goBack();\r\n    } catch (err) {\r\n      // console.log(err);\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  const textFields = (\r\n    <>\r\n      <Form.Group>\r\n        <Form.Label>Bio</Form.Label>\r\n        <Form.Control\r\n          as=\"textarea\"\r\n          value={bio}\r\n          onChange={handleChange}\r\n          name=\"bio\"\r\n          rows={7}\r\n        />\r\n      </Form.Group>\r\n\r\n      {errors?.bio?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n      <Button\r\n        className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n        onClick={() => history.goBack()}\r\n      >\r\n        cancel\r\n      </Button>\r\n      <Button className={`${btnStyles.Button} ${btnStyles.Blue}`} type=\"submit\">\r\n        save\r\n      </Button>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Row>\r\n        <Col className=\"py-2 p-0 p-md-2 text-center\" md={7} lg={6}>\r\n          <Container className={appStyles.bio}>\r\n            <Form.Group>\r\n              {image && (\r\n                <figure>\r\n                  <Image src={image} fluid />\r\n                </figure>\r\n              )}\r\n              {errors?.image?.map((message, idx) => (\r\n                <Alert variant=\"warning\" key={idx}>\r\n                  {message}\r\n                </Alert>\r\n              ))}\r\n              <div>\r\n                <Form.Label\r\n                  className={`${btnStyles.Button} ${btnStyles.Blue} btn my-auto`}\r\n                  htmlFor=\"image-upload\"\r\n                >\r\n                  Change the image\r\n                </Form.Label>\r\n              </div>\r\n              <Form.File className=\"d-none\"\r\n                id=\"image-upload\"\r\n                ref={imageFile}\r\n                accept=\"image/*\"\r\n                onChange={(e) => {\r\n                  if (e.target.files.length) {\r\n                    setProfileData({\r\n                      ...profileData,\r\n                      image: URL.createObjectURL(e.target.files[0]),\r\n                    });\r\n                  }\r\n                }}\r\n              />\r\n            </Form.Group>\r\n            <div className=\"d-md-none\">{textFields}</div>\r\n          </Container>\r\n        </Col>\r\n        <Col md={5} lg={6} className=\"d-none d-md-block p-0 p-md-2 text-center\">\r\n          <Container className={appStyles.Bio}>{textFields}</Container>\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default ProfileEditForm;","import React from \"react\";\r\nimport styles from \"../../styles/Profile.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { useSetProfileData } from \"../../contexts/ProfileDataContext\";\r\n\r\nconst Profile = (props) => {\r\n  const { profile, mobile, imageSize = 55, card } = props;\r\n  const { id, following_id, image, user, followers_count, recipes_count } = profile;\r\n\r\n  const currentUser = useCurrentUser();\r\n  const is_owner = currentUser?.username === user;\r\n\r\n  const { handleFollow, handleUnfollow } = useSetProfileData();\r\n\r\n \r\n\r\n  return (\r\n    <div className={` ${styles.Container} d-flex align-items-center  ${mobile && \"flex-column\"}`}>\r\n      <div>\r\n        <Link className=\"align-self-center\" to={`/profiles/${id}`}>\r\n          <Avatar src={image} height={imageSize} />\r\n        </Link>\r\n      </div>\r\n      <div className={`mx-2 ${styles.WordBreak}`}>\r\n        <strong>{user}</strong>\r\n        {card && (\r\n          <div>\r\n            <p className=\"m-0 p-0\">Recipes:{recipes_count}</p>\r\n            <p className=\"m-0 p-0\">Followers:{followers_count}</p>\r\n            \r\n          </div>\r\n          \r\n        )}\r\n      </div>\r\n      <div className={`text-right ${!mobile && \"ml-auto\"}`}>\r\n        {!mobile &&\r\n          currentUser &&\r\n          !is_owner &&\r\n          (following_id ? (\r\n            <Button \r\n              className={`mr-1 ${btnStyles.Button} ${btnStyles.BlackOutline}`}\r\n              onClick={() => handleUnfollow(profile)}\r\n            >\r\n              unfollow\r\n            </Button>\r\n          ) : (\r\n            <Button\r\n              className={`mr-1 ${btnStyles.Button} ${btnStyles.Black}`}\r\n              onClick={() => handleFollow(profile)}\r\n            >\r\n              follow\r\n            </Button>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;","import React from \"react\";\r\n\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport SwiperCore, { Autoplay, Pagination, Navigation } from \"swiper\";\r\nimport 'swiper/swiper-bundle.css';\r\n\r\nimport Asset from \"../../components/Asset\";\r\nimport { useProfileData } from \"../../contexts/ProfileDataContext\";\r\nimport Profile from \"./Profile\";\r\n\r\nconst PopularProfiles = ({ mobile, card }) => {\r\n  const { popularProfiles } = useProfileData();\r\n  SwiperCore.use([Autoplay])\r\n  SwiperCore.use([Navigation])\r\n  SwiperCore.use([Pagination])\r\n  return (\r\n    <>\r\n      {popularProfiles.results.length ? (\r\n        <>\r\n          {card ? (\r\n            <Swiper\r\n              autoplay={{\r\n                delay: 3500,\r\n                disableOnInteraction: false,\r\n              }}\r\n              spaceBetween={30}\r\n\r\n              slidesPerView={4}\r\n              breakpoints={{\r\n                320: { slidesPerView: 1 },\r\n                768: { slidesPerView: 2 },\r\n                1200: { slidesPerView: 3 },\r\n                1800: { slidesPerView: 4 },\r\n              }}\r\n              navigation\r\n              \r\n\r\n            >\r\n              {popularProfiles.results.map(profile => (\r\n                <SwiperSlide key={profile.id}>\r\n                  <Profile profile={profile} imageSize={75} mobile={mobile} card={card} />\r\n                </SwiperSlide>\r\n              ))}\r\n            </Swiper>\r\n          ) : (\r\n            <div className=\"d-flex flex-wrap justify-content-around\">\r\n              {popularProfiles.results.map(profile => (\r\n                <Profile key={profile.id} profile={profile} mobile={mobile} card={card} />\r\n              ))}\r\n            </div>\r\n          )}\r\n        </>\r\n      ) : (\r\n        <Asset spinner />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PopularProfiles;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Container, Row, InputGroup, FormControl, Button } from 'react-bootstrap';\r\nimport PopularProfiles from '../profiles/PopularProfiles';\r\nimport styles from '../../styles/Home.module.css'\r\nimport { axiosRes } from '../../api/axiosDefaults';\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport SwiperCore, { Autoplay, Pagination, Navigation } from \"swiper\";\r\nimport 'swiper/swiper-bundle.css';\r\nimport RecipeCard from '../recipes/RecipeCard';\r\n\r\nfunction Home() {\r\n  const history = useHistory();\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [mostFavoritedRecipes, setMostFavoritedRecipes] = useState([]);\r\n  const [latestRecipes, setLatestRecipes] = useState([]);\r\n\r\n  //https://stackoverflow.com/questions/63052586/react-swiperjs-autoplay-not-making-the-swiper-to-auto-swipe\r\n  SwiperCore.use([Autoplay])\r\n  SwiperCore.use([Navigation])\r\n  SwiperCore.use([Pagination])\r\n\r\n  useEffect(() => {\r\n    const fetchRecipes = async () => {\r\n      try {\r\n        const [mostFavoritedResponse, latestResponse] = await Promise.all([\r\n          axiosRes.get(\"/recipes/most-favorited\"),\r\n          axiosRes.get(\"/recipes\")\r\n        ]);\r\n        setMostFavoritedRecipes(mostFavoritedResponse.data.results);\r\n        setLatestRecipes(latestResponse.data.results);\r\n      } catch (err) {\r\n        console.error(\"Failed to fetch recipes\", err);\r\n      }\r\n    };\r\n    fetchRecipes();\r\n  }, []);\r\n\r\n  const handleSearch = () => {\r\n    // Redirect to the recipes page with the search term in the URL if the search field is not empty\r\n    if (searchQuery.trim()) {\r\n      history.push(`/recipes?search=${encodeURIComponent(searchQuery)}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Row className={`justify-content-center my-4 ${styles.SearchRow}`}>\r\n        <InputGroup className={`mb-3 ${styles.SearchInputGroup}`}>\r\n          <FormControl\r\n            className={`${styles.SearchInput}`}\r\n            placeholder=\"Search Recipes\"\r\n            aria-label=\"SearchRecipes\"\r\n            aria-describedby=\"basic-addon2\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            onKeyUp={(e) => e.key === 'Enter' && handleSearch()}\r\n          />\r\n          <InputGroup.Append>\r\n            <Button variant=\"outline-secondary\" className={styles.SearchButton} onClick={handleSearch}>Search</Button>\r\n          </InputGroup.Append>\r\n        </InputGroup>\r\n      </Row>\r\n      <Container fluid className={styles.Container}>\r\n        <h2>Most Favorited Recipes</h2>\r\n        <Swiper\r\n          \r\n          autoplay={{\r\n            delay: 3500,\r\n            disableOnInteraction: false,\r\n          }}\r\n          spaceBetween={30}\r\n          slidesPerView={4}\r\n          breakpoints={{\r\n            320: { slidesPerView: 1 },\r\n            768: { slidesPerView: 2 },\r\n            992: { slidesPerView: 3 },\r\n            1200: { slidesPerView: 4 },\r\n          }}\r\n          navigation\r\n          \r\n\r\n        >\r\n          {mostFavoritedRecipes.map(recipe => (\r\n            <SwiperSlide key={recipe.id}>\r\n              <RecipeCard recipe={recipe} />\r\n            </SwiperSlide>\r\n          ))}\r\n        </Swiper>\r\n\r\n\r\n\r\n        <h2 className='mt-4'>Most Followed Chefs</h2>\r\n\r\n        <PopularProfiles card={true}></PopularProfiles>\r\n\r\n\r\n\r\n        <h2 className='mt-3'>What's new</h2>\r\n        <Swiper\r\n          \r\n          autoplay={{\r\n            delay: 3500,\r\n            disableOnInteraction: false,\r\n          }}\r\n          spaceBetween={30}\r\n          slidesPerView={4}\r\n          breakpoints={{\r\n            320: { slidesPerView: 1 },\r\n            768: { slidesPerView: 2 },\r\n            992: { slidesPerView: 3 },\r\n            1200: { slidesPerView: 4 },\r\n          }}\r\n          navigation\r\n          \r\n\r\n        >\r\n          {latestRecipes.map(recipe => (\r\n            <SwiperSlide key={recipe.id}>\r\n              <RecipeCard recipe={recipe} />\r\n            </SwiperSlide>\r\n          ))}\r\n        </Swiper>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport NoResults from \"../assets/img/no-results.png\";\r\nimport styles from \"../styles/NotFound.module.css\";\r\nimport Asset from \"./Asset\";\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <div className={styles.NotFound}>\r\n      <Asset\r\n        src={NoResults}\r\n        message={`Sorry, the page you're looking for doesn't exist`}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;","import React from 'react';\r\nimport { Container, Button } from 'react-bootstrap';\r\nimport { fetchMoreData } from '../../utils/utils';\r\nimport Profile from './Profile';\r\nimport { useProfileData } from \"../../contexts/ProfileDataContext\";\r\n\r\nfunction FollowedProfiles() {\r\n  const { followedProfiles, setProfileData } = useProfileData();\r\n\r\n  const handleLoadMore = () => {\r\n    if (followedProfiles.next) {\r\n      fetchMoreData(followedProfiles.next, newData => {\r\n        setProfileData(prev => ({\r\n          ...prev,\r\n          followedProfiles: {\r\n            ...prev.followedProfiles,\r\n            results: [...prev.followedProfiles.results, ...newData.results],\r\n            next: newData.next\r\n          }\r\n        }));\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      {followedProfiles.results.length > 0 ? (\r\n        followedProfiles.results.map(profile => (\r\n          <Profile key={profile.id} profile={profile} imageSize={75} mobile={false} />\r\n        ))\r\n      ) : (\r\n        <p>You are not following anyone at the moment.</p>\r\n      )}\r\n      {followedProfiles.next && (\r\n        <Button onClick={handleLoadMore} className=\"my-3\">Load More</Button>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default FollowedProfiles;\r\n","import React from 'react';\r\nimport { Container } from 'react-bootstrap';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport styles from './App.module.css';\r\nimport NavBar from './components/NavBar';\r\nimport Footer from './components/Footer';\r\nimport SignUpForm from './pages/auth/SignUpForm';\r\nimport SignInForm from './pages/auth/SignInForm';\r\nimport RecipeCreateForm from './pages/recipes/RecipeCreateForm';\r\nimport RecipeGrid from './pages/recipes/RecipeGrid';\r\nimport RecipePage from './pages/recipes/RecipePage';\r\nimport RecipeEditForm from './pages/recipes/RecipeEditForm';\r\nimport ProfilePage from './pages/profiles/ProfilePage';\r\nimport UsernameForm from \"./pages/profiles/UsernameForm\";\r\nimport UserPasswordForm from \"./pages/profiles/UserPasswordForm\";\r\nimport ProfileEditForm from \"./pages/profiles/ProfileEditForm\";\r\nimport Home from './pages/home/HomePage';\r\n\r\nimport NotFound from \"./components/NotFound\";\r\nimport FollowedProfiles from './pages/profiles/FollowedProfiles';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className={styles.App}>\r\n      <NavBar />\r\n      <Container fluid className={styles.Main}>\r\n          <Switch>\r\n            <Route path=\"/\" exact render={() => <Home />} />\r\n            <Route path=\"/signin\" exact render={() => <SignInForm />} />\r\n            <Route path=\"/signup\" exact render={() => <SignUpForm />} />\r\n            <Route path=\"/recipes\" exact render={() => <RecipeGrid />} />\r\n            <Route path=\"/recipes/:id\" exact render={() => <RecipePage />} />\r\n            <Route path=\"/recipes/edit/:id\" exact render={() => <RecipeEditForm />} />\r\n            <Route path=\"/profiles/followed\" exact render={() => <FollowedProfiles />} />\r\n            <Route path=\"/recipe/create\" exact render={() => <RecipeCreateForm />} />\r\n            <Route path=\"/profiles/:id\" exact render={() => <ProfilePage />} />\r\n            <Route\r\n            exact\r\n            path=\"/profiles/:id/edit/username\"\r\n            render={() => <UsernameForm />}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/profiles/:id/edit/password\"\r\n            render={() => <UserPasswordForm />}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/profiles/:id/edit\"\r\n            render={() => <ProfileEditForm />}\r\n          />\r\n            {/* Fallback route for unmatched paths */}\r\n            <Route render={() => <NotFound />} />\r\n          </Switch>\r\n      </Container>\r\n      <Footer />\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { CurrentUserProvider } from './contexts/CurrentUserContext';\r\nimport { ProfileDataProvider } from \"./contexts/ProfileDataContext\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n      <CurrentUserProvider>\r\n        <ProfileDataProvider>\r\n          <App />\r\n        </ProfileDataProvider>\r\n      </CurrentUserProvider>\r\n    </Router>\r\n\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"SignInUpForm_Wrapper__o94eQ\",\"Row\":\"SignInUpForm_Row__nmqMp\",\"Input\":\"SignInUpForm_Input__2qBaF\",\"FormGroup\":\"SignInUpForm_FormGroup__dXSym\",\"Header\":\"SignInUpForm_Header__1Tvq-\",\"Link\":\"SignInUpForm_Link__-7El5\",\"Container\":\"SignInUpForm_Container__gFiw5\",\"SignInCol\":\"SignInUpForm_SignInCol__mPy2c\",\"SignUpCol\":\"SignInUpForm_SignUpCol__2CTBS\",\"Alert\":\"SignInUpForm_Alert__SAHey\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__XwwGr\",\"font-merriweather-sans\":\"App_font-merriweather-sans__2zlpB\",\"Main\":\"App_Main__3IDkh\",\"Content\":\"App_Content__2eThI\",\"FillerImage\":\"App_FillerImage__2Jgnx\",\"Image\":\"App_Image__GYcZT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"RecipeCard\":\"Recipe_RecipeCard__24E0S\",\"CardBottom\":\"Recipe_CardBottom__S6nkX\",\"Stars\":\"Recipe_Stars__3mp_h\",\"TagsText\":\"Recipe_TagsText__2lu2D\",\"Headings\":\"Recipe_Headings__9CkjI\",\"HeartButton\":\"Recipe_HeartButton__wrZiw\",\"RecipePageImage\":\"Recipe_RecipePageImage__1lpdR\",\"RecipeSummary\":\"Recipe_RecipeSummary__3g-aB\",\"RecipePageImageContainer\":\"Recipe_RecipePageImageContainer__1gc5S\",\"RatingCounter\":\"Recipe_RatingCounter__ZXyZ-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavBar\":\"NavBar_NavBar__dhY2H\",\"NavDropdown\":\"NavBar_NavDropdown__1Vz8z\",\"NavLink\":\"NavBar_NavLink__1HAty\",\"Container\":\"NavBar_Container__3QUIL\",\"LoggedInIcons\":\"NavBar_LoggedInIcons__22jA6\",\"Active\":\"NavBar_Active__1nttR\",\"Brand\":\"NavBar_Brand__bK90W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImagePreview\":\"ReviewCreateEditForm_ImagePreview__fXM1D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FilterCol\":\"RecipeGrid_FilterCol__1cfv0\",\"RecipeGrid\":\"RecipeGrid_RecipeGrid__ONLfE\",\"SearchBar\":\"RecipeGrid_SearchBar__2JQn3\",\"SearchIcon\":\"RecipeGrid_SearchIcon__3WR5X\",\"LoadMoreBtnRow\":\"RecipeGrid_LoadMoreBtnRow__1clvh\",\"MainRow\":\"RecipeGrid_MainRow__XLgko\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Home_Container__2kgFI\",\"SearchRow\":\"Home_SearchRow__2HxJj\",\"SearchInputGroup\":\"Home_SearchInputGroup__DB4E6\",\"SearchInput\":\"Home_SearchInput__2tkjT\",\"SearchButton\":\"Home_SearchButton__3vYSX\",\"btn\":\"Home_btn__34Zo6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"RecipeCreateEditForm_Container__wa-uW\",\"Text\":\"RecipeCreateEditForm_Text__kLq24\",\"RecipeFields\":\"RecipeCreateEditForm_RecipeFields__3_VtC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ReviewImage\":\"Review_ReviewImage__cM4J1\",\"ReviewImageModal\":\"Review_ReviewImageModal__25VkO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DropdownItem\":\"MoreDropdown_DropdownItem__TlPXM\",\"Absolute\":\"MoreDropdown_Absolute__278ww\",\"EditProfileButton\":\"MoreDropdown_EditProfileButton__2zx_9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileImage\":\"ProfilePage_ProfileImage__2Fk5g\",\"Username\":\"ProfilePage_Username__3OgXy\",\"UserBio\":\"ProfilePage_UserBio__3h0mj\"};"],"sourceRoot":""}